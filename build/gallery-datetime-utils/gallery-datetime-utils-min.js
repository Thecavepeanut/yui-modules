YUI.add("gallery-datetime-utils",function(d){function c(f){var e=f.toString();if(e.length<2){e="0"+e;}return e;}function b(e){return/^\d+$/.test(e);}d.DateTimeUtils={YEAR_POSITION:1,MONTH_POSITION:2,DAY_POSITION:3,DATE_FIELD_DELIMITER:"-",TIME_FIELD_DELIMITER:":",AM_STRING:"AM",PM_STRING:"PM",CLOCK_DISPLAY_TYPE:24,normalize:function(f,g){if(f instanceof Date){var e={year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:f.getHours(),minute:f.getMinutes(),date:f};return e;}var e=d.clone(f);if(e.date_str){if(d.Lang.isUndefined(e.year)&&d.Lang.isUndefined(e.month)&&d.Lang.isUndefined(e.day)){d.mix(e,a.parseDate(e.date_str));}delete e.date_str;}if(e.time_str){if(d.Lang.isUndefined(e.hour)&&d.Lang.isUndefined(e.minute)){d.mix(e,a.parseTime(e.time_str));}delete e.time_str;}else{if(d.Lang.isUndefined(e.hour)){e.hour=g.hour;e.minute=g.minute;}}e.date=new Date(e.year,e.month-1,e.day,e.hour,e.minute);return e;},formatDate:function(f){if(!f){return"";}else{if(d.Lang.isString(f)){return f;}}var e=[];if(f instanceof Date){e[a.YEAR_POSITION-1]=f.getFullYear().toString();e[a.MONTH_POSITION-1]=c(f.getMonth()+1);e[a.DAY_POSITION-1]=c(f.getDate());}else{e[a.YEAR_POSITION-1]=f.year.toString();e[a.MONTH_POSITION-1]=c(f.month);e[a.DAY_POSITION-1]=c(f.day);}return e.join(a.DATE_FIELD_DELIMITER);},parseDate:function(f){if(!f){return null;}else{if(!d.Lang.isString(f)){return f;}}var g=f.split(a.DATE_FIELD_DELIMITER);if(g.length!=3||!d.every(g,b)){throw Error("Unparseable date format.");}var e={year:parseInt(g[a.YEAR_POSITION-1],10),month:parseInt(g[a.MONTH_POSITION-1],10),day:parseInt(g[a.DAY_POSITION-1],10)};return e;},formatTime:function(f){if(!f){return"";}else{if(d.Lang.isString(f)){return f;}else{if(a.CLOCK_DISPLAY_TYPE==12){var e=a.TIME_FIELD_DELIMITER+c(f.minute)+" ";return(f.hour>12?(f.hour-12)+e+a.PM_STRING:f.hour+e+a.AM_STRING);}else{return f.hour+a.TIME_FIELD_DELIMITER+c(f.minute);}}}},parseTime:function(g){if(!g){return null;}else{if(!d.Lang.isString(g)){return g;}}var h=0;if(g.indexOf(a.AM_STRING)>0){g=d.Lang.trim(g.replace(a.AM_STRING,""));}else{if(g.indexOf(a.PM_STRING)>0){g=d.Lang.trim(g.replace(a.PM_STRING,""));h=12;}}var f=g.split(a.TIME_FIELD_DELIMITER);if(f.length!=2||!d.every(f,b)){throw Error("Unparseable time format.");}var e={hour:parseInt(f[0],10)+h,minute:parseInt(f[1],10)};return e;}};var a=d.DateTimeUtils;},"@VERSION@",{requires:["gallery-funcprog"]});