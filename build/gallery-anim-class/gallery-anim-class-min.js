YUI.add("gallery-anim-class",function(b){var g=["top","bottom","left","right","width","height","maxHeight","maxWidth","minHeight","minWidth","color","fontSize","fontSizeAdjust","fontWeight","textIndent","textShadow","wordSpacing","backgroundColor","backgroundPosition","backgroundOrigin","backgroundSize","outlineColor","outlineWidth","borderColor","borderSpacing","borderTop","borderRight","borderBottom","borderLeft","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderWidth","borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","margin","marginTop","marginRight","marginBottom","marginLeft","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","zIndex","opacity","boxShadow","letterSpacing","lineHeight","markerOffset","orphans","widows","size","fillOpacity","outlineOffset","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","stroke","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"];function f(j){return b.map(g,function(k){return j.getStyle(k);});}function d(j){return/[#0-9]/.test(j);}function c(j,l,k){if(k.cssClass){j.removeClass(k.cssClass);}if(l.cssClass){j.addClass(l.cssClass);}}function e(j,l,k){if(l.cssClass){j.removeClass(l.cssClass);}if(k.cssClass){j.addClass(k.cssClass);}}var a=b.Anim.prototype._start;b.Anim.prototype._start=function(){var k=this.get("node"),n=this.get("from")||{},m=this.get("to")||{};delete this._class_diff_attr;if(n.cssClass||m.cssClass){e(k,n,m);var j=f(k);c(k,n,m);var l=f(k);if(this.get("reverse")){e(k,n,m);}this._class_diff_attr={fromClass:n.cssClass,from:[],toClass:m.cssClass,to:[]};b.each(j,function(q,p){var r=l[p];if(q!==r){var o=g[p];if(!n[o]&&d(r)){this._class_diff_attr.from.push(o);n[o]=r;}if(!m[o]&&d(q)){this._class_diff_attr.to.push(o);m[o]=q;}}},this);delete n.cssClass;this.set("from",n);delete m.cssClass;this.set("to",m);}a.apply(this,arguments);};var h=b.Anim.prototype._runFrame;b.Anim.prototype._runFrame=function(){var j=this.get("reverse");if(!j&&this._class_diff_attr&&this._class_diff_attr.fromClass){this.get("node").removeClass(this._class_diff_attr.fromClass);}else{if(j&&this._class_diff_attr&&this._class_diff_attr.toClass){this.get("node").removeClass(this._class_diff_attr.toClass);}}h.apply(this,arguments);};var i=b.Anim.prototype._end;b.Anim.prototype._end=function(){if(this._class_diff_attr){var j=this.get("node"),l=this.get("from")||{},k=this.get("to")||{};b.each(this._class_diff_attr.from,function(m){delete l[m];});l.cssClass=this._class_diff_attr.fromClass;this.set("from",l);b.each(this._class_diff_attr.to,function(m){delete k[m];j.setStyle(m,"");});k.cssClass=this._class_diff_attr.toClass;this.set("to",k);if(this.get("reverse")){c(j,l,k);}else{e(j,l,k);}}i.apply(this,arguments);};},"@VERSION@",{requires:["anim-base","node-style","gallery-funcprog"]});