YUI.add("gallery-expiration-cache",function(d){function b(e){this._store=e.store||new d.InstanceManager();this._meta=e.meta||c;this._expire=d.Lang.isNumber(e.expire)?d.rbind(a,null,e.expire):e.expire;}function c(){return new Date().getTime();}function a(g,f,h){var e=new Date().getTime()-g;return(e>h);}b.prototype={get:function(f){var e=this._store.get(f);if(e&&this._expire(e.meta,e.data)){this._store.remove(f);}else{if(e){return e.data;}}},put:function(g,e){var f={data:e,meta:this._meta(e)};return this._store.put(g,f);},replace:function(g,e){var f=this._store.remove(g);this.put(g,e);if(f){return f.data;}},remove:function(f){var e=this._store.remove(f);if(e){return e.data;}},clear:function(){this._store.clear();},clean:function(){d.each(this._store.keys(),this.get,this);}};d.ExpirationCache=b;},"@VERSION@",{requires:["gallery-instancemanager"]});