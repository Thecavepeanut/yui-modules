YUI.add("gallery-mojito-rpc",function(e,t){"use strict";function n(t){this._mojit_proxy=t.url,e.Lang.isArray(t.methods)&&e.each(t.methods,e.bind(n.addMethod,null,this))}n.addMethod=function(t,n,r){if(t[n]&&!r)return;t[n]=function(){var t=e.Array(arguments,0,!0),r=t[t.length-1],i;if(e.Lang.isFunction(r)||r&&r.on&&(r.on.success||r.on.failure))i=t.pop();return this.exec(n,t,i)}},n.prototype={exec:function(t,n,r){var i={params:{body:{params:n}}};e.Lang.isFunction(r)&&(r={on:{success:r}}),this._mojit_proxy.invoke(t,i,function(e,t){var n={id:null,error:null,result:t};e&&r.on.failure?(n.error={code:-32e3,message:e.message},r.on.failure.call(r.context,n)):!e&&r&&r.on.success.call(r.context,n)})}};var r=e.namespace("RPC");r.Mojito=n,r.mojito=function(t,r,i,s,o){if(t&&r)return(new n(e.mix({url:t},o))).exec(r,i,s)}},"@VERSION@",{requires:["oop"]});
