YUI.add("gallery-node-event-set",function(e,t){"use strict";function n(t,n,r,i){var s=t.call(this,r);n.apply(this,e.Array(arguments,2)),this.fire(r+"Set",{prevVal:s,newVal:i})}function r(t,n,r){var i={};e.each(r,function(e,n){i[n]=t.call(this,n)},this),n.apply(this,e.Array(arguments,2)),e.each(r,function(e,t){this.fire(t+"Set",{prevVal:i[t],newVal:e})},this)}function i(){this._event_set_patched_set=!0,this.set=e.bind(n,this,this.get,this.set),this.setAttrs=e.bind(r,this,this.get,this.setAttrs),this.setAttribute=e.bind(n,this,this.getAttribute,this.setAttribute),this.setStyle=e.bind(n,this,this.getStyle,this.setStyle),this.setStyles=e.bind(r,this,this.getStyle,this.setStyles)}function s(){this._event_set_patched_data=!0;var t=this.setData;this.setData=function(n,r){if(arguments.length>1)var i=this.getData(n);else{var s={};e.each(this.getData(),function(e,t){s[t]={prevVal:e}})}t.apply(this,arguments),arguments.length>1?this.fire("dataSet",{dataKey:n,prevVal:i,newVal:r}):(e.each(n,function(e,t){s[t]?s[t].newVal=e:s[t]={newVal:e}}),e.each(s,function(e,t){this.fire("dataSet",{dataKey:t,prevVal:e.prevVal,newVal:e.newVal})},this))};var n=this.clearData;this.clearData=function(t){if(t)var r=this.getData(t);else var i=this.getData();n.apply(this,arguments),t?this.fire("dataSet",{dataKey:t,prevVal:r}):e.each(i,function(e,t){this.fire("dataSet",{dataKey:t,prevVal:e})},this)}}function o(){this._event_set_patched_class=!0;var e=this.addClass;this.addClass=function(t){if(this.hasClass(t))return;var n=this.get("className");e.apply(this,arguments),this._event_set_do_not_fire_add_remove_class||this.fire("classNameSet",{prevVal:n,newVal:this.get("className"),addedClass:t})};var t=this.removeClass;this.removeClass=function(e){if(!this.hasClass(e))return;var n=this.get("className");t.apply(this,arguments),this._event_set_do_not_fire_add_remove_class||this.fire("classNameSet",{prevVal:n,newVal:this.get("className"),removedClass:e})};var n=this.replaceClass;this.replaceClass=function(e,t){this._event_set_do_not_fire_add_remove_class=!0;var r=this.get("className"),i=this.hasClass(e);n.apply(this,arguments);var s={prevVal:r,newVal:this.get("className"),addedClass:t};i&&(s.removedClass=e),this.fire("classNameSet",s),this._event_set_do_not_fire_add_remove_class=!1}}function u(t,n){var r=this.getXY();t.apply(this,e.Array(arguments,1)),this.fire("xySet",{prevVal:r,newVal:this.getXY()})}function a(){this._event_set_patched_xy=!0,this.setX=e.bind(u,this,this.setX),this.setY=e.bind(u,this,this.setY),this.setXY=e.bind(u,this,this.setXY)}var f=e.Node.prototype.on;e.Node.prototype.on=function(e,t,n){return e.length>3&&e.charAt&&e.charAt(e.length-3)=="S"&&e.charAt(e.length-2)=="e"&&e.charAt(e.length-1)=="t"&&(e=="dataSet"?this._event_set_patched_data||s.call(this):e=="classNameSet"?(this._event_set_patched_class||o.call(this),this._event_set_patched_set||i.call(this)):e=="xySet"?this._event_set_patched_xy||a.call(this):this._event_set_patched_set||i.call(this),this.publish(e,{emitFacade:!0})),f.apply(this,arguments)}},"@VERSION@",{requires:["node-base"],optional:["node-data","node-screen","node-style","event-custom-complex"]});
