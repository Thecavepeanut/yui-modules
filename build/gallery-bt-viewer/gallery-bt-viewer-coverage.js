if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-bt-viewer/gallery-bt-viewer.js']) {
   __coverage__['build/gallery-bt-viewer/gallery-bt-viewer.js'] = {"path":"build/gallery-bt-viewer/gallery-bt-viewer.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":29},"end":{"line":1,"column":48}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":16},"end":{"line":22,"column":29}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":21},"end":{"line":28,"column":34}}},"4":{"name":"(anonymous_4)","line":51,"loc":{"start":{"line":51,"column":17},"end":{"line":51,"column":29}}},"5":{"name":"(anonymous_5)","line":60,"loc":{"start":{"line":60,"column":16},"end":{"line":60,"column":28}}},"6":{"name":"(anonymous_6)","line":66,"loc":{"start":{"line":66,"column":14},"end":{"line":66,"column":26}}},"7":{"name":"(anonymous_7)","line":80,"loc":{"start":{"line":80,"column":20},"end":{"line":80,"column":33}}},"8":{"name":"(anonymous_8)","line":84,"loc":{"start":{"line":84,"column":31},"end":{"line":84,"column":44}}},"9":{"name":"(anonymous_9)","line":111,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":31}}},"10":{"name":"(anonymous_10)","line":134,"loc":{"start":{"line":134,"column":20},"end":{"line":134,"column":33}}},"11":{"name":"(anonymous_11)","line":150,"loc":{"start":{"line":150,"column":19},"end":{"line":150,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":166,"column":3}},"2":{"start":{"line":10,"column":0},"end":{"line":154,"column":3}},"3":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"4":{"start":{"line":24,"column":12},"end":{"line":24,"column":41}},"5":{"start":{"line":29,"column":8},"end":{"line":30,"column":44}},"6":{"start":{"line":32,"column":8},"end":{"line":32,"column":27}},"7":{"start":{"line":33,"column":8},"end":{"line":33,"column":38}},"8":{"start":{"line":34,"column":8},"end":{"line":34,"column":38}},"9":{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},"10":{"start":{"line":36,"column":8},"end":{"line":36,"column":26}},"11":{"start":{"line":52,"column":8},"end":{"line":56,"column":9}},"12":{"start":{"line":53,"column":12},"end":{"line":53,"column":53}},"13":{"start":{"line":54,"column":12},"end":{"line":54,"column":86}},"14":{"start":{"line":57,"column":8},"end":{"line":57,"column":63}},"15":{"start":{"line":61,"column":8},"end":{"line":61,"column":36}},"16":{"start":{"line":62,"column":8},"end":{"line":62,"column":40}},"17":{"start":{"line":63,"column":8},"end":{"line":63,"column":38}},"18":{"start":{"line":67,"column":8},"end":{"line":69,"column":24}},"19":{"start":{"line":71,"column":8},"end":{"line":71,"column":34}},"20":{"start":{"line":72,"column":8},"end":{"line":72,"column":51}},"21":{"start":{"line":74,"column":8},"end":{"line":76,"column":9}},"22":{"start":{"line":75,"column":12},"end":{"line":75,"column":42}},"23":{"start":{"line":78,"column":8},"end":{"line":78,"column":39}},"24":{"start":{"line":80,"column":8},"end":{"line":89,"column":11}},"25":{"start":{"line":81,"column":12},"end":{"line":88,"column":13}},"26":{"start":{"line":82,"column":16},"end":{"line":82,"column":29}},"27":{"start":{"line":84,"column":16},"end":{"line":87,"column":19}},"28":{"start":{"line":85,"column":20},"end":{"line":85,"column":40}},"29":{"start":{"line":86,"column":20},"end":{"line":86,"column":47}},"30":{"start":{"line":98,"column":8},"end":{"line":100,"column":11}},"31":{"start":{"line":102,"column":8},"end":{"line":102,"column":53}},"32":{"start":{"line":112,"column":8},"end":{"line":112,"column":64}},"33":{"start":{"line":135,"column":16},"end":{"line":135,"column":35}},"34":{"start":{"line":136,"column":16},"end":{"line":136,"column":53}},"35":{"start":{"line":151,"column":12},"end":{"line":151,"column":58}},"36":{"start":{"line":156,"column":0},"end":{"line":156,"column":38}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":8}},{"start":{"line":23,"column":8},"end":{"line":23,"column":8}}]},"2":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":74,"column":8}},{"start":{"line":74,"column":8},"end":{"line":74,"column":8}}]},"3":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":81,"column":12}},{"start":{"line":81,"column":12},"end":{"line":81,"column":12}}]},"4":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":19},"end":{"line":151,"column":48}},{"start":{"line":151,"column":52},"end":{"line":151,"column":57}}]}},"code":["(function () { YUI.add('gallery-bt-viewer', function (Y, NAME) {","","/**"," * Provide Viewer class to place html, text and images."," *"," * @module gallery-bt-viewer"," * @static"," */","","var WIDTH_CHANGE = 'widthChange',","","    PREFIX = 'bvi_',","","    CLASSES = {","        IMAGE: PREFIX + 'image',","        BOTTON: PREFIX + 'botton',","        EXPAND: PREFIX + 'expand'","    },","","    HTML_BTN = '<span class=\"' + CLASSES.BOTTON + '\"></span>',","","    initImage = function (O) {","        if (O.get('naturalWidth') > O.get('offsetWidth')) {","            O.insert(HTML_BTN, 'before');","        }","    },","","    handleClickBtn = function (E) {","        var O = E.currentTarget,","            I = O.next('.' + CLASSES.IMAGE);","","        E.preventDefault();","        O.toggleClass(CLASSES.EXPAND);","        I.toggleClass(CLASSES.EXPAND);","        this._uiDimensionsChange();","        this.syncScroll();","    },","","/**"," * is a Widget provides a HTML Viewer interface. When contents or images are wider then device, Viewer can be scroll horizontally. And, from beginning, all images in Viewer are scaled down to fit the device width, and a 'expand' button will be provided for each scaled images."," *"," * @class Viewer"," * @constructor"," * @namespace Bottle"," * @extends ScrollView"," * @uses Bottle.SyncScroll"," * @uses Y.zui.Attribute"," * @param [config] {Object} Object literal with initial attribute values"," */","Viewer = Y.Base.create('btviewer', Y.ScrollView, [Y.Bottle.SyncScroll, Y.zui.Attribute], {","    initializer: function () {","        try {","            this.setAttrs({flick: false, bounce: 0});","            this.setAttrs(Y.JSON.parse(this.get('contentBox').getData('cfg-scroll')));","        } catch (e) {","        }","        this.set('syncScrollMethod', this._uiDimensionsChange);","    },","","    destructor: function () {","        this.unplug(Y.zui.RAScroll);","        this._bviEventHandlers.detach();","        delete this._bviEventHandlers;","    },","","    renderUI: function () {","        var cnt = this.get('contentBox'),","            images = this.get('imageNode'),","            that = this;","","        this.plug(Y.zui.RAScroll);","        this.unplug(Y.Plugin.ScrollViewScrollbars);","","        if (!Y.Bottle.Device.getTouchSupport()) {","            this.plug(Y.zui.ScrollHelper);","        }","","        images.addClass(CLASSES.IMAGE);","","        images.each(function (O) {","            if (O.get('naturalWidth')) {","                initImage(O);","            } else {","                O.once('load', function (E) {","                    initImage(E.target);","                    that._uiDimensionsChange();","                });","            }","        });","","        /**","         * internal eventhandlers, keep for destructor","         *","         * @property _bviEventHandlers","         * @type EventHandle","         * @private","         */","        this._bviEventHandlers = new Y.EventHandle([","            cnt.delegate('click', handleClickBtn, '.' + CLASSES.BOTTON, this)","        ]);","","        Y.once('btNative', this._nativeScroll, this);","    },","","    /**","     * toggle internal scrollview to support nativeScroll mode","     *","     * @method _nativeScroll","     * @protected","     */","    _nativeScroll: function () {","        this._prevent = {move: false, start: false, end: false};","    }","}, {","    /**","     * Static property used to define the default attribute configuration.","     *","     * @property ATTRS","     * @type Object","     * @static","     * @protected","     */","    ATTRS: {","        /**","         * Default image node css selector. After the Widget initialized, the attribute will become the NodeList object.","         *","         * @attribute imageNode","         * @type {{String|NodeList}}","         * @default 'img'","         */","        imageNode: {","            writeOnce: true,","            lazyAdd: false,","            setter: function (V) {","                this._imageCSS = V;","                return this.get('contentBox').all(V);","            }","        }","    },","","    /**","     * Static property used to define the default HTML parsing rules","     *","     * @property HTML_PARSER","     * @static","     * @protected","     * @type Object","     */","    HTML_PARSER: {","        imageNode: function (srcNode) {","            return srcNode.getData('image-node') || 'img';","        }","    }","});","","Y.namespace('Bottle').Viewer = Viewer;","","","}, 'gallery-2012.12.05-21-01', {","    \"requires\": [","        \"gallery-bt-syncscroll\",","        \"gallery-zui-rascroll\",","        \"gallery-zui-attribute\",","        \"gallery-zui-scrollhelper\"","    ]","});","","}());"]};
}
var __cov_boYtTeYfJoWjmEqsNBZgYQ = __coverage__['build/gallery-bt-viewer/gallery-bt-viewer.js'];
__cov_boYtTeYfJoWjmEqsNBZgYQ.s['1']++;YUI.add('gallery-bt-viewer',function(Y,NAME){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['1']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['2']++;var WIDTH_CHANGE='widthChange',PREFIX='bvi_',CLASSES={IMAGE:PREFIX+'image',BOTTON:PREFIX+'botton',EXPAND:PREFIX+'expand'},HTML_BTN='<span class="'+CLASSES.BOTTON+'"></span>',initImage=function(O){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['2']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['3']++;if(O.get('naturalWidth')>O.get('offsetWidth')){__cov_boYtTeYfJoWjmEqsNBZgYQ.b['1'][0]++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['4']++;O.insert(HTML_BTN,'before');}else{__cov_boYtTeYfJoWjmEqsNBZgYQ.b['1'][1]++;}},handleClickBtn=function(E){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['3']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['5']++;var O=E.currentTarget,I=O.next('.'+CLASSES.IMAGE);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['6']++;E.preventDefault();__cov_boYtTeYfJoWjmEqsNBZgYQ.s['7']++;O.toggleClass(CLASSES.EXPAND);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['8']++;I.toggleClass(CLASSES.EXPAND);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['9']++;this._uiDimensionsChange();__cov_boYtTeYfJoWjmEqsNBZgYQ.s['10']++;this.syncScroll();},Viewer=Y.Base.create('btviewer',Y.ScrollView,[Y.Bottle.SyncScroll,Y.zui.Attribute],{initializer:function(){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['4']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['11']++;try{__cov_boYtTeYfJoWjmEqsNBZgYQ.s['12']++;this.setAttrs({flick:false,bounce:0});__cov_boYtTeYfJoWjmEqsNBZgYQ.s['13']++;this.setAttrs(Y.JSON.parse(this.get('contentBox').getData('cfg-scroll')));}catch(e){}__cov_boYtTeYfJoWjmEqsNBZgYQ.s['14']++;this.set('syncScrollMethod',this._uiDimensionsChange);},destructor:function(){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['5']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['15']++;this.unplug(Y.zui.RAScroll);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['16']++;this._bviEventHandlers.detach();__cov_boYtTeYfJoWjmEqsNBZgYQ.s['17']++;delete this._bviEventHandlers;},renderUI:function(){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['6']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['18']++;var cnt=this.get('contentBox'),images=this.get('imageNode'),that=this;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['19']++;this.plug(Y.zui.RAScroll);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['20']++;this.unplug(Y.Plugin.ScrollViewScrollbars);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['21']++;if(!Y.Bottle.Device.getTouchSupport()){__cov_boYtTeYfJoWjmEqsNBZgYQ.b['2'][0]++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['22']++;this.plug(Y.zui.ScrollHelper);}else{__cov_boYtTeYfJoWjmEqsNBZgYQ.b['2'][1]++;}__cov_boYtTeYfJoWjmEqsNBZgYQ.s['23']++;images.addClass(CLASSES.IMAGE);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['24']++;images.each(function(O){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['7']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['25']++;if(O.get('naturalWidth')){__cov_boYtTeYfJoWjmEqsNBZgYQ.b['3'][0]++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['26']++;initImage(O);}else{__cov_boYtTeYfJoWjmEqsNBZgYQ.b['3'][1]++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['27']++;O.once('load',function(E){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['8']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['28']++;initImage(E.target);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['29']++;that._uiDimensionsChange();});}});__cov_boYtTeYfJoWjmEqsNBZgYQ.s['30']++;this._bviEventHandlers=new Y.EventHandle([cnt.delegate('click',handleClickBtn,'.'+CLASSES.BOTTON,this)]);__cov_boYtTeYfJoWjmEqsNBZgYQ.s['31']++;Y.once('btNative',this._nativeScroll,this);},_nativeScroll:function(){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['9']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['32']++;this._prevent={move:false,start:false,end:false};}},{ATTRS:{imageNode:{writeOnce:true,lazyAdd:false,setter:function(V){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['10']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['33']++;this._imageCSS=V;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['34']++;return this.get('contentBox').all(V);}}},HTML_PARSER:{imageNode:function(srcNode){__cov_boYtTeYfJoWjmEqsNBZgYQ.f['11']++;__cov_boYtTeYfJoWjmEqsNBZgYQ.s['35']++;return(__cov_boYtTeYfJoWjmEqsNBZgYQ.b['4'][0]++,srcNode.getData('image-node'))||(__cov_boYtTeYfJoWjmEqsNBZgYQ.b['4'][1]++,'img');}}});__cov_boYtTeYfJoWjmEqsNBZgYQ.s['36']++;Y.namespace('Bottle').Viewer=Viewer;},'gallery-2012.12.05-21-01',{'requires':['gallery-bt-syncscroll','gallery-zui-rascroll','gallery-zui-attribute','gallery-zui-scrollhelper']});
