YUI.add("gallery-complexnumber",function(c){function b(e,d){this.r=e||0;this.i=d||0;}b.fromPolar=function(e,d){return new b(e*Math.cos(d),e*Math.sin(d));};b.prototype={real:function(){return this.r;},imag:function(){return this.i;},magnitude:function(){return a.abs(this);},phase:function(){return Math.atan2(this.i,this.r);},add:function(d){if(a.isComplexNumber(d)){this.r+=d.r;this.i+=d.i;}else{this.r+=d;}return this;},subtract:function(d){if(a.isComplexNumber(d)){this.r-=d.r;this.i-=d.i;}else{this.r-=d;}return this;},multiply:function(d){if(a.isComplexNumber(d)){var f=this.r*d.r-this.i*d.i;var e=this.r*d.i+this.i*d.r;this.r=f;this.i=e;}else{this.r*=d;this.i*=d;}return this;},divide:function(e){if(a.isComplexNumber(e)){var d=a.divide(this,e);this.r=d.r;this.i=d.i;}else{this.r/=e;this.i/=e;}return this;},toString:function(){function d(e){return e===1?"i":e===-1?"-i":e+"i";}if(this.i===0){return this.r.toString();}else{if(this.r===0){return d(this.i);}else{return this.r+(this.i>0?"+":"")+d(this.i);}}}};c.ComplexNumber=b;var a={ZERO:new b(),I:new b(0,1),isComplexNumber:function(d){return((d instanceof b)||(d.hasOwnProperty("r")&&d.hasOwnProperty("i")));},add:function(){var d=new b(0,0);c.Array.each(arguments,function(e){if(c.Lang.isArray(e)){e=a.add.apply(this,e);}d.add(e);});return d;},subtract:function(g,f){var e=a.isComplexNumber(g),d=a.isComplexNumber(f);if(e&&d){return new b(g.r-f.r,g.i-f.i);}else{if(e){return new b(g.r-f,g.i);}else{if(d){return new b(g-f.r,-f.i);}else{return new b(g-f,0);}}}},multiply:function(){var d=new b(1,0);c.Array.each(arguments,function(e){if(c.Lang.isArray(e)){e=a.multiply.apply(this,e);}d.multiply(e);});return d;},divide:function(i,h){var f=a.isComplexNumber(i),e=a.isComplexNumber(h);if(f&&e){var g=h.r*h.r+h.i*h.i;return new b((i.r*h.r+i.i*h.i)/g,(i.i*h.r-i.r*h.i)/g);}else{if(f){return new b(i.r/h,i.i/h);}else{if(e){var g=h.r*h.r+h.i*h.i;return new b((i*h.r)/g,(-i*h.i)/g);}else{return new b(i/h,0);}}}},abs:function(d){if(a.isComplexNumber(d)){return Math.sqrt(d.r*d.r+d.i*d.i);}else{return new b(Math.abs(d),0);}},acosh:function(d){if(a.isComplexNumber(d)){var e=a.multiply(d,d);return a.log(a.add(d)+a.sqrt(new b(e.r-1,e.i)));}else{return new b(Math.acosh(d),0);}},asinh:function(d){if(a.isComplexNumber(d)){var e=a.multiply(d,d);return a.log(a.add(d)+a.sqrt(new b(e.r+1,e.i)));}else{return new b(Math.asinh(d),0);}},atanh:function(d){if(a.isComplexNumber(d)){var e=a.log(a.divide(new b(1+d.r,d.i),new b(1-d.r,-d.i)));return new a(e.r/2,e.i/2);}else{return new b(Math.atanh(d),0);}},cos:function(d){if(a.isComplexNumber(d)){return new b(Math.cos(d.r)*Math.cosh(d.i),-Math.sin(d.r)*Math.sinh(d.i));}else{return new b(Math.cos(d),0);}},cosh:function(d){if(a.isComplexNumber(d)){var e=a.add(a.exp(d),a.exp(new b(-d.r,-d.i)));return new b(e.r/2,e.i/2);}else{return new b(Math.cosh(d),0);}},exp:function(d){if(a.isComplexNumber(d)){var e=new b(Math.cos(d.i),Math.sin(d.i));e.multiply(Math.exp(d.r));return e;}else{return new b(Math.exp(d),0);}},log:function(d){if(a.isComplexNumber(d)){return new b(Math.log(d.magnitude()),d.phase());}else{return new b(Math.log(d),0);}},parallel:function(e,d){if(a.isComplexNumber(e)||a.isComplexNumber(d)){return a.divide(a.multiply(e,d),a.add(e,d));}else{return new b(Math.parallel(e,d),0);}},pow:function(d,f){return a.exp(a.multiply(a.log(d),f));},sin:function(d){if(a.isComplexNumber(d)){return new b(Math.sin(d.r)*Math.cosh(d.i),Math.cos(d.r)*Math.sinh(d.i));}else{return new b(Math.cos(d),0);}},sinh:function(d){if(a.isComplexNumber(d)){var e=a.subtract(a.exp(d),a.exp(new b(-d.r,-d.i)));return new b(e.r/2,e.i/2);}else{return new b(Math.sinh(d),0);}},sqrt:function(d){var e=a.isComplexNumber(d);return b.fromPolar(Math.sqrt(e?d.magnitude():Math.abs(d)),(e?d.phase():d<0?Math.PI:0)/2);},tan:function(d){if(a.isComplexNumber(d)){return a.divide(a.sin(d),a.cos(d));}else{return new b(Math.tan(d),0);}},tanh:function(d){if(a.isComplexNumber(d)){var f=a.exp(new b(2*d.r,2*d.i));return a.divide(new b(f.r-1,f.i),new b(f.r+1,f.i));}else{return new b(Math.tanh(d),0);}}};c.ComplexMath=a;},"@VERSION@",{requires:["gallery-math"]});