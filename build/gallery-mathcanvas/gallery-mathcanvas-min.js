YUI.add("gallery-mathcanvas",function(d){function j(){this.list=[];}j.width=function(K){return K.right-K.left;};j.height=function(K){return K.bottom-K.top;};j.xcenter=function(K){return Math.floor((K.left+K.right)/2);};j.ycenter=function(K){return Math.floor((K.top+K.bottom)/2);};j.cover=function(L,K){var M={top:Math.min(L.top,K.top),left:Math.min(L.left,K.left),bottom:Math.max(L.bottom,K.bottom),right:Math.max(L.right,K.right)};return M;};j.prototype={add:function(N,L,K,M){this.list.push({rect:N,midline:L,font_size:K,func:M});return this.list.length-1;},get:function(K){return this.list[K];},find:function(K){return d.Array.find(this.list,function(L){return(L.func===K);});},findIndex:function(K){return d.Array.indexOf(this.list,this.find(K));},shift:function(M,L,K){if(L===0&&K===0){return;}var N=this.list[M];var O=d.clone(N.rect);N.rect.top+=K;N.rect.left+=L;N.rect.bottom+=K;N.rect.right+=L;N.midline+=K;d.Array.each(this.list,function(P){if(O.left<=P.rect.left&&P.rect.right<=O.right&&O.top<=P.rect.top&&P.rect.bottom<=O.bottom){P.rect.top+=K;P.rect.left+=L;P.rect.bottom+=K;P.rect.right+=L;P.midline+=K;}});},setMidline:function(K,L){this.shift(K,0,L-this.list[K].midline);},getBounds:function(){return this.list[this.list.length-1].rect;}};function C(){}C.prototype={prepareToRender:function(N,M,L,K){var O=this.toString();var P={top:M.y,left:M.x,bottom:M.y+N.getLineHeight(L),right:M.x+N.getStringWidth(L,O)};return K.add(P,j.ycenter(P),L,this);},render:function(L,K){var M=K.find(this);L.drawString(M.rect.left,M.midline,M.font_size,this.toString());},parenthesizeForPrint:function(K){return(this instanceof b);},parenthesizeForRender:function(K){return(this instanceof b);}};C.updateSum=function(K,L){if(K instanceof i){K.appendArg(L);return K;}else{return new i(K,L);}};C.updateProduct=function(K,L){if(K instanceof J){K.appendArg(L);return K;}else{return new J(K,L);}};d.MathFunction=C;function F(L){F.superclass.constructor.call(this);var K=d.Lang.isString(L);if(K&&(L.indexOf(".")>=0||(!/x/i.test(L)&&/e/i.test(L)))){this.value=parseFloat(L);}else{if(K){this.value=parseInt(L);}else{this.value=L;}}}d.extend(F,C,{evaluate:function(){return this.value;},toString:function(){return this.value;}});C.Value=F;function u(){u.superclass.constructor.call(this);}d.extend(u,C,{evaluate:function(){return Math.PI;},toString:function(){return"\u03c0";}});C.Pi=u;function y(){y.superclass.constructor.call(this);}d.extend(y,C,{evaluate:function(){return Math.E;},toString:function(){return"e";}});C.E=y;function v(){v.superclass.constructor.call(this);}d.extend(v,C,{evaluate:function(){return d.ComplexMath.I;},toString:function(){return"i";}});C.I=v;function b(L,K){b.superclass.constructor.call(this);this.name=L;if(d.Lang.isArray(K)&&d.Lang.isArray(K[0])){K=K[0];}if(d.Lang.isArray(K)){this.args=d.Array(K);}else{this.args=[];for(var M=1;M<arguments.length;M++){this.args.push(arguments[M]);}}}d.extend(b,C,{appendArg:function(K){this.args.push(K);},replaceArg:function(K,M){var L=d.Array.indexOf(this.args,K);if(L>=0){this.args[L]=M;}},evaluateArgs:function(){var K=[];d.Array.each(this.args,function(L){K.push(L.evaluate());});return K;},prepareToRender:function(L,W,P,X){var K={top:W.y,left:W.x,bottom:W.y+L.getLineHeight(P),right:W.x+L.getStringWidth(P,this.name)};var U=j.ycenter(K);var V=U;var M={x:K.right,y:K.top};var S=L.getStringWidth(P,", ");var Z=this.args.length;var T=[];for(var R=0;R<Z;R++){var Q=this.args[R].prepareToRender(L,M,P,X);var O=X.get(Q);var N=O.rect;M.x=N.right+S;K=j.cover(K,N);U=Math.max(U,O.midline);T.push(Q);}if(Z>1&&U>V){for(var R=0;R<Z;R++){var Q=T[R];X.setMidline(Q,U);K=j.cover(K,X.get(Q).rect);}}var Y=L.getParenthesisWidth(K);for(var R=0;R<Z;R++){X.shift(T[R],Y,0);}K.right+=2*Y;return X.add(K,U,P,this);},render:function(N,K){var P=K.find(this);N.drawString(P.rect.left,P.midline,P.font_size,this.name);var O={top:P.rect.top,bottom:P.rect.bottom};for(var M=0;M<this.args.length;M++){this.args[M].render(N,K);var P=K.find(this.args[M]);var L=P.rect;if(M===0){O.left=L.left;}if(M<this.args.length-1){N.drawString(L.right,P.midline,P.font_size,",");}else{O.right=L.right;N.drawParentheses(O);}}},toString:function(){return this.name+"("+this.args.join(",")+")";}});C.FunctionWithArgs=b;function o(K){o.superclass.constructor.call(this,"-",K);}d.extend(o,b,{evaluate:function(){return d.ComplexMath.subtract(0,this.args[0].evaluate());},prepareToRender:function(M,Q,O,R){var N=d.clone(Q);N.x+=M.getStringWidth(O,"-");var S=this.args[0];var L={top:Q.y,left:Q.x,bottom:Q.y+M.getLineHeight(O),right:N.x};var T=S.prepareToRender(M,N,O,R);var K=R.get(T);if(S.parenthesizeForRender(this)){var P=M.getParenthesisWidth(K.rect);R.shift(T,P,0);L.right=K.rect.right+P;}L=j.cover(L,K.rect);return R.add(L,K.midline,O,this);},render:function(N,L){var O=L.find(this);N.drawString(O.rect.left,O.midline,O.font_size,"-");var K=this.args[0];K.render(N,L);if(K.parenthesizeForRender(this)){var M=L.find(K);N.drawParentheses(M.rect);}},toString:function(){var L="-";var K=this.args[0];if(K.parenthesizeForPrint(this)){L+="(";L+=K;L+=")";}else{L+=K;}return L;}});C.Negate=o;function i(){n.superclass.constructor.call(this,"+",new d.Array(arguments));}d.extend(i,b,{evaluate:function(){return d.ComplexMath.add(this.evaluateArgs());},prepareToRender:function(L,S,O,T){var M=d.clone(S);var K={top:S.y,left:S.x,bottom:S.y+L.getLineHeight(O),right:S.x};var Q=j.ycenter(K);var R=Q;var N=L.getStringWidth(O," ");var P=L.getStringWidth(O,"+");var U=L.getStringWidth(O,"-");d.Array.each(this.args,function(V,X){var Z=this;if(V instanceof o){if(X>0){M.x+=N;}M.x+=U+N;Z=V;V=V.args[0];}else{if(X>0){M.x+=P+2*N;}}var W=V.prepareToRender(L,M,O,T);var Y=T.get(W);M.x=Y.rect.right;if(V.parenthesizeForRender(Z)){var aa=L.getParenthesisWidth(Y.rect);T.shift(W,aa,0);M.x+=2*aa;K.right=Y.rect.right+aa;}K=j.cover(K,Y.rect);Q=Math.max(Q,Y.midline);},this);if(this.args.length>1&&Q>R){d.Array.each(this.args,function(V){if(V instanceof o){V=V.args[0];}var W=T.findIndex(V);T.setMidline(W,Q);
K=j.cover(K,T.get(W).rect);});}return T.add(K,Q,O,this);},render:function(M,L){var O=L.find(this);var K=O.rect.left;var N=M.getStringWidth(O.font_size," ");d.Array.each(this.args,function(P,Q){var S=this;if(P instanceof o){M.drawString(K,O.midline,O.font_size,"-");S=P;P=P.args[0];}else{if(Q>0){M.drawString(K,O.midline,O.font_size,"+");}}P.render(M,L);var R=L.find(P);K=R.rect.right;if(P.parenthesizeForRender(S)){M.drawParentheses(R.rect);K+=M.getParenthesisWidth(R.rect);}K+=N;},this);},toString:function(){var K="";d.Array.each(this.args,function(L,M){if(L instanceof o){K+="-";L=L.args[0];}else{if(M>0){K+="+";}}if(L.parenthesizeForPrint(this)){K+="(";K+=L;K+=")";}else{K+=L;}},this);return K;}});C.Sum=i;function J(){n.superclass.constructor.call(this,"*",new d.Array(arguments));}d.extend(J,b,{evaluate:function(){return d.ComplexMath.multiply(this.evaluateArgs());},prepareToRender:function(L,R,N,S){var M=d.clone(R);var K={top:R.y,left:R.x,bottom:R.y+L.getLineHeight(N),right:R.x};var O=j.ycenter(K);var Q=O;var P=L.getStringWidth(N,"\u00b7");d.Array.each(this.args,function(T,V){var U=T.prepareToRender(L,M,N,S);var W=S.get(U);M.x=W.rect.right+P;if(T.parenthesizeForRender(this)){var X=L.getParenthesisWidth(W.rect);S.shift(U,X,0);M.x+=2*X;K.right=W.rect.right+X;}K=j.cover(K,W.rect);O=Math.max(O,W.midline);},this);if(this.args.length>1&&O>Q){d.Array.each(this.args,function(T){var U=S.findIndex(T);S.setMidline(U,O);K=j.cover(K,S.get(U).rect);});}return S.add(K,O,N,this);},render:function(N,L){var O=L.find(this);var K=O.rect.left;var M=N.getStringWidth(O.font_size,"\u00b7");d.Array.each(this.args,function(P,Q){if(Q>0){N.drawString(K,O.midline,O.font_size,"\u00b7");}P.render(N,L);var R=L.find(P);K=R.rect.right;if(P.parenthesizeForRender(this)){N.drawParentheses(R.rect);K+=N.getParenthesisWidth(R.rect);}},this);},toString:function(){var K="";d.Array.each(this.args,function(L,M){if(M>0){K+="*";}if(L.parenthesizeForPrint(this)){K+="(";K+=L;K+=")";}else{K+=L;}},this);return K;}});C.Product=J;function t(K){t.superclass.constructor.call(this,"abs",K);}d.extend(t,b,{evaluate:function(){return d.ComplexMath.abs(this.args[0].evaluate());},prepareToRender:function(N,P,O,Q){var L=N.getVerticalBarWidth();var R=this.args[0];var S=R.prepareToRender(N,P,O,Q);var M=Q.get(S);Q.shift(S,L,0);var K={top:P.y,left:P.x,bottom:M.rect.bottom,right:M.rect.right+L};return Q.add(K,M.midline,O,this);},render:function(L,K){var N=K.find(this);L.drawVerticalBar(N.rect);this.args[0].render(L,K);var M=d.clone(N.rect);M.left=M.right-L.getVerticalBarWidth();L.drawVerticalBar(M);}});C.Magnitude=t;function m(K){m.superclass.constructor.call(this,"phase",K);}d.extend(m,b,{evaluate:function(){return d.ComplexMath.phase(this.args[0].evaluate());}});C.Phase=m;function E(){E.superclass.constructor.call(this,"min",new d.Array(arguments));}d.extend(E,b,{evaluate:function(){return Math.min.apply(null,this.evaluateArgs());}});C.Min=E;function n(){n.superclass.constructor.call(this,"max",new d.Array(arguments));}d.extend(n,b,{evaluate:function(){return Math.max.apply(null,this.evaluateArgs());}});C.Max=n;function p(K){p.superclass.constructor.call(this,"sqrt",K);}d.extend(p,b,{evaluate:function(){return d.ComplexMath.sqrt(this.args[0].evaluate());},prepareToRender:function(M,S,P,T){var U=this.args[0];var V=U.prepareToRender(M,S,P,T);var L=T.get(V);var R=j.height(L.rect);var O=1+Math.round(2*R/(4*Math.sqrt(3)));var Q=3;var N=4;T.shift(V,O,N);var K={top:S.y,left:S.x,bottom:L.rect.bottom,right:L.rect.right+Q};return T.add(K,L.midline,P,this);},render:function(L,K){var M=K.find(this);this._drawSquareRoot(L,M.rect);this.args[0].render(L,K);},_drawSquareRoot:function(M,O){var N=j.height(O);var K=O.left;var P=O.top+Math.round(3*N/4);var L=Math.round((N-3)/(4*Math.sqrt(3)));M.beginPath();M.moveTo(K,P);K+=L;P=O.bottom-1;M.lineTo(K,P);K+=L;P=O.top+2;M.lineTo(K,P);K=O.right-1;M.lineTo(K,P);M.line(0,Math.round(N/8));M.stroke();}});C.SquareRoot=p;function r(K){r.superclass.constructor.call(this,"ln",K);}d.extend(r,b,{evaluate:function(){return d.ComplexMath.log(this.args[0].evaluate());}});C.NaturalLog=r;function x(K){x.superclass.constructor.call(this,"sin",K);}d.extend(x,b,{evaluate:function(){return d.ComplexMath.sin(this.args[0].evaluate());}});C.Sine=x;function H(K){H.superclass.constructor.call(this,"cos",K);}d.extend(H,b,{evaluate:function(){return d.ComplexMath.cos(this.args[0].evaluate());}});C.Cosine=H;function I(K){I.superclass.constructor.call(this,"tan",K);}d.extend(I,b,{evaluate:function(){return d.ComplexMath.tan(this.args[0].evaluate());}});C.Tangent=I;function l(K){l.superclass.constructor.call(this,"arcsin",K);}d.extend(l,b,{evaluate:function(){return Math.asin(this.args[0].evaluate());}});C.Arcsine=l;function e(K){e.superclass.constructor.call(this,"arccos",K);}d.extend(e,b,{evaluate:function(){return Math.acos(this.args[0].evaluate());}});C.Arccosine=e;function w(K){w.superclass.constructor.call(this,"arctan",K);}d.extend(w,b,{evaluate:function(){return Math.atan(this.args[0].evaluate());}});C.Arctangent=w;function z(L,K){z.superclass.constructor.call(this,"arctan2",L,K);}d.extend(z,b,{evaluate:function(){return Math.atan2(this.args[0].evaluate(),this.args[1].evaluate());}});C.Arctangent2=z;function G(K){G.superclass.constructor.call(this,"cosh",K);}d.extend(G,b,{evaluate:function(){return d.ComplexMath.cosh(this.args[0].evaluate());}});C.HyperbolicCosine=G;function q(K){q.superclass.constructor.call(this,"sinh",K);}d.extend(q,b,{evaluate:function(){return d.ComplexMath.sinh(this.args[0].evaluate());}});C.HyperbolicSine=q;function a(K){a.superclass.constructor.call(this,"tanh",K);}d.extend(a,b,{evaluate:function(){return d.ComplexMath.tanh(this.args[0].evaluate());}});C.HyperbolicTangent=a;function f(K){f.superclass.constructor.call(this,"arccosh",K);}d.extend(f,b,{evaluate:function(){return d.ComplexMath.acosh(this.args[0].evaluate());}});C.InverseHyperbolicCosine=f;function h(K){h.superclass.constructor.call(this,"arcsinh",K);}d.extend(h,b,{evaluate:function(){return d.ComplexMath.asinh(this.args[0].evaluate());
}});C.InverseHyperbolicSine=h;function D(K){D.superclass.constructor.call(this,"arctanh",K);}d.extend(D,b,{evaluate:function(){return d.ComplexMath.atanh(this.args[0].evaluate());}});C.InverseHyperbolicTangent=D;var B=(function(){var P={trace:function M(){},yy:{},symbols_:{"error":2,"expressions":3,"e":4,"EOF":5,"NUMBER":6,"E":7,"PI":8,"I":9,"(":10,")":11,"+":12,"-":13,"*":14,"/":15,"^":16,"ABS":17,"PHASE":18,"MIN":19,"arglist":20,"MAX":21,"SQRT":22,"LN":23,"ARCSIN":24,"ARCCOS":25,"ARCTAN":26,"SIN":27,"COS":28,"TAN":29,"SINH":30,"COSH":31,"TANH":32,"ARCSINH":33,"ARCCOSH":34,"ARCTANH":35,",":36,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",6:"NUMBER",7:"E",8:"PI",9:"I",10:"(",11:")",12:"+",13:"-",14:"*",15:"/",16:"^",17:"ABS",18:"PHASE",19:"MIN",21:"MAX",22:"SQRT",23:"LN",24:"ARCSIN",25:"ARCCOS",26:"ARCTAN",27:"SIN",28:"COS",29:"TAN",30:"SINH",31:"COSH",32:"TANH",33:"ARCSINH",34:"ARCCOSH",35:"ARCTANH",36:","},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[20,1],[20,3]],performAction:function L(Q,T,U,X,W,S,V){var R=S.length-1;switch(W){case 1:return S[R-1];break;case 2:this.$=new X.MathFunction.Value(Q);break;case 3:this.$=new X.MathFunction.E();break;case 4:this.$=new X.MathFunction.Pi();break;case 5:this.$=new X.MathFunction.I();break;case 6:this.$=S[R-1];break;case 7:this.$=X.MathFunction.updateSum(S[R-2],S[R]);break;case 8:this.$=X.MathFunction.updateSum(S[R-2],new X.MathFunction.Negate(S[R]));break;case 9:this.$=X.MathFunction.updateProduct(S[R-2],S[R]);break;case 10:this.$=S[R-2]/S[R];break;case 11:this.$=Math.pow(S[R-2],S[R]);break;case 12:this.$=new X.MathFunction.Negate(S[R]);break;case 13:this.$=new X.MathFunction.Magnitude(S[R-1]);break;case 14:this.$=new X.MathFunction.Phase(S[R-1]);break;case 15:this.$=new X.MathFunction.Min(S[R-1]);break;case 16:this.$=new X.MathFunction.Max(S[R-1]);break;case 17:this.$=new X.MathFunction.SquareRoot(S[R-1]);break;case 18:this.$=new X.MathFunction.NaturalLog(S[R-1]);break;case 19:this.$=new X.MathFunction.Arcsine(S[R-1]);break;case 20:this.$=new X.MathFunction.Arccosine(S[R-1]);break;case 21:this.$=new X.MathFunction.Arctangent(S[R-1]);break;case 22:this.$=new X.MathFunction.Sine(S[R-1]);break;case 23:this.$=new X.MathFunction.Cosine(S[R-1]);break;case 24:this.$=new X.MathFunction.Tangent(S[R-1]);break;case 25:this.$=new X.MathFunction.HyperbolicSine(S[R-1]);break;case 26:this.$=new X.MathFunction.HyperbolicCosine(S[R-1]);break;case 27:this.$=new X.MathFunction.HyperbolicTangent(S[R-1]);break;case 28:this.$=new X.MathFunction.InverseHyperbolicSine(S[R-1]);break;case 29:this.$=new X.MathFunction.InverseHyperbolicCosine(S[R-1]);break;case 30:this.$=new X.MathFunction.InverseHyperbolicTangent(S[R-1]);break;case 31:this.$=[S[R]];break;case 32:this.$=S[R-2].concat(S[R]);break;}},table:[{3:1,4:2,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{1:[3]},{5:[1,27],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{5:[2,2],11:[2,2],12:[2,2],13:[2,2],14:[2,2],15:[2,2],16:[2,2],36:[2,2]},{5:[2,3],11:[2,3],12:[2,3],13:[2,3],14:[2,3],15:[2,3],16:[2,3],36:[2,3]},{5:[2,4],11:[2,4],12:[2,4],13:[2,4],14:[2,4],15:[2,4],16:[2,4],36:[2,4]},{5:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[2,5],36:[2,5]},{4:33,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:34,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{10:[1,35]},{10:[1,36]},{10:[1,37]},{10:[1,38]},{10:[1,39]},{10:[1,40]},{10:[1,41]},{10:[1,42]},{10:[1,43]},{10:[1,44]},{10:[1,45]},{10:[1,46]},{10:[1,47]},{10:[1,48]},{10:[1,49]},{10:[1,50]},{10:[1,51]},{10:[1,52]},{1:[2,1]},{4:53,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:54,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:55,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:56,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:57,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{11:[1,58],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{5:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],36:[2,12]},{4:59,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:60,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:62,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:61,21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:62,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:63,21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:64,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:65,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:66,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:67,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:68,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:69,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:70,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:71,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:72,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:73,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:74,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:75,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:76,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{4:77,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{5:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[1,30],15:[1,31],16:[1,32],36:[2,7]},{5:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[1,30],15:[1,31],16:[1,32],36:[2,8]},{5:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,32],36:[2,9]},{5:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,32],36:[2,10]},{5:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],36:[2,11]},{5:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[2,6],36:[2,6]},{11:[1,78],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,79],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,80],36:[1,81]},{11:[2,31],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32],36:[2,31]},{11:[1,82],36:[1,81]},{11:[1,83],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,84],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,85],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,86],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,87],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,88],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,89],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,90],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,91],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,92],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,93],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,94],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,95],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{11:[1,96],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32]},{5:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],36:[2,13]},{5:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],36:[2,14]},{5:[2,15],11:[2,15],12:[2,15],13:[2,15],14:[2,15],15:[2,15],16:[2,15],36:[2,15]},{4:97,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],21:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26]},{5:[2,16],11:[2,16],12:[2,16],13:[2,16],14:[2,16],15:[2,16],16:[2,16],36:[2,16]},{5:[2,17],11:[2,17],12:[2,17],13:[2,17],14:[2,17],15:[2,17],16:[2,17],36:[2,17]},{5:[2,18],11:[2,18],12:[2,18],13:[2,18],14:[2,18],15:[2,18],16:[2,18],36:[2,18]},{5:[2,19],11:[2,19],12:[2,19],13:[2,19],14:[2,19],15:[2,19],16:[2,19],36:[2,19]},{5:[2,20],11:[2,20],12:[2,20],13:[2,20],14:[2,20],15:[2,20],16:[2,20],36:[2,20]},{5:[2,21],11:[2,21],12:[2,21],13:[2,21],14:[2,21],15:[2,21],16:[2,21],36:[2,21]},{5:[2,22],11:[2,22],12:[2,22],13:[2,22],14:[2,22],15:[2,22],16:[2,22],36:[2,22]},{5:[2,23],11:[2,23],12:[2,23],13:[2,23],14:[2,23],15:[2,23],16:[2,23],36:[2,23]},{5:[2,24],11:[2,24],12:[2,24],13:[2,24],14:[2,24],15:[2,24],16:[2,24],36:[2,24]},{5:[2,25],11:[2,25],12:[2,25],13:[2,25],14:[2,25],15:[2,25],16:[2,25],36:[2,25]},{5:[2,26],11:[2,26],12:[2,26],13:[2,26],14:[2,26],15:[2,26],16:[2,26],36:[2,26]},{5:[2,27],11:[2,27],12:[2,27],13:[2,27],14:[2,27],15:[2,27],16:[2,27],36:[2,27]},{5:[2,28],11:[2,28],12:[2,28],13:[2,28],14:[2,28],15:[2,28],16:[2,28],36:[2,28]},{5:[2,29],11:[2,29],12:[2,29],13:[2,29],14:[2,29],15:[2,29],16:[2,29],36:[2,29]},{5:[2,30],11:[2,30],12:[2,30],13:[2,30],14:[2,30],15:[2,30],16:[2,30],36:[2,30]},{11:[2,32],12:[1,28],13:[1,29],14:[1,30],15:[1,31],16:[1,32],36:[2,32]}],defaultActions:{27:[2,1]},parseError:function N(R,Q){throw new Error(R);
},parse:function O(Y){var af=this,V=[0],ao=[null],aa=[],ap=this.table,R="",Z=0,am=0,T=0,X=2,ac=1;this.lexer.setInput(Y);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={};}var S=this.lexer.yylloc;aa.push(S);if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError;}function ae(ar){V.length=V.length-2*ar;ao.length=ao.length-ar;aa.length=aa.length-ar;}function ad(){var ar;ar=af.lexer.lex()||1;if(typeof ar!=="number"){ar=af.symbols_[ar]||ar;}return ar;}var al,ah,U,ak,aq,ab,aj={},ag,an,Q,W;while(true){U=V[V.length-1];if(this.defaultActions[U]){ak=this.defaultActions[U];}else{if(al==null){al=ad();}ak=ap[U]&&ap[U][al];}if(typeof ak==="undefined"||!ak.length||!ak[0]){if(!T){W=[];for(ag in ap[U]){if(this.terminals_[ag]&&ag>2){W.push("'"+this.terminals_[ag]+"'");}}var ai="";if(this.lexer.showPosition){ai="Parse error on line "+(Z+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+W.join(", ");}else{ai="Parse error on line "+(Z+1)+": Unexpected "+(al==1?"end of input":("'"+(this.terminals_[al]||al)+"'"));}this.parseError(ai,{text:this.lexer.match,token:this.terminals_[al]||al,line:this.lexer.yylineno,loc:S,expected:W});}if(T==3){if(al==ac){throw new Error(ai||"Parsing halted.");}am=this.lexer.yyleng;R=this.lexer.yytext;Z=this.lexer.yylineno;S=this.lexer.yylloc;al=ad();}while(1){if((X.toString()) in ap[U]){break;}if(U==0){throw new Error(ai||"Parsing halted.");}ae(1);U=V[V.length-1];}ah=al;al=X;U=V[V.length-1];ak=ap[U]&&ap[U][X];T=3;}if(ak[0] instanceof Array&&ak.length>1){throw new Error("Parse Error: multiple actions possible at state: "+U+", token: "+al);}switch(ak[0]){case 1:V.push(al);ao.push(this.lexer.yytext);aa.push(this.lexer.yylloc);V.push(ak[1]);al=null;if(!ah){am=this.lexer.yyleng;R=this.lexer.yytext;Z=this.lexer.yylineno;S=this.lexer.yylloc;if(T>0){T--;}}else{al=ah;ah=null;}break;case 2:an=this.productions_[ak[1]][1];aj.$=ao[ao.length-an];aj._$={first_line:aa[aa.length-(an||1)].first_line,last_line:aa[aa.length-1].last_line,first_column:aa[aa.length-(an||1)].first_column,last_column:aa[aa.length-1].last_column};ab=this.performAction.call(aj,R,am,Z,this.yy,ak[1],ao,aa);if(typeof ab!=="undefined"){return ab;}if(an){V=V.slice(0,-1*an*2);ao=ao.slice(0,-1*an);aa=aa.slice(0,-1*an);}V.push(this.productions_[ak[1]][0]);ao.push(aj.$);aa.push(aj._$);Q=ap[V[V.length-2]][V[V.length-1]];V.push(Q);break;case 3:return true;}}return true;}};var K=(function(){var T=({EOF:1,parseError:function V(Y,X){if(this.yy.parseError){this.yy.parseError(Y,X);}else{throw new Error(Y);}},setInput:function(X){this._input=X;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this;},input:function(){var Y=this._input[0];this.yytext+=Y;this.yyleng++;this.match+=Y;this.matched+=Y;var X=Y.match(/\n/);if(X){this.yylineno++;}this._input=this._input.slice(1);return Y;},unput:function(X){this._input=X+this._input;return this;},more:function(){this._more=true;return this;},pastInput:function(){var X=this.matched.substr(0,this.matched.length-this.match.length);return(X.length>20?"...":"")+X.substr(-20).replace(/\n/g,"");},upcomingInput:function(){var X=this.match;if(X.length<20){X+=this._input.substr(0,20-X.length);}return(X.substr(0,20)+(X.length>20?"...":"")).replace(/\n/g,"");},showPosition:function(){var X=this.pastInput();var Y=new Array(X.length+1).join("-");return X+this.upcomingInput()+"\n"+Y+"^";},next:function(){if(this.done){return this.EOF;}if(!this._input){this.done=true;}var ab,Z,Y,X;if(!this._more){this.yytext="";this.match="";}var ac=this._currentRules();for(var aa=0;aa<ac.length;aa++){Z=this._input.match(this.rules[ac[aa]]);if(Z){X=Z[0].match(/\n.*/g);if(X){this.yylineno+=X.length;}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-1:this.yylloc.last_column+Z[0].length};this.yytext+=Z[0];this.match+=Z[0];this.matches=Z;this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(Z[0].length);this.matched+=Z[0];ab=this.performAction.call(this,this.yy,this,ac[aa],this.conditionStack[this.conditionStack.length-1]);if(ab){return ab;}else{return;}}}if(this._input===""){return this.EOF;}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});}},lex:function Q(){var X=this.next();if(typeof X!=="undefined"){return X;}else{return this.lex();}},begin:function R(X){this.conditionStack.push(X);},popState:function W(){return this.conditionStack.pop();},_currentRules:function U(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;}});T.performAction=function S(ab,Y,aa,X){var Z=X;switch(aa){case 0:return 6;break;case 1:return 6;break;case 2:return 6;break;case 3:return 6;break;case 4:return 6;break;case 5:return 6;break;case 6:return 8;break;case 7:return 7;break;case 8:return 9;break;case 9:return 14;break;case 10:return 15;break;case 11:return 13;break;case 12:return 12;break;case 13:return 16;break;case 14:return 10;break;case 15:return 11;break;case 16:return 36;break;case 17:return 17;break;case 18:return 18;break;case 19:return 21;break;case 20:return 19;break;case 21:return 22;break;case 22:return 23;break;case 23:return 24;break;case 24:return 25;break;case 25:return 26;break;case 26:return 27;break;case 27:return 28;break;case 28:return 29;break;case 29:return 30;break;case 30:return 31;break;case 31:return 32;break;case 32:return 33;break;case 33:return 34;break;case 34:return 35;break;case 35:break;case 36:return 5;break;}};T.rules=[/^0[xX][0-9a-fA-F]+/,/^[0-9]+[eE][-+]?[0-9]+/,/^[0-9]+\.([0-9]+)?([eE][-+]?[0-9]+)?/,/^([0-9]+)?\.[0-9]+([eE][-+]?[0-9]+)?/,/^[1-9][0-9]*/,/^0\b/,/^pi\b/,/^e\b/,/^i\b/,/^\*/,/^\//,/^-/,/^\+/,/^\^/,/^\(/,/^\)/,/^,/,/^abs\b/,/^phase\b/,/^max\b/,/^min\b/,/^sqrt\b/,/^ln\b/,/^arcsin\b/,/^arccos\b/,/^arctan\b/,/^sin\b/,/^cos\b/,/^tan\b/,/^sinh\b/,/^cosh\b/,/^tanh\b/,/^arcsinh\b/,/^arccosh\b/,/^arctanh\b/,/^\s+/,/^$/];
T.conditions={"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"inclusive":true}};return T;})();P.lexer=K;return P;})();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=B;exports.parse=function(){return B.parse.apply(B,arguments);};exports.main=function c(K){if(!K[1]){throw new Error("Usage: "+K[0]+" FILE");}if(typeof process!=="undefined"){var M=require("fs").readFileSync(require("path").join(process.cwd(),K[1]),"utf8");}else{var L=require("file").path(require("file").cwd());var M=L.join(K[1]).read({charset:"utf-8"});}return exports.parser.parse(M);};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args);}}function k(K){k.superclass.constructor.call(this,K);}k.NAME="MathCanvas";k.ATTRS={func:{value:new d.MathFunction.Value(0),setter:function(K){return d.Lang.isString(K)?d.MathCanvas.Parser.parse(K):K;}},fontname:{value:"sans-serif",validator:d.Lang.isString},fontsize:{value:1,validator:d.Lang.isNumber},minwidth:{value:100,validator:d.Lang.isNumber},minheight:{value:100,validator:d.Lang.isNumber}};function A(K,L){if(K&&K.newVal){K=K.newVal;}else{if(!K){K=this.get("min"+L);}}K=Math.max(K,this["render_"+L]+5);this.set(L,K+"px");this.canvas.setAttribute(L,K);}d.extend(k,d.Widget,{initializer:function(K){this.after("funcChange",this._renderExpression);},renderUI:function(){var L=this.get("contentBox");this.on("minwidthChange",A,this,"width");this.on("minheightChange",A,this,"height");var K=this.get("minwidth");this.set("width",K+"px");var M=this.get("minheight");this.set("height",K+"px");this.canvas=d.Node.create('<canvas width="'+K+'" height="'+M+'" tabindex="0"></canvas>');L.appendChild(this.canvas);this.context=new d.Canvas.Context2d(this.canvas);d.mix(this.context,s);this.context.math_canvas=this;this._renderExpression();},destructor:function(){this.canvas=null;this.context=null;},_renderExpression:function(){this.context.clearRect(0,0,this.canvas.getAttribute("width"),this.canvas.getAttribute("height"));var M=this.get("func");if(!M){return;}this.rect_list=new j();var K={x:0,y:0};M.prepareToRender(this.context,K,100,this.rect_list);var L=this.rect_list.getBounds();this.render_width=j.width(L);A.call(this,null,"width");this.render_height=j.height(L);A.call(this,null,"height");this.context.save();this.context.translate(Math.floor((this.canvas.getAttribute("width")-(L.right-L.left))/2),Math.floor((this.canvas.getAttribute("height")-(L.bottom-L.top))/2));M.render(this.context,this.rect_list);this.context.restore();}});var g=Math.PI/6;var s={drawString:function(O,L,K,N){var M=this.getLineHeight(K);this._setFont(K);this.set("textBaseline","top");this.fillText(N,O,Math.floor(L-M/2));},getLineHeight:function(K){return(13*this.math_canvas.get("fontsize")*K/100);},getStringWidth:function(K,M){this.save();this._setFont(K);var L=this.measureText(M).width;this.restore();return L;},_setFont:function(K){this.set("font",(this.math_canvas.get("fontsize")*K/100)+"em "+this.math_canvas.get("fontname"));},drawSquareBrackets:function(M){var L=M.bottom-M.top;var K=this.getSquareBracketWidth(M)-2;this.moveTo(M.left-2,M.top);this.line(-K,0);this.line(0,L-1);this.line(K,0);this.stroke();this.moveTo(M.right+1,M.top);this.line(K,0);this.line(0,L-1);this.line(-K,0);this.stroke();},getSquareBracketWidth:function(L){var K=L.bottom-L.top;return Math.round(3+((K-1)/10));},drawParentheses:function(O){var N=O.bottom-O.top;var K=N/(2*Math.sin(g));var L=Math.round(K);var P=j.ycenter(O);var M=this.getParenthesisWidth(O);this.beginPath();this.arc(O.left-M+K,P,L,Math.PI-g,Math.PI+g,false);this.stroke();this.beginPath();this.arc(O.right+M-K,P,L,g,-g,true);this.stroke();},getParenthesisWidth:function(L){var K=L.bottom-L.top;return 2+Math.round(0.5+(K*(1-Math.cos(g)))/(2*Math.sin(g)));},drawVerticalBar:function(K){this.moveTo(K.left+1,K.top);this.lineTo(K.left+1,K.bottom);this.stroke();},getVerticalBarWidth:function(){return 3;}};B.yy.MathFunction=d.MathFunction;d.MathCanvas=k;d.MathCanvas.RectList=j;d.MathCanvas.Parser=B;},"@VERSION@",{requires:["widget","collection","gallery-complexnumber","gallery-canvas"]});