YUI.add("gallery-formmgr-css-validation",function(e,t){"use strict";function o(t){return!e.Lang.isUndefined(t)&&t.length>0}e.namespace("FormManager");var n="yiv-required",r=/(?:^|\s+)yiv-length:\[([0-9]+)?,([1-9][0-9]*)?\](?:\s+|$)/,i=/(?:^|\s+)yiv-integer(?::\[([-+]?[0-9]+)?,([-+]?[0-9]+)?\])?(?:\s+|$)/,s=/(?:^|\s+)yiv-decimal(?::\[([-+]?(?:[0-9]+\.?|[0-9]+\.[0-9]+|\.[0-9]+))?,([-+]?(?:[0-9]+\.?|[0-9]+\.[0-9]+|\.[0-9]+))?\])?(?:\s+|$)/;e.FormManager.integer_value_re=/^[-+]?[0-9]+$/,e.FormManager.decimal_value_re=/^[-+]?(?:[0-9]+\.?|[0-9]*\.[0-9]+)$/,e.FormManager.Strings={validation_error:"Correct errors in the highlighted fields before continuing.",required_string:"This field requires a value.",required_menu:"This field is required. Choose a value from the pull-down list.",length_too_short:"Enter text that is at least {min} characters or longer.",length_too_long:"Enter text that is up to {max} characters long.",length_out_of_range:"Enter text that is {min} to {max} characters long.",integer:"Enter a whole number (no decimal point).",integer_too_small:"Enter a number that is {min} or higher (no decimal point).",integer_too_large:"Enter a number that is {max} or lower (no decimal point).",integer_out_of_range:"Enter a number between or including {min} and {max} (no decimal point).",decimal:"Enter a number.",decimal_too_small:"Enter a number that is {min} or higher.",decimal_too_large:"Enter a number that is {max} or lower.",decimal_out_of_range:"Enter a number between or including {min} and {max}."},e.FormManager.validateFromCSSData=function(t,u){var a=e.FormManager.Strings;t._node&&(t=t._node);var f=e.DOM.hasClass(t,n);if(f&&t.value===""){var l=null;return u&&u.required?l=u.required:t.tagName.toLowerCase()=="select"?l=a.required_menu:l=a.required_string,{keepGoing:!1,error:l}}if(!f&&t.value==="")return{keepGoing:!1};if(t.className){var c=t.className.match(r);if(c&&c.length){o(c[1])&&o(c[2])&&parseInt(c[1],10)>parseInt(c[2],10)&&e.error(t.name+" has min_length > max_length",null,"FormManager");var l=null,h=o(c[1])&&c[1]!=="0";h&&o(c[2])?l=a.length_out_of_range:h?l=a.length_too_short:o(c[2])&&(l=a.length_too_long);if(t.value&&o(c[1])&&t.value.length<parseInt(c[1],10))return u&&u.min_length&&(l=u.min_length),l=e.substitute(l,{min:parseInt(c[1],10),max:parseInt(c[2],10)}),{keepGoing:!1,error:l};if(t.value&&o(c[2])&&t.value.length>parseInt(c[2],10))return u&&u.max_length&&(l=u.max_length),l=e.substitute(l,{min:parseInt(c[1],10),max:parseInt(c[2],10)}),{keepGoing:!1,error:l}}var c=t.className.match(i);if(c&&c.length){o(c[1])&&o(c[2])&&parseInt(c[1],10)>parseInt(c[2],10)&&e.error(t.name+" has min_value > max_value",null,"FormManager");var p=parseInt(t.value,10);if(t.value&&(!e.FormManager.integer_value_re.test(t.value)||o(c[1])&&p<parseInt(c[1],10)||o(c[2])&&p>parseInt(c[2],10))){var l=null;return u&&u.integer?l=u.integer:o(c[1])&&o(c[2])?l=a.integer_out_of_range:o(c[1])?l=a.integer_too_small:o(c[2])?l=a.integer_too_large:l=a.integer,l=e.substitute(l,{min:parseInt(c[1],10),max:parseInt(c[2],10)}),{keepGoing:!1,error:l}}}var c=t.className.match(s);if(c&&c.length){o(c[1])&&o(c[2])&&parseFloat(c[1])>parseFloat(c[2])&&e.error(t.name+" has min_value > max_value",null,"FormManager");var p=parseFloat(t.value);if(t.value&&(!e.FormManager.decimal_value_re.test(t.value)||o(c[1])&&p<parseFloat(c[1])||o(c[2])&&p>parseFloat(c[2]))){var l=null;return u&&u.decimal?l=u.decimal:o(c[1])&&o(c[2])?l=a.decimal_out_of_range:o(c[1])?l=a.decimal_too_small:o(c[2])?l=a.decimal_too_large:l=a.decimal,l=e.substitute(l,{min:parseFloat(c[1],10),max:parseFloat(c[2],10)}),{keepGoing:!1,error:l}}}}return{keepGoing:!0}},e.FormManager.cleanValues=function(t){var n=!1;for(var r=0;r<t.length;r++){var i=t[r],s=i.type&&i.type.toLowerCase();s=="file"?n=!0:s!="select-multiple"&&i.value&&!e.DOM.hasClass(i,"yiv-no-trim")&&(i.value=e.Lang.trim(i.value))}return n},e.FormManager.status_order=["error","warn","success","info"],e.FormManager.getStatusPrecedence=function(t){for(var n=0;n<e.FormManager.status_order.length;n++)if(t==e.FormManager.status_order[n])return n;return e.FormManager.status_order.length},e.FormManager.statusTakesPrecedence=function(t,n){return!t||e.FormManager.getStatusPrecedence(n)<e.FormManager.getStatusPrecedence(t)}},"@VERSION@",{requires:["substitute"]});
