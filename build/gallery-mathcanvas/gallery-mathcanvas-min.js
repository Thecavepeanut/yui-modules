YUI.add("gallery-mathcanvas",function(e){function k(){this.list=[];}k.width=function(Q){return Q.right-Q.left;};k.height=function(Q){return Q.bottom-Q.top;};k.xcenter=function(Q){return Math.floor((Q.left+Q.right)/2);};k.ycenter=function(Q){return Math.floor((Q.top+Q.bottom)/2);};k.cover=function(R,Q){var S={top:Math.min(R.top,Q.top),left:Math.min(R.left,Q.left),bottom:Math.max(R.bottom,Q.bottom),right:Math.max(R.right,Q.right)};return S;};k.prototype={add:function(T,R,Q,S){this.list.push({rect:T,midline:R,font_size:Q,func:S});return this.list.length-1;},get:function(Q){return this.list[Q];},find:function(Q){return e.Array.find(this.list,function(R){return(R.func===Q);});},findIndex:function(Q){return e.Array.indexOf(this.list,this.find(Q));},shift:function(S,R,Q){if(R===0&&Q===0){return;}var T=this.list[S];var U=e.clone(T.rect);T.rect.top+=Q;T.rect.left+=R;T.rect.bottom+=Q;T.rect.right+=R;T.midline+=Q;e.Array.each(this.list,function(V){if(U.left<=V.rect.left&&V.rect.right<=U.right&&U.top<=V.rect.top&&V.rect.bottom<=U.bottom){V.rect.top+=Q;V.rect.left+=R;V.rect.bottom+=Q;V.rect.right+=R;V.midline+=Q;}});},setMidline:function(Q,R){this.shift(Q,0,R-this.list[Q].midline);},getBounds:function(){return this.list[this.list.length-1].rect;}};function G(){}G.prototype={prepareToRender:function(T,S,R,Q){var U=this.toString();var V={top:S.y,left:S.x,bottom:S.y+T.getLineHeight(R),right:S.x+T.getStringWidth(R,U)};return Q.add(V,k.ycenter(V),R,this);},render:function(R,Q){var S=Q.find(this);R.drawString(S.rect.left,S.midline,S.font_size,this.toString());},parenthesizeForPrint:function(Q){return(this instanceof c);},parenthesizeForRender:function(Q){return(this instanceof c);}};G.updateSum=function(Q,R){if(Q instanceof j){Q.appendArg(R);return Q;}else{return new j(Q,R);}};G.updateProduct=function(Q,R){if(Q instanceof P){Q.appendArg(R);return Q;}else{return new P(Q,R);}};e.MathFunction=G;function L(R){L.superclass.constructor.call(this);var Q=e.Lang.isString(R);if(Q&&(R.indexOf(".")>=0||(!/x/i.test(R)&&/e/i.test(R)))){this.value=parseFloat(R);}else{if(Q){this.value=parseInt(R);}else{this.value=R;}}}e.extend(L,G,{evaluate:function(){return this.value;},toString:function(){return this.value;}});G.Value=L;function v(){v.superclass.constructor.call(this);}e.extend(v,G,{evaluate:function(){return Math.PI;},toString:function(){return"\u03c0";}});G.Pi=v;function B(){B.superclass.constructor.call(this);}e.extend(B,G,{evaluate:function(){return Math.E;},toString:function(){return"e";}});G.E=B;function x(){x.superclass.constructor.call(this);}e.extend(x,G,{evaluate:function(){return e.ComplexMath.I;},toString:function(){return"i";}});G.I=x;function c(R,Q){c.superclass.constructor.call(this);this.name=R;if(e.Lang.isArray(Q)&&e.Lang.isArray(Q[0])){Q=Q[0];}if(e.Lang.isArray(Q)){this.args=e.Array(Q);}else{this.args=[];for(var S=1;S<arguments.length;S++){this.args.push(arguments[S]);}}}e.extend(c,G,{appendArg:function(Q){this.args.push(Q);},replaceArg:function(Q,S){var R=e.Array.indexOf(this.args,Q);if(R>=0){this.args[R]=S;}},evaluateArgs:function(){var Q=[];e.Array.each(this.args,function(R){Q.push(R.evaluate());});return Q;},prepareToRender:function(R,ac,V,ad){var Q={top:ac.y,left:ac.x,bottom:ac.y+R.getLineHeight(V),right:ac.x+R.getStringWidth(V,this.name)};var aa=k.ycenter(Q);var ab=aa;var S={x:Q.right,y:Q.top};var Y=R.getStringWidth(V,", ");var af=this.args.length;var Z=[];for(var X=0;X<af;X++){var W=this.args[X].prepareToRender(R,S,V,ad);var U=ad.get(W);var T=U.rect;S.x=T.right+Y;Q=k.cover(Q,T);aa=Math.max(aa,U.midline);Z.push(W);}if(af>1&&aa>ab){for(var X=0;X<af;X++){var W=Z[X];ad.setMidline(W,aa);Q=k.cover(Q,ad.get(W).rect);}}var ae=R.getParenthesisWidth(Q);for(var X=0;X<af;X++){ad.shift(Z[X],ae,0);}Q.right+=2*ae;return ad.add(Q,aa,V,this);},render:function(T,Q){var V=Q.find(this);T.drawString(V.rect.left,V.midline,V.font_size,this.name);var U={top:V.rect.top,bottom:V.rect.bottom};for(var S=0;S<this.args.length;S++){this.args[S].render(T,Q);var V=Q.find(this.args[S]);var R=V.rect;if(S===0){U.left=R.left;}if(S<this.args.length-1){T.drawString(R.right,V.midline,V.font_size,",");}else{U.right=R.right;T.drawParentheses(U);}}},toString:function(){return this.name+"("+this.args.join(",")+")";},_printArg:function(R){var Q=R instanceof G?R:this.args[R];if(Q.parenthesizeForPrint(this)){return"("+Q+")";}else{return Q.toString();}}});G.FunctionWithArgs=c;function p(Q){p.superclass.constructor.call(this,"-",Q);}e.extend(p,c,{evaluate:function(){return e.ComplexMath.subtract(0,this.args[0].evaluate());},prepareToRender:function(S,W,U,X){var T=e.clone(W);T.x+=S.getStringWidth(U,"-");var Y=this.args[0];if(Y instanceof E){T.x+=S.getStringWidth(U," ");}var R={top:W.y,left:W.x,bottom:W.y+S.getLineHeight(U),right:T.x};var Z=Y.prepareToRender(S,T,U,X);var Q=X.get(Z);if(Y.parenthesizeForRender(this)){var V=S.getParenthesisWidth(Q.rect);X.shift(Z,V,0);R.right=Q.rect.right+V;}R=k.cover(R,Q.rect);return X.add(R,Q.midline,U,this);},render:function(T,R){var U=R.find(this);T.drawString(U.rect.left,U.midline,U.font_size,"-");var Q=this.args[0];Q.render(T,R);if(Q.parenthesizeForRender(this)){var S=R.find(Q);T.drawParentheses(S.rect);}},toString:function(){return"-"+this._printArg(0);}});G.Negate=p;function j(){o.superclass.constructor.call(this,"+",new e.Array(arguments));}e.extend(j,c,{evaluate:function(){return e.ComplexMath.add(this.evaluateArgs());},prepareToRender:function(R,Y,U,Z){var S=e.clone(Y);var Q={top:Y.y,left:Y.x,bottom:Y.y+R.getLineHeight(U),right:Y.x};var W=k.ycenter(Q);var X=W;var T=R.getStringWidth(U," ");var V=R.getStringWidth(U,"+");var aa=R.getStringWidth(U,"-");e.Array.each(this.args,function(ab,ad){var af=this;if(ab instanceof p){if(ad>0){S.x+=T;}S.x+=aa+T;af=ab;ab=ab.args[0];}else{if(ad>0){S.x+=V+2*T;}}var ac=ab.prepareToRender(R,S,U,Z);var ae=Z.get(ac);S.x=ae.rect.right;if(ab.parenthesizeForRender(af)){var ag=R.getParenthesisWidth(ae.rect);Z.shift(ac,ag,0);S.x+=2*ag;Q.right=ae.rect.right+ag;}Q=k.cover(Q,ae.rect);W=Math.max(W,ae.midline);
},this);if(this.args.length>1&&W>X){e.Array.each(this.args,function(ab){if(ab instanceof p){ab=ab.args[0];}var ac=Z.findIndex(ab);Z.setMidline(ac,W);Q=k.cover(Q,Z.get(ac).rect);});}return Z.add(Q,W,U,this);},render:function(S,R){var U=R.find(this);var Q=U.rect.left;var T=S.getStringWidth(U.font_size," ");e.Array.each(this.args,function(V,W){var Y=this;if(V instanceof p){S.drawString(Q,U.midline,U.font_size,"-");Y=V;V=V.args[0];}else{if(W>0){S.drawString(Q,U.midline,U.font_size,"+");}}V.render(S,R);var X=R.find(V);Q=X.rect.right;if(V.parenthesizeForRender(Y)){S.drawParentheses(X.rect);Q+=S.getParenthesisWidth(X.rect);}Q+=T;},this);},toString:function(){var Q="";e.Array.each(this.args,function(R,S){if(R instanceof p){Q+="-";R=R.args[0];}else{if(S>0){Q+="+";}}Q+=this._printArg(R);},this);return Q;}});G.Sum=j;function P(){o.superclass.constructor.call(this,"*",new e.Array(arguments));}e.extend(P,c,{evaluate:function(){return e.ComplexMath.multiply(this.evaluateArgs());},prepareToRender:function(R,X,T,Y){var S=e.clone(X);var Q={top:X.y,left:X.x,bottom:X.y+R.getLineHeight(T),right:X.x};var U=k.ycenter(Q);var W=U;var V=R.getStringWidth(T,"\u00b7");e.Array.each(this.args,function(Z,ab){var aa=Z.prepareToRender(R,S,T,Y);var ac=Y.get(aa);S.x=ac.rect.right+V;if(Z.parenthesizeForRender(this)){var ad=R.getParenthesisWidth(ac.rect);Y.shift(aa,ad,0);S.x+=2*ad;Q.right=ac.rect.right+ad;}Q=k.cover(Q,ac.rect);U=Math.max(U,ac.midline);},this);if(this.args.length>1&&U>W){e.Array.each(this.args,function(Z){var aa=Y.findIndex(Z);Y.setMidline(aa,U);Q=k.cover(Q,Y.get(aa).rect);});}return Y.add(Q,U,T,this);},render:function(T,R){var U=R.find(this);var Q=U.rect.left;var S=T.getStringWidth(U.font_size,"\u00b7");e.Array.each(this.args,function(V,W){if(W>0){T.drawString(Q,U.midline,U.font_size,"\u00b7");}V.render(T,R);var X=R.find(V);Q=X.rect.right;if(V.parenthesizeForRender(this)){T.drawParentheses(X.rect);Q+=T.getParenthesisWidth(X.rect);}},this);},toString:function(){var Q="";e.Array.each(this.args,function(R,S){if(S>0){Q+="*";}Q+=this._printArg(S);},this);return Q;}});G.Product=P;function E(R,Q){E.superclass.constructor.call(this,"/",R,Q);}e.extend(E,c,{evaluate:function(){return e.ComplexMath.divide(this.args[0].evaluate(),this.args[1].evaluate());},prepareToRender:function(R,aa,W,ab){var Q={top:aa.y,left:aa.x,bottom:aa.y,right:aa.x};var U=R.getStringWidth(W," ");var T=e.clone(aa);T.x+=U;var Z=this.args[0].prepareToRender(R,T,W,ab);var X=ab.get(Z);T.y=X.rect.bottom;Q=k.cover(Q,X.rect);var S=R.getHorizontalBarHeight();var Y=T.y+S/2;T.y+=S;var ac=this.args[1].prepareToRender(R,T,W,ab);var V=ab.get(ac);Q=k.cover(Q,V.rect);var ad=(X.rect.right-V.rect.right)/2;if(ad>0){ab.shift(ac,ad,0);}else{if(ad<0){ab.shift(Z,-ad,0);}}Q.right+=U;return ab.add(Q,Y,W,this);},render:function(R,Q){var T=Q.find(this);var S=R.getHorizontalBarHeight();var U={top:T.midline-S/2,left:T.rect.left,bottom:T.midline+S/2,right:T.rect.right};this.args[0].render(R,Q);R.drawHorizontalBar(U);this.args[1].render(R,Q);},toString:function(){return this._printArg(0)+"/"+this._printArg(1);}});G.Quotient=E;function y(Q,R){y.superclass.constructor.call(this,"^",Q,R);}e.extend(y,c,{evaluate:function(){return e.ComplexMath.pow(this.args[0].evaluate(),this.args[1].evaluate());},prepareToRender:function(R,aa,U,ab){var T=R.getStringWidth(U," ");var S=e.clone(aa);S.x+=T;var W=this.args[0].prepareToRender(R,S,U,ab);var V=ab.get(W);S.x=V.rect.right;if(this.args[0].parenthesizeForRender(this)){var Z=R.getParenthesisWidth(V.rect);ab.shift(W,Z,0);S.x+=2*Z;}var ac=R.getSuperSubFontSize(U);var X=this.args[1].prepareToRender(R,S,ac,ab);var Y=ab.get(X);var Q={top:aa.y,left:aa.x,bottom:aa.y+k.height(Y.rect)+R.getSuperscriptHeight(V.rect),right:Y.rect.right};if(Q.bottom>V.rect.bottom){ab.shift(W,0,Q.bottom-V.rect.bottom);}else{Q.bottom=V.rect.bottom;}return ab.add(Q,V.midline,U,this);},render:function(R,Q){if(this.args[0].parenthesizeForRender(this)){var S=Q.find(this.args[0]);R.drawParentheses(S.rect);}this.args[0].render(R,Q);this.args[1].render(R,Q);},toString:function(){return this._printArg(0)+"^"+this._printArg(1);}});G.Exponential=y;function u(Q){u.superclass.constructor.call(this,"abs",Q);}e.extend(u,c,{evaluate:function(){return e.ComplexMath.abs(this.args[0].evaluate());},prepareToRender:function(T,V,U,W){var R=T.getVerticalBarWidth();var X=this.args[0];var Y=X.prepareToRender(T,V,U,W);var S=W.get(Y);W.shift(Y,R,0);var Q={top:V.y,left:V.x,bottom:S.rect.bottom,right:S.rect.right+R};return W.add(Q,S.midline,U,this);},render:function(R,Q){var T=Q.find(this);R.drawVerticalBar(T.rect);this.args[0].render(R,Q);var S=e.clone(T.rect);S.left=S.right-R.getVerticalBarWidth();R.drawVerticalBar(S);}});G.Magnitude=u;function n(Q){n.superclass.constructor.call(this,"phase",Q);}e.extend(n,c,{evaluate:function(){return e.ComplexMath.phase(this.args[0].evaluate());}});G.Phase=n;function I(Q){I.superclass.constructor.call(this,"conjugate",Q);}e.extend(I,c,{evaluate:function(){return e.ComplexMath.conjugate(this.args[0].evaluate());},prepareToRender:function(S,W,V,X){var T=S.getHorizontalBarHeight();var U=e.clone(W);U.y+=T;var Y=this.args[0].prepareToRender(S,U,V,X);var R=X.get(Y);var Q=e.clone(R.rect);Q.top-=T;return X.add(Q,R.midline,V,this);},render:function(R,Q){var S=Q.find(this);R.drawHorizontalBar(S.rect);this.args[0].render(R,Q);}});G.Conjugate=I;function d(Q){d.superclass.constructor.call(this,"rotate",Q);}e.extend(d,c,{evaluate:function(){return e.ComplexMath.rotate(this.args[0].evaluate(),this.args[1].evaluate());}});G.Rotate=d;function w(Q){w.superclass.constructor.call(this,"re",Q);}e.extend(w,c,{evaluate:function(){var Q=this.args[0].evaluate();return e.ComplexMath.isComplexNumber(Q)?Q.real():Q;}});G.RealPart=w;function J(Q){J.superclass.constructor.call(this,"im",Q);}e.extend(J,c,{evaluate:function(){var Q=this.args[0].evaluate();return e.ComplexMath.isComplexNumber(Q)?Q.imag():0;}});G.ImaginaryPart=J;function K(){K.superclass.constructor.call(this,"min",new e.Array(arguments));
}e.extend(K,c,{evaluate:function(){return Math.min.apply(null,this.evaluateArgs());}});G.Min=K;function o(){o.superclass.constructor.call(this,"max",new e.Array(arguments));}e.extend(o,c,{evaluate:function(){return Math.max.apply(null,this.evaluateArgs());}});G.Max=o;function q(Q){q.superclass.constructor.call(this,"sqrt",Q);}e.extend(q,c,{evaluate:function(){return e.ComplexMath.sqrt(this.args[0].evaluate());},prepareToRender:function(S,Y,V,Z){var aa=this.args[0].prepareToRender(S,Y,V,Z);var R=Z.get(aa);var X=k.height(R.rect);var U=1+Math.round(2*X/(4*Math.sqrt(3)));var W=3;var T=4;Z.shift(aa,U,T);var Q={top:Y.y,left:Y.x,bottom:R.rect.bottom,right:R.rect.right+W};return Z.add(Q,R.midline,V,this);},render:function(R,Q){var S=Q.find(this);this._drawSquareRoot(R,S.rect);this.args[0].render(R,Q);},_drawSquareRoot:function(S,U){var T=k.height(U);var Q=U.left;var V=U.top+Math.round(3*T/4);var R=Math.round((T-3)/(4*Math.sqrt(3)));S.beginPath();S.moveTo(Q,V);Q+=R;V=U.bottom-1;S.lineTo(Q,V);Q+=R;V=U.top+2;S.lineTo(Q,V);Q=U.right-1;S.lineTo(Q,V);S.line(0,Math.round(T/8));S.stroke();}});G.SquareRoot=q;function s(Q){s.superclass.constructor.call(this,"ln",Q);}e.extend(s,c,{evaluate:function(){return e.ComplexMath.log(this.args[0].evaluate());}});G.NaturalLog=s;function A(Q){A.superclass.constructor.call(this,"sin",Q);}e.extend(A,c,{evaluate:function(){return e.ComplexMath.sin(this.args[0].evaluate());}});G.Sine=A;function N(Q){N.superclass.constructor.call(this,"cos",Q);}e.extend(N,c,{evaluate:function(){return e.ComplexMath.cos(this.args[0].evaluate());}});G.Cosine=N;function O(Q){O.superclass.constructor.call(this,"tan",Q);}e.extend(O,c,{evaluate:function(){return e.ComplexMath.tan(this.args[0].evaluate());}});G.Tangent=O;function m(Q){m.superclass.constructor.call(this,"arcsin",Q);}e.extend(m,c,{evaluate:function(){return Math.asin(this.args[0].evaluate());}});G.Arcsine=m;function f(Q){f.superclass.constructor.call(this,"arccos",Q);}e.extend(f,c,{evaluate:function(){return Math.acos(this.args[0].evaluate());}});G.Arccosine=f;function z(Q){z.superclass.constructor.call(this,"arctan",Q);}e.extend(z,c,{evaluate:function(){return Math.atan(this.args[0].evaluate());}});G.Arctangent=z;function C(R,Q){C.superclass.constructor.call(this,"arctan2",R,Q);}e.extend(C,c,{evaluate:function(){return Math.atan2(this.args[0].evaluate(),this.args[1].evaluate());}});G.Arctangent2=C;function M(Q){M.superclass.constructor.call(this,"cosh",Q);}e.extend(M,c,{evaluate:function(){return e.ComplexMath.cosh(this.args[0].evaluate());}});G.HyperbolicCosine=M;function r(Q){r.superclass.constructor.call(this,"sinh",Q);}e.extend(r,c,{evaluate:function(){return e.ComplexMath.sinh(this.args[0].evaluate());}});G.HyperbolicSine=r;function a(Q){a.superclass.constructor.call(this,"tanh",Q);}e.extend(a,c,{evaluate:function(){return e.ComplexMath.tanh(this.args[0].evaluate());}});G.HyperbolicTangent=a;function g(Q){g.superclass.constructor.call(this,"arccosh",Q);}e.extend(g,c,{evaluate:function(){return e.ComplexMath.acosh(this.args[0].evaluate());}});G.InverseHyperbolicCosine=g;function i(Q){i.superclass.constructor.call(this,"arcsinh",Q);}e.extend(i,c,{evaluate:function(){return e.ComplexMath.asinh(this.args[0].evaluate());}});G.InverseHyperbolicSine=i;function H(Q){H.superclass.constructor.call(this,"arctanh",Q);}e.extend(H,c,{evaluate:function(){return e.ComplexMath.atanh(this.args[0].evaluate());}});G.InverseHyperbolicTangent=H;var F=(function(){var V={trace:function S(){},yy:{},symbols_:{"error":2,"expressions":3,"e":4,"EOF":5,"NUMBER":6,"E":7,"PI":8,"I":9,"(":10,")":11,"+":12,"-":13,"*":14,"/":15,"^":16,"ABS":17,"PHASE":18,"CONJUGATE":19,"ROTATE":20,"arglist":21,"RE":22,"IM":23,"MIN":24,"MAX":25,"SQRT":26,"LN":27,"ARCSIN":28,"ARCCOS":29,"ARCTAN":30,"ARCTAN2":31,"SIN":32,"COS":33,"TAN":34,"SINH":35,"COSH":36,"TANH":37,"ARCSINH":38,"ARCCOSH":39,"ARCTANH":40,",":41,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",6:"NUMBER",7:"E",8:"PI",9:"I",10:"(",11:")",12:"+",13:"-",14:"*",15:"/",16:"^",17:"ABS",18:"PHASE",19:"CONJUGATE",20:"ROTATE",22:"RE",23:"IM",24:"MIN",25:"MAX",26:"SQRT",27:"LN",28:"ARCSIN",29:"ARCCOS",30:"ARCTAN",31:"ARCTAN2",32:"SIN",33:"COS",34:"TAN",35:"SINH",36:"COSH",37:"TANH",38:"ARCSINH",39:"ARCCOSH",40:"ARCTANH",41:","},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[21,1],[21,3]],performAction:function R(W,Z,aa,ad,ac,Y,ab){var X=Y.length-1;switch(ac){case 1:return Y[X-1];break;case 2:this.$=new ad.MathFunction.Value(W);break;case 3:this.$=new ad.MathFunction.E();break;case 4:this.$=new ad.MathFunction.Pi();break;case 5:this.$=new ad.MathFunction.I();break;case 6:this.$=Y[X-1];break;case 7:this.$=ad.MathFunction.updateSum(Y[X-2],Y[X]);break;case 8:this.$=ad.MathFunction.updateSum(Y[X-2],new ad.MathFunction.Negate(Y[X]));break;case 9:this.$=ad.MathFunction.updateProduct(Y[X-2],Y[X]);break;case 10:this.$=new ad.MathFunction.Quotient(Y[X-2],Y[X]);break;case 11:this.$=new ad.MathFunction.Exponential(Y[X-2],Y[X]);break;case 12:this.$=new ad.MathFunction.Negate(Y[X]);break;case 13:this.$=new ad.MathFunction.Magnitude(Y[X-1]);break;case 14:this.$=new ad.MathFunction.Phase(Y[X-1]);break;case 15:this.$=new ad.MathFunction.Conjugate(Y[X-1]);break;case 16:this.$=new ad.MathFunction.Rotate(Y[X-1]);break;case 17:this.$=new ad.MathFunction.RealPart(Y[X-1]);break;case 18:this.$=new ad.MathFunction.ImaginaryPart(Y[X-1]);break;case 19:this.$=new ad.MathFunction.Min(Y[X-1]);break;case 20:this.$=new ad.MathFunction.Max(Y[X-1]);break;case 21:this.$=new ad.MathFunction.SquareRoot(Y[X-1]);break;case 22:this.$=new ad.MathFunction.NaturalLog(Y[X-1]);break;case 23:this.$=new ad.MathFunction.Arcsine(Y[X-1]);break;case 24:this.$=new ad.MathFunction.Arccosine(Y[X-1]);break;case 25:this.$=new ad.MathFunction.Arctangent(Y[X-1]);break;case 26:this.$=new ad.MathFunction.Arctangent2(Y[X-1]);
break;case 27:this.$=new ad.MathFunction.Sine(Y[X-1]);break;case 28:this.$=new ad.MathFunction.Cosine(Y[X-1]);break;case 29:this.$=new ad.MathFunction.Tangent(Y[X-1]);break;case 30:this.$=new ad.MathFunction.HyperbolicSine(Y[X-1]);break;case 31:this.$=new ad.MathFunction.HyperbolicCosine(Y[X-1]);break;case 32:this.$=new ad.MathFunction.HyperbolicTangent(Y[X-1]);break;case 33:this.$=new ad.MathFunction.InverseHyperbolicSine(Y[X-1]);break;case 34:this.$=new ad.MathFunction.InverseHyperbolicCosine(Y[X-1]);break;case 35:this.$=new ad.MathFunction.InverseHyperbolicTangent(Y[X-1]);break;case 36:this.$=[Y[X]];break;case 37:this.$=Y[X-2].concat(Y[X]);break;}},table:[{3:1,4:2,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{1:[3]},{5:[1,32],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{5:[2,2],11:[2,2],12:[2,2],13:[2,2],14:[2,2],15:[2,2],16:[2,2],41:[2,2]},{5:[2,3],11:[2,3],12:[2,3],13:[2,3],14:[2,3],15:[2,3],16:[2,3],41:[2,3]},{5:[2,4],11:[2,4],12:[2,4],13:[2,4],14:[2,4],15:[2,4],16:[2,4],41:[2,4]},{5:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[2,5],41:[2,5]},{4:38,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:39,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{10:[1,40]},{10:[1,41]},{10:[1,42]},{10:[1,43]},{10:[1,44]},{10:[1,45]},{10:[1,46]},{10:[1,47]},{10:[1,48]},{10:[1,49]},{10:[1,50]},{10:[1,51]},{10:[1,52]},{10:[1,53]},{10:[1,54]},{10:[1,55]},{10:[1,56]},{10:[1,57]},{10:[1,58]},{10:[1,59]},{10:[1,60]},{10:[1,61]},{10:[1,62]},{1:[2,1]},{4:63,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:64,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:65,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:66,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:67,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{11:[1,68],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{5:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],41:[2,12]},{4:69,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:70,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:71,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:73,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],21:72,22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:74,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:75,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:73,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],21:76,22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:73,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],21:77,22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:78,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:79,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:80,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:81,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:82,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:73,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],21:83,22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:84,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:85,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:86,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:87,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:88,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:89,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:90,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:91,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{4:92,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{5:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[1,35],15:[1,36],16:[1,37],41:[2,7]},{5:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[1,35],15:[1,36],16:[1,37],41:[2,8]},{5:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,37],41:[2,9]},{5:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,37],41:[2,10]},{5:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],41:[2,11]},{5:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[2,6],41:[2,6]},{11:[1,93],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,94],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,95],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,96],41:[1,97]},{11:[2,36],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37],41:[2,36]},{11:[1,98],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,99],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,100],41:[1,97]},{11:[1,101],41:[1,97]},{11:[1,102],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,103],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,104],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,105],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,106],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,107],41:[1,97]},{11:[1,108],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,109],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,110],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,111],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,112],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,113],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,114],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,115],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{11:[1,116],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37]},{5:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],41:[2,13]},{5:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],41:[2,14]},{5:[2,15],11:[2,15],12:[2,15],13:[2,15],14:[2,15],15:[2,15],16:[2,15],41:[2,15]},{5:[2,16],11:[2,16],12:[2,16],13:[2,16],14:[2,16],15:[2,16],16:[2,16],41:[2,16]},{4:117,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],13:[1,8],17:[1,9],18:[1,10],19:[1,11],20:[1,12],22:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31]},{5:[2,17],11:[2,17],12:[2,17],13:[2,17],14:[2,17],15:[2,17],16:[2,17],41:[2,17]},{5:[2,18],11:[2,18],12:[2,18],13:[2,18],14:[2,18],15:[2,18],16:[2,18],41:[2,18]},{5:[2,19],11:[2,19],12:[2,19],13:[2,19],14:[2,19],15:[2,19],16:[2,19],41:[2,19]},{5:[2,20],11:[2,20],12:[2,20],13:[2,20],14:[2,20],15:[2,20],16:[2,20],41:[2,20]},{5:[2,21],11:[2,21],12:[2,21],13:[2,21],14:[2,21],15:[2,21],16:[2,21],41:[2,21]},{5:[2,22],11:[2,22],12:[2,22],13:[2,22],14:[2,22],15:[2,22],16:[2,22],41:[2,22]},{5:[2,23],11:[2,23],12:[2,23],13:[2,23],14:[2,23],15:[2,23],16:[2,23],41:[2,23]},{5:[2,24],11:[2,24],12:[2,24],13:[2,24],14:[2,24],15:[2,24],16:[2,24],41:[2,24]},{5:[2,25],11:[2,25],12:[2,25],13:[2,25],14:[2,25],15:[2,25],16:[2,25],41:[2,25]},{5:[2,26],11:[2,26],12:[2,26],13:[2,26],14:[2,26],15:[2,26],16:[2,26],41:[2,26]},{5:[2,27],11:[2,27],12:[2,27],13:[2,27],14:[2,27],15:[2,27],16:[2,27],41:[2,27]},{5:[2,28],11:[2,28],12:[2,28],13:[2,28],14:[2,28],15:[2,28],16:[2,28],41:[2,28]},{5:[2,29],11:[2,29],12:[2,29],13:[2,29],14:[2,29],15:[2,29],16:[2,29],41:[2,29]},{5:[2,30],11:[2,30],12:[2,30],13:[2,30],14:[2,30],15:[2,30],16:[2,30],41:[2,30]},{5:[2,31],11:[2,31],12:[2,31],13:[2,31],14:[2,31],15:[2,31],16:[2,31],41:[2,31]},{5:[2,32],11:[2,32],12:[2,32],13:[2,32],14:[2,32],15:[2,32],16:[2,32],41:[2,32]},{5:[2,33],11:[2,33],12:[2,33],13:[2,33],14:[2,33],15:[2,33],16:[2,33],41:[2,33]},{5:[2,34],11:[2,34],12:[2,34],13:[2,34],14:[2,34],15:[2,34],16:[2,34],41:[2,34]},{5:[2,35],11:[2,35],12:[2,35],13:[2,35],14:[2,35],15:[2,35],16:[2,35],41:[2,35]},{11:[2,37],12:[1,33],13:[1,34],14:[1,35],15:[1,36],16:[1,37],41:[2,37]}],defaultActions:{32:[2,1]},parseError:function T(X,W){throw new Error(X);
},parse:function U(ae){var al=this,ab=[0],av=[null],ag=[],aw=this.table,X="",af=0,at=0,Z=0,ad=2,ai=1;this.lexer.setInput(ae);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={};}var Y=this.lexer.yylloc;ag.push(Y);if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError;}function ak(ay){ab.length=ab.length-2*ay;av.length=av.length-ay;ag.length=ag.length-ay;}function aj(){var ay;ay=al.lexer.lex()||1;if(typeof ay!=="number"){ay=al.symbols_[ay]||ay;}return ay;}var ar,an,aa,aq,ax,ah,ap={},am,au,W,ac;while(true){aa=ab[ab.length-1];if(this.defaultActions[aa]){aq=this.defaultActions[aa];}else{if(ar==null){ar=aj();}aq=aw[aa]&&aw[aa][ar];}if(typeof aq==="undefined"||!aq.length||!aq[0]){if(!Z){ac=[];for(am in aw[aa]){if(this.terminals_[am]&&am>2){ac.push("'"+this.terminals_[am]+"'");}}var ao="";if(this.lexer.showPosition){ao="Parse error on line "+(af+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+ac.join(", ");}else{ao="Parse error on line "+(af+1)+": Unexpected "+(ar==1?"end of input":("'"+(this.terminals_[ar]||ar)+"'"));}this.parseError(ao,{text:this.lexer.match,token:this.terminals_[ar]||ar,line:this.lexer.yylineno,loc:Y,expected:ac});}if(Z==3){if(ar==ai){throw new Error(ao||"Parsing halted.");}at=this.lexer.yyleng;X=this.lexer.yytext;af=this.lexer.yylineno;Y=this.lexer.yylloc;ar=aj();}while(1){if((ad.toString()) in aw[aa]){break;}if(aa==0){throw new Error(ao||"Parsing halted.");}ak(1);aa=ab[ab.length-1];}an=ar;ar=ad;aa=ab[ab.length-1];aq=aw[aa]&&aw[aa][ad];Z=3;}if(aq[0] instanceof Array&&aq.length>1){throw new Error("Parse Error: multiple actions possible at state: "+aa+", token: "+ar);}switch(aq[0]){case 1:ab.push(ar);av.push(this.lexer.yytext);ag.push(this.lexer.yylloc);ab.push(aq[1]);ar=null;if(!an){at=this.lexer.yyleng;X=this.lexer.yytext;af=this.lexer.yylineno;Y=this.lexer.yylloc;if(Z>0){Z--;}}else{ar=an;an=null;}break;case 2:au=this.productions_[aq[1]][1];ap.$=av[av.length-au];ap._$={first_line:ag[ag.length-(au||1)].first_line,last_line:ag[ag.length-1].last_line,first_column:ag[ag.length-(au||1)].first_column,last_column:ag[ag.length-1].last_column};ah=this.performAction.call(ap,X,at,af,this.yy,aq[1],av,ag);if(typeof ah!=="undefined"){return ah;}if(au){ab=ab.slice(0,-1*au*2);av=av.slice(0,-1*au);ag=ag.slice(0,-1*au);}ab.push(this.productions_[aq[1]][0]);av.push(ap.$);ag.push(ap._$);W=aw[ab[ab.length-2]][ab[ab.length-1]];ab.push(W);break;case 3:return true;}}return true;}};var Q=(function(){var Z=({EOF:1,parseError:function ab(ae,ad){if(this.yy.parseError){this.yy.parseError(ae,ad);}else{throw new Error(ae);}},setInput:function(ad){this._input=ad;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this;},input:function(){var ae=this._input[0];this.yytext+=ae;this.yyleng++;this.match+=ae;this.matched+=ae;var ad=ae.match(/\n/);if(ad){this.yylineno++;}this._input=this._input.slice(1);return ae;},unput:function(ad){this._input=ad+this._input;return this;},more:function(){this._more=true;return this;},pastInput:function(){var ad=this.matched.substr(0,this.matched.length-this.match.length);return(ad.length>20?"...":"")+ad.substr(-20).replace(/\n/g,"");},upcomingInput:function(){var ad=this.match;if(ad.length<20){ad+=this._input.substr(0,20-ad.length);}return(ad.substr(0,20)+(ad.length>20?"...":"")).replace(/\n/g,"");},showPosition:function(){var ad=this.pastInput();var ae=new Array(ad.length+1).join("-");return ad+this.upcomingInput()+"\n"+ae+"^";},next:function(){if(this.done){return this.EOF;}if(!this._input){this.done=true;}var ah,af,ae,ad;if(!this._more){this.yytext="";this.match="";}var ai=this._currentRules();for(var ag=0;ag<ai.length;ag++){af=this._input.match(this.rules[ai[ag]]);if(af){ad=af[0].match(/\n.*/g);if(ad){this.yylineno+=ad.length;}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ad?ad[ad.length-1].length-1:this.yylloc.last_column+af[0].length};this.yytext+=af[0];this.match+=af[0];this.matches=af;this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(af[0].length);this.matched+=af[0];ah=this.performAction.call(this,this.yy,this,ai[ag],this.conditionStack[this.conditionStack.length-1]);if(ah){return ah;}else{return;}}}if(this._input===""){return this.EOF;}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});}},lex:function W(){var ad=this.next();if(typeof ad!=="undefined"){return ad;}else{return this.lex();}},begin:function X(ad){this.conditionStack.push(ad);},popState:function ac(){return this.conditionStack.pop();},_currentRules:function aa(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;}});Z.performAction=function Y(ah,ae,ag,ad){var af=ad;switch(ag){case 0:return 6;break;case 1:return 6;break;case 2:return 6;break;case 3:return 6;break;case 4:return 6;break;case 5:return 6;break;case 6:return 8;break;case 7:return 7;break;case 8:return 9;break;case 9:return 14;break;case 10:return 15;break;case 11:return 13;break;case 12:return 12;break;case 13:return 16;break;case 14:return 10;break;case 15:return 11;break;case 16:return 41;break;case 17:return 22;break;case 18:return 23;break;case 19:return 17;break;case 20:return 18;break;case 21:return 19;break;case 22:return 20;break;case 23:return 25;break;case 24:return 24;break;case 25:return 26;break;case 26:return 27;break;case 27:return 28;break;case 28:return 29;break;case 29:return 30;break;case 30:return 31;break;case 31:return 32;break;case 32:return 33;break;case 33:return 34;break;case 34:return 35;break;case 35:return 36;break;case 36:return 37;break;case 37:return 38;break;case 38:return 39;break;case 39:return 40;break;case 40:break;case 41:return 5;break;}};Z.rules=[/^0[xX][0-9a-fA-F]+/,/^[0-9]+[eE][-+]?[0-9]+/,/^[0-9]+\.([0-9]+)?([eE][-+]?[0-9]+)?/,/^([0-9]+)?\.[0-9]+([eE][-+]?[0-9]+)?/,/^[1-9][0-9]*/,/^0\b/,/^pi\b/,/^e\b/,/^i\b/,/^\*/,/^\//,/^-/,/^\+/,/^\^/,/^\(/,/^\)/,/^,/,/^re\b/,/^im\b/,/^abs\b/,/^phase\b/,/^conjugate\b/,/^rotate\b/,/^max\b/,/^min\b/,/^sqrt\b/,/^ln\b/,/^arcsin\b/,/^arccos\b/,/^arctan\b/,/^arctan2\b/,/^sin\b/,/^cos\b/,/^tan\b/,/^sinh\b/,/^cosh\b/,/^tanh\b/,/^arcsinh\b/,/^arccosh\b/,/^arctanh\b/,/^\s+/,/^$/];
Z.conditions={"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41],"inclusive":true}};return Z;})();V.lexer=Q;return V;})();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=F;exports.parse=function(){return F.parse.apply(F,arguments);};exports.main=function b(Q){if(!Q[1]){throw new Error("Usage: "+Q[0]+" FILE");}if(typeof process!=="undefined"){var S=require("fs").readFileSync(require("path").join(process.cwd(),Q[1]),"utf8");}else{var R=require("file").path(require("file").cwd());var S=R.join(Q[1]).read({charset:"utf-8"});}return exports.parser.parse(S);};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args);}}function l(Q){l.superclass.constructor.call(this,Q);}l.NAME="MathCanvas";l.ATTRS={func:{value:new e.MathFunction.Value(0),setter:function(Q){return e.Lang.isString(Q)?e.MathCanvas.Parser.parse(Q):Q;}},fontname:{value:"sans-serif",validator:e.Lang.isString},fontsize:{value:1,validator:e.Lang.isNumber},minwidth:{value:100,validator:e.Lang.isNumber},minheight:{value:100,validator:e.Lang.isNumber}};function D(Q,R){if(Q&&Q.newVal){Q=Q.newVal;}else{if(!Q){Q=this.get("min"+R);}}Q=Math.max(Q,this["render_"+R]+5);this.set(R,Q+"px");this.canvas.setAttribute(R,Q);}e.extend(l,e.Widget,{initializer:function(Q){this.after("funcChange",this._renderExpression);},renderUI:function(){var R=this.get("contentBox");this.on("minwidthChange",D,this,"width");this.on("minheightChange",D,this,"height");var Q=this.get("minwidth");this.set("width",Q+"px");var S=this.get("minheight");this.set("height",Q+"px");this.canvas=e.Node.create('<canvas width="'+Q+'" height="'+S+'" tabindex="0"></canvas>');R.appendChild(this.canvas);this.context=new e.Canvas.Context2d(this.canvas);e.mix(this.context,t);this.context.math_canvas=this;this._renderExpression();},destructor:function(){this.canvas=null;this.context=null;},_renderExpression:function(){this.context.clearRect(0,0,this.canvas.getAttribute("width"),this.canvas.getAttribute("height"));var S=this.get("func");if(!S){return;}this.rect_list=new k();var Q={x:0,y:0};S.prepareToRender(this.context,Q,100,this.rect_list);var R=this.rect_list.getBounds();this.render_width=k.width(R);D.call(this,null,"width");this.render_height=k.height(R);D.call(this,null,"height");this.context.save();this.context.translate(Math.floor((this.canvas.getAttribute("width")-(R.right-R.left))/2),Math.floor((this.canvas.getAttribute("height")-(R.bottom-R.top))/2));S.render(this.context,this.rect_list);this.context.restore();}});var h=Math.PI/6;var t={drawString:function(U,R,Q,T){var S=this.getLineHeight(Q);this._setFont(Q);this.set("textBaseline","top");this.fillText(T,U,Math.floor(R-S/2));},getLineHeight:function(Q){return(13*this.math_canvas.get("fontsize")*Q/100);},getStringWidth:function(Q,S){this.save();this._setFont(Q);var R=this.measureText(S).width;this.restore();return R;},_setFont:function(Q){this.set("font",(this.math_canvas.get("fontsize")*Q/100)+"em "+this.math_canvas.get("fontname"));},getSuperSubFontSize:function(Q){var R=Q*0.6;return Math.max(R,40);},getSuperscriptHeight:function(Q){return k.height(Q)/2;},getSubscriptDepth:function(Q){return k.height(Q)/2;},drawSquareBrackets:function(S){var R=S.bottom-S.top;var Q=this.getSquareBracketWidth(S)-2;this.moveTo(S.left-2,S.top);this.line(-Q,0);this.line(0,R-1);this.line(Q,0);this.stroke();this.moveTo(S.right+1,S.top);this.line(Q,0);this.line(0,R-1);this.line(-Q,0);this.stroke();},getSquareBracketWidth:function(R){var Q=R.bottom-R.top;return Math.round(3+((Q-1)/10));},drawParentheses:function(U){var T=U.bottom-U.top;var Q=T/(2*Math.sin(h));var R=Math.round(Q);var V=k.ycenter(U);var S=this.getParenthesisWidth(U);this.beginPath();this.arc(U.left-S+Q,V,R,Math.PI-h,Math.PI+h,false);this.stroke();this.beginPath();this.arc(U.right+S-Q,V,R,h,-h,true);this.stroke();},getParenthesisWidth:function(R){var Q=R.bottom-R.top;return 2+Math.round(0.5+(Q*(1-Math.cos(h)))/(2*Math.sin(h)));},drawVerticalBar:function(Q){this.moveTo(Q.left+1,Q.top);this.lineTo(Q.left+1,Q.bottom);this.stroke();},getVerticalBarWidth:function(){return 3;},drawHorizontalBar:function(Q){var R=Q.top+1;this.moveTo(Q.left,R);this.lineTo(Q.right-1,R);this.stroke();},getHorizontalBarHeight:function(){return 3;}};F.yy.MathFunction=e.MathFunction;e.MathCanvas=l;e.MathCanvas.RectList=k;e.MathCanvas.Parser=F;},"@VERSION@",{requires:["widget","collection","gallery-complexnumber","gallery-canvas"]});