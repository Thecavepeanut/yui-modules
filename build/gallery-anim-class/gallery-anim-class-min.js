YUI.add("gallery-anim-class",function(e,t){"use strict";function r(){e.Anim.behaviors.outlineColor||(e.Anim.behaviors.outlineColor=e.Anim.behaviors.color)}function i(t){return e.map(n,function(e){return t.getStyle(e)})}function s(e){return/[#0-9]/.test(e)}function o(e,t,n){n.cssClass&&e.removeClass(n.cssClass),t.cssClass&&e.addClass(t.cssClass)}function u(e,t,n){t.cssClass&&e.removeClass(t.cssClass),n.cssClass&&e.addClass(n.cssClass)}var n=["top","bottom","left","right","width","height","maxHeight","maxWidth","minHeight","minWidth","color","fontSize","fontSizeAdjust","fontWeight","textIndent","textShadow","wordSpacing","backgroundColor","backgroundPosition","backgroundSize","outlineColor","outlineWidth","marginTop","marginRight","marginBottom","marginLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderSpacing","paddingTop","paddingRight","paddingBottom","paddingLeft","zIndex","opacity","boxShadow","letterSpacing","lineHeight","markerOffset","orphans","widows","size","fillOpacity","outlineOffset","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","stroke","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"],a=e.Anim.prototype._start;e.Anim.prototype._start=function(){var t=this.get("node"),f=this.get("from")||{},l=this.get("to")||{};r(),delete this._class_diff_attr;if(f.cssClass||l.cssClass){u(t,f,l);var c=i(t);o(t,f,l);var h=i(t);this.get("reverse")&&u(t,f,l),this._class_diff_attr={fromClass:f.cssClass,from:[],toClass:l.cssClass,to:[]},e.each(c,function(e,t){var r=h[t];if(e!==r){var i=n[t];!f[i]&&s(r)&&(this._class_diff_attr.from.push(i),f[i]=r),!l[i]&&s(e)&&(this._class_diff_attr.to.push(i),l[i]=e)}},this),delete f.cssClass,this.set("from",f),delete l.cssClass,this.set("to",l)}a.apply(this,arguments)};var f=e.Anim.prototype._runFrame;e.Anim.prototype._runFrame=function(){var e=this.get("reverse");!e&&this._class_diff_attr&&this._class_diff_attr.fromClass?this.get("node").removeClass(this._class_diff_attr.fromClass):e&&this._class_diff_attr&&this._class_diff_attr.toClass&&this.get("node").removeClass(this._class_diff_attr.toClass),f.apply(this,arguments)};var l=e.Anim.prototype._end;e.Anim.prototype._end=function(){if(this._class_diff_attr){var t=this.get("node"),n=this.get("from")||{},r=this.get("to")||{};e.each(this._class_diff_attr.from,function(e){delete n[e]}),n.cssClass=this._class_diff_attr.fromClass,this.set("from",n),e.each(this._class_diff_attr.to,function(e){delete r[e],t.setStyle(e,"")}),r.cssClass=this._class_diff_attr.toClass,this.set("to",r),this.get("reverse")?o(t,n,r):u(t,n,r)}l.apply(this,arguments)}},"@VERSION@",{requires:["anim-base","node-style","gallery-funcprog"],optional:[""]});
