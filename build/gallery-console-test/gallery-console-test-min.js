YUI.add("gallery-console-test",function(C){function A(D){A.superclass.constructor.call(this,D);}A.NAME="ConsoleTestPlugin";A.NS="test";function B(E){var D='<option value="-1">All tests</option>';C.Array.each(C.Test.Runner.masterSuite.items,function(G,F){D+=C.Lang.sub('<option value="{i}">{t}</option>',{i:F,t:G.name});});E.set("innerHTML",D);}C.extend(A,C.Plugin.Base,{initializer:function(D){this.doAfter("renderUI",this.renderUI);if(this.get("host").get("rendered")){this.renderUI();}},destructor:function(){this.container.remove();},renderUI:function(){var G=this.get("host").get("contentBox").one("."+C.Console.CHROME_CLASSES.console_ft_class);if(G){this.container=C.Node.create(C.Lang.sub('<div class="{c}">'+'<select class="menu"></select>'+'<button class="run">{b1}</button>'+'<button class="refresh">{b2}</button>'+"</div>",{c:C.ClassNameManager.getClassName("console","test","container"),b1:"Run",b2:"Refresh"}));var F=this.container.one("select");B(F);this.container.one("button.run").on("click",function(){var H=F.get("value");if(H>=0){var J=C.Test.Runner.masterSuite.items;C.Test.Runner.clear();C.Test.Runner.add(J[H]);var I=C.Test.Runner.on("complete",function(){I.detach();C.Test.Runner.clear();C.Array.each(J,function(K){C.Test.Runner.add(K);});});}C.Test.Runner.run();});this.container.one("button.refresh").on("click",function(){B(F);});var E=G.one("."+C.Console.CHROME_CLASSES.console_controls_class);var D=E.get("nextSibling");if(D){G.insertBefore(this.container,D);}else{G.appendChild(this.container);}}}});C.namespace("Plugin");C.Plugin.ConsoleTest=A;},"@VERSION@",{requires:["console","plugin","test"],skinnable:true});