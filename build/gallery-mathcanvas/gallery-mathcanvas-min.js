YUI.add("gallery-mathcanvas",function(e,t){"use strict";function n(){this.list=[]}function r(){this.parent=null}function i(t){i.superclass.constructor.call(this);var n=e.Lang.isString(t);n&&(t.indexOf(".")>=0||!/x/i.test(t)&&/e/i.test(t))?this.value=parseFloat(t):n?this.value=parseInt(t):this.value=t}function s(e){s.superclass.constructor.call(this),this.name=e}function o(){o.superclass.constructor.call(this)}function u(){u.superclass.constructor.call(this)}function a(){a.superclass.constructor.call(this)}function f(t,n){f.superclass.constructor.call(this),this.name=t,e.Lang.isArray(n)&&e.Lang.isArray(n[0])&&(n=n[0]),this.args=[];if(e.Lang.isArray(n))for(var r=0;r<n.length;r++)this.appendArg(n[r]);else for(var r=1;r<arguments.length;r++)this.appendArg(arguments[r])}function l(e){l.superclass.constructor.call(this,"-",e)}function c(){E.superclass.constructor.call(this,"+",new e.Array(arguments))}function h(){E.superclass.constructor.call(this,"*",new e.Array(arguments))}function p(e,t){p.superclass.constructor.call(this,"/",e,t)}function d(e){d.superclass.constructor.call(this,"abs",e)}function v(e){v.superclass.constructor.call(this,"phase",e)}function m(e){m.superclass.constructor.call(this,"conjugate",e)}function g(e){g.superclass.constructor.call(this,"rotate",e)}function y(e){y.superclass.constructor.call(this,"re",e)}function b(e){b.superclass.constructor.call(this,"im",e)}function w(){w.superclass.constructor.call(this,"min",new e.Array(arguments))}function E(){E.superclass.constructor.call(this,"max",new e.Array(arguments))}function S(e){S.superclass.constructor.call(this,"sqrt",e)}function x(e,t){x.superclass.constructor.call(this,"^",e,t)}function T(e,t){T.superclass.constructor.call(this,"log",e,t)}function N(e){N.superclass.constructor.call(this,"ln",e)}function C(e){C.superclass.constructor.call(this,"sin",e)}function k(e){k.superclass.constructor.call(this,"cos",e)}function L(e){L.superclass.constructor.call(this,"tan",e)}function A(e){A.superclass.constructor.call(this,"arcsin",e)}function O(e){O.superclass.constructor.call(this,"arccos",e)}function M(e){M.superclass.constructor.call(this,"arctan",e)}function _(e,t){_.superclass.constructor.call(this,"arctan2",e,t)}function D(e){D.superclass.constructor.call(this,"cosh",e)}function P(e){P.superclass.constructor.call(this,"sinh",e)}function H(e){H.superclass.constructor.call(this,"tanh",e)}function B(e){B.superclass.constructor.call(this,"arccosh",e)}function j(e){j.superclass.constructor.call(this,"arcsinh",e)}function F(e){F.superclass.constructor.call(this,"arctanh",e)}function q(e){q.superclass.constructor.call(this,e)}function R(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=Math.max(this.get("min"+t),this["render_"+e]+5);this.set(e,n+"px"),this.canvas.setAttribute(e,n)}n.width=function(e){return e.right-e.left},n.height=function(e){return e.bottom-e.top},n.xcenter=function(e){return Math.floor((e.left+e.right)/2)},n.ycenter=function(e){return Math.floor((e.top+e.bottom)/2)},n.area=function(e){return n.width(e)*n.height(e)},n.containsPt=function(e,t){return e.left<=t[0]&&t[0]<e.right&&e.top<=t[1]&&t[1]<e.bottom},n.containsRect=function(e,t){return e.left<=t.left&&t.left<=t.right&&t.right<=e.right&&e.top<=t.top&&t.top<=t.bottom&&t.bottom<=e.bottom},n.cover=function(e,t){var n={top:Math.min(e.top,t.top),left:Math.min(e.left,t.left),bottom:Math.max(e.bottom,t.bottom),right:Math.max(e.right,t.right)};return n},n.prototype={add:function(e,t,n,r){return this.list.push({rect:e,midline:t,font_size:n,func:r}),this.list.length-1},get:function(e){return this.list[e]},find:function(t){return e.Array.find(this.list,function(e){return e.func===t})},findIndex:function(t){return e.Array.indexOf(this.list,this.find(t))},shift:function(t,n,r){if(n===0&&r===0)return;var i=this.list[t],s=e.clone(i.rect,!0);i.rect.top+=r,i.rect.left+=n,i.rect.bottom+=r,i.rect.right+=n,i.midline+=r,e.Array.each(this.list,function(e){s.left<=e.rect.left&&e.rect.right<=s.right&&s.top<=e.rect.top&&e.rect.bottom<=s.bottom&&(e.rect.top+=r,e.rect.left+=n,e.rect.bottom+=r,e.rect.right+=n,e.midline+=r)})},setMidline:function(e,t){this.shift(e,0,t-this.list[e].midline)},getBounds:function(){return this.list[this.list.length-1].rect},getSelection:function(t,r){var i=this.getBounds();if(!n.containsPt(i,t))return-1;var s=0,o=this.list.length-1;return e.Array.each(this.list,function(e,i){var u=n.area(e.rect);n.containsPt(e.rect,t)&&n.containsPt(e.rect,r)&&(s===0||u<s)&&(o=i,s=u)}),o},getParent:function(e){var t=this.list[e].rect;for(var r=e+1;r<this.list.length;r++){var i=this.list[r].rect;if(n.containsRect(i,t))return r}return this.list.length-1}},r.prototype={getParent:function(){return this.parent},prepareToRender:function(e,t,r,i){var s=this.toString(),o={top:t.y,left:t.x,bottom:t.y+e.getLineHeight(r),right:t.x+e.getStringWidth(r,s)};return i.add(o,n.ycenter(o),r,this)},render:function(e,t){var n=t.find(this);e.drawString(n.rect.left,n.midline,n.font_size,this.toString())},parenthesizeForPrint:function(e){return this instanceof f},parenthesizeForRender:function(e){return this instanceof f}},r.updateSum=function(e,t){return e instanceof c?(e.appendArg(t),e):new c(e,t)},r.updateProduct=function(e,t){return e instanceof h?(e.appendArg(t),e):new h(e,t)},e.MathFunction=r,e.extend(i,r,{evaluate:function(){return this.value},toString:function(){return this.value}}),r.Value=i,e.extend(s,r,{evaluate:function(t){var n=t[this.name];if(e.Lang.isUndefined(n))throw new Error("undefined variable: "+this.name);return n instanceof r?n.evaluate(t):n},toString:function(){return this.name}}),r.Variable=s,e.extend(o,r,{evaluate:function(){return Math.PI},toString:function(){return"\u03c0"}}),r.Pi=o,e.extend(u,r,{evaluate:function(){return Math.E},toString:function(){return"e"}}),r.E=u,e.extend(a,r,{evaluate:function(){return e.ComplexMath.I},toString:function(){return"i"}}),r.I=a,e.extend(f,r,{getArgCount:function(){return this.args.length},getArg:function(e){return this.args[e]},appendArg:function(e){e.parent=this,this.args.push(e)},removeArg:function(t){var n=e.Array.indexOf(this.args,t);n>=0&&(t.parent=null,this.args.splice(n,1))},replaceArg:function(t,n){var r=e.Array.indexOf(this.args,t);r>=0&&(t.parent=null,n.parent=this,this.args[r]=n)},evaluateArgs:function(t){return e.Array.map(this.args,function(e){return e.evaluate(t)})},prepareToRender:function(e,t,r,i){var s={top:t.y,left:t.x,bottom:t.y+e.getLineHeight(r),right:t.x+e.getStringWidth(r,this.name)},o=n.ycenter(s),u=o,a={x:s.right,y:s.top},f=e.getStringWidth(r,", "),l=this.args.length,c=[];for(var h=0;h<l;h++){var p=this.args[h].prepareToRender(e,a,r,i),d=i.get(p),v=d.rect;a.x=v.right+f,s=n.cover(s,v),o=Math.max(o,d.midline),c.push(p)}if(l>1&&o>u)for(var h=0;h<l;h++){var p=c[h];i.setMidline(p,o),s=n.cover(s,i.get(p).rect)}var m=e.getParenthesisWidth(s);for(var h=0;h<l;h++)i.shift(c[h],m,0);return s.right+=2*m,i.add(s,o,r,this)},render:function(e,t){var n=t.find(this);e.drawString(n.rect.left,n.midline,n.font_size,this.name);var r={top:n.rect.top,bottom:n.rect.bottom};for(var i=0;i<this.args.length;i++){this.args[i].render(e,t);var n=t.find(this.args[i]),s=n.rect;i===0&&(r.left=s.left),i<this.args.length-1?e.drawString(s.right,n.midline,n.font_size,","):(r.right=s.right,e.drawParentheses(r))}},toString:function(){return this.name+"("+this.args.join(",")+")"},_printArg:function(e){var t=e instanceof r?e:this.args[e];return t.parenthesizeForPrint(this)?"("+t+")":t.toString()}}),r.FunctionWithArgs=f,e.extend(l,f,{evaluate:function(t){return e.ComplexMath.subtract(0,this.args[0].evaluate(t))},prepareToRender:function(t,r,i,s){var o=e.clone(r,!0);o.x+=t.getStringWidth(i,"-");var u=this.args[0];u instanceof p&&(o.x+=t.getStringWidth(i," "));var a={top:r.y,left:r.x,bottom:r.y+t.getLineHeight(i),right:o.x},f=u.prepareToRender(t,o,i,s),l=s.get(f);if(u.parenthesizeForRender(this)){var c=t.getParenthesisWidth(l.rect);s.shift(f,c,0),a.right=l.rect.right+c}return a=n.cover(a,l.rect),s.add(a,l.midline,i,this)},render:function(e,t){var n=t.find(this);e.drawString(n.rect.left,n.midline,n.font_size,"-");var r=this.args[0];r.render(e,t);if(r.parenthesizeForRender(this)){var i=t.find(r);e.drawParentheses(i.rect)}},toString:function(){return"-"+this._printArg(0)}}),r.Negate=l,e.extend(c,f,{evaluate:function(t){return e.ComplexMath.add(this.evaluateArgs(t))},prepareToRender:function(t,r,i,s){var o=e.clone(r,!0),u={top:r.y,left:r.x,bottom:r.y+t.getLineHeight(i),right:r.x},a=n.ycenter(u),f=a,c=t.getStringWidth(i," "),h=t.getStringWidth(i,"+"),p=t.getStringWidth(i,"-");return e.Array.each(this.args,function(e,r){var f=this;e instanceof l?(r>0&&(o.x+=c),o.x+=p+c,f=e,e=e.args[0]):r>0&&(o.x+=h+2*c);var d=e.prepareToRender(t,o,i,s),v=s.get(d);o.x=v.rect.right;if(e.parenthesizeForRender(f)){var m=t.getParenthesisWidth(v.rect);s.shift(d,m,0),o.x+=2*m,u.right=v.rect.right+m}u=n.cover(u,v.rect),a=Math.max(a,v.midline)},this),this.args.length>1&&a>f&&e.Array.each(this.args,function(e){e instanceof l&&(e=e.args[0]);var t=s.findIndex(e);s.setMidline(t,a),u=n.cover(u,s.get(t).rect)}),s.add(u,a,i,this)},render:function(t,n){var r=n.find(this),i=r.rect.left,s=t.getStringWidth(r.font_size," ");e.Array.each(this.args,function(e,o){var u=this;e instanceof l?(t.drawString(i,r.midline,r.font_size,"-"),u=e,e=e.args[0]):o>0&&t.drawString(i,r.midline,r.font_size,"+"),e.render(t,n);var a=n.find(e);i=a.rect.right,e.parenthesizeForRender(u)&&(t.drawParentheses(a.rect),i+=t.getParenthesisWidth(a.rect)),i+=s},this)},toString:function(){return e.Array.reduce(this.args,"",function(e,t,n){return t instanceof l?(e+="-",t=t.args[0]):n>0&&(e+="+"),e+this._printArg(t)},this)}}),r.Sum=c,e.extend(h,f,{evaluate:function(t){return e.ComplexMath.multiply(this.evaluateArgs(t))},prepareToRender:function(t,r,i,s){var o=e.clone(r,!0),u={top:r.y,left:r.x,bottom:r.y+t.getLineHeight(i),right:r.x},a=n.ycenter(u),f=a,l=t.getStringWidth(i,"\u00b7");return e.Array.each(this.args,function(e,r){var f=e.prepareToRender(t,o,i,s),c=s.get(f);o.x=c.rect.right+l;if(e.parenthesizeForRender(this)){var h=t.getParenthesisWidth(c.rect);s.shift(f,h,0),o.x+=2*h,u.right=c.rect.right+h}u=n.cover(u,c.rect),a=Math.max(a,c.midline)},this),this.args.length>1&&a>f&&e.Array.each(this.args,function(e){var t=s.findIndex(e);s.setMidline(t,a),u=n.cover(u,s.get(t).rect)}),s.add(u,a,i,this)},render:function(t,n){var r=n.find(this),i=r.rect.left,s=t.getStringWidth(r.font_size,"\u00b7");e.Array.each(this.args,function(e,s){s>0&&t.drawString(i,r.midline,r.font_size,"\u00b7"),e.render(t,n);var o=n.find(e);i=o.rect.right,e.parenthesizeForRender(this)&&(t.drawParentheses(o.rect),i+=t.getParenthesisWidth(o.rect))},this)},toString:function(){return e.Array.reduce(this.args,"",function(e,t,n){return n>0&&(e+="*"),e+this._printArg(n)},this)}}),r.Product=h,e.extend(p,f,{evaluate:function(t){return e.ComplexMath.divide(this.args[0].evaluate(t),this.args[1].evaluate(t))},prepareToRender:function(t,r,i,s){var o={top:r.y,left:r.x,bottom:r.y,right:r.x},u=t.getStringWidth(i," "),a=e.clone(r,!0);a.x+=u;var f=this.args[0].prepareToRender(t,a,i,s),l=s.get(f);a.y=l.rect.bottom,o=n.cover(o,l.rect);var c=t.getHorizontalBarHeight(),h=a.y+c/2;a.y+=c;var p=this.args[1].prepareToRender(t,a,i,s),d=s.get(p);o=n.cover(o,d.rect);var v=(l.rect.right-d.rect.right)/2;return v>0?s.shift(p,v,0):v<0&&s.shift(f,-v,0),o.right+=u,s.add(o,h,i,this)},render:function(e,t){var n=t.find(this),r=e.getHorizontalBarHeight(),i={top:n.midline-r/2,left:n.rect.left,bottom:n.midline+r/2,right:n.rect.right};this.args[0].render(e,t),e.drawHorizontalBar(i),this.args[1].render(e,t)},toString:function(){return this._printArg(0)+"/"+this._printArg(1)}}),r.Quotient=p,e.extend(d,f,{evaluate:function(t){return e.ComplexMath.abs(this.args[0].evaluate(t))},prepareToRender:function(e,t,n,r){var i=e.getVerticalBarWidth(),s=this.args[0],o=s.prepareToRender(e,t,n,r),u=r.get(o);r.shift(o,i,0);var a={top:t.y,left:t.x,bottom:u.rect.bottom,right:u.rect.right+i};return r.add(a,u.midline,n,this)},render:function(t,n){var r=n.find(this);t.drawVerticalBar(r.rect),this.args[0].render(t,n);var i=e.clone(r.rect,!0);i.left=i.right-t.getVerticalBarWidth(),t.drawVerticalBar(i)}}),r.Magnitude=d,e.extend(v,f,{evaluate:function(t){return e.ComplexMath.phase(this.args[0].evaluate(t))}}),r.Phase=v,e.extend(m,f,{evaluate:function(t){return e.ComplexMath.conjugate(this.args[0].evaluate(t))},prepareToRender:function(t,n,r,i){var s=t.getHorizontalBarHeight(),o=e.clone(n,!0);o.y+=s;var u=this.args[0].prepareToRender(t,o,r,i),a=i.get(u),f=e.clone(a.rect,!0);return f.top-=s,i.add(f,a.midline,r,this)},render:function(e,t){var n=t.find(this);e.drawHorizontalBar(n.rect),this.args[0].render(e,t)}}),r.Conjugate=m,e.extend(g,f,{evaluate:function(t){return e.ComplexMath.rotate(this.args[0].evaluate(t),this.args[1].evaluate(t))}}),r.Rotate=g,e.extend(y,f,{evaluate:function(t){var n=this.args[0].evaluate(t);return e.ComplexMath.isComplexNumber(n)?n.real():n}}),r.RealPart=y,e.extend(b,f,{evaluate:function(t){var n=this.args[0].evaluate(t);return e.ComplexMath.isComplexNumber(n)?n.imag():0}}),r.ImaginaryPart=b,e.extend(w,f,{evaluate:function(e){return Math.min.apply(null,this.evaluateArgs(e))}}),r.Min=w,e.extend(E,f,{evaluate:function(e){return Math.max.apply(null,this.evaluateArgs(e))}}),r.Max=E,e.extend(S,f,{evaluate:function(t){return e.ComplexMath.sqrt(this.args[0].evaluate(t))},prepareToRender:function(e,t,r,i){var s=this.args[0].prepareToRender(e,t,r,i),o=i.get(s),u=n.height(o.rect),a=1+Math.round(2*u/(4*Math.sqrt(3))),f=3,l=4;i.shift(s,a,l);var c={top:t.y,left:t.x,bottom:o.rect.bottom,right:o.rect.right+f};return i.add(c,o.midline,r,this)},render:function(e,t){var n=t.find(this);this._drawSquareRoot(e,n.rect),this.args[0].render(e,t)},_drawSquareRoot:function(e,t){var r=n.height(t),i=t.left,s=t.top+Math.round(3*r/4),o=Math.round((r-3)/(4*Math.sqrt(3)));e.beginPath(),e.moveTo(i,s),i+=o,s=t.bottom-1,e.lineTo(i,s),i+=o,s=t.top+2,e.lineTo(i,s),i=t.right-1,e.lineTo(i,s),e.line(0,Math.round(r/8)),e.stroke()}}),r.SquareRoot=S,e.extend(x,f,{evaluate:function(t){return e.ComplexMath.pow(this.args[0].evaluate(t),this.args[1].evaluate(t))},prepareToRender:function(t,r,i,s){var o=t.getStringWidth(i," "),u=e.clone(r,!0);u.x+=o;var a=this.args[0].prepareToRender(t,u,i,s),f=s.get(a);u.x=f.rect.right;if(this.args[0].parenthesizeForRender(this)){var l=t.getParenthesisWidth(f.rect);s.shift(a,l,0),u.x+=2*l}var c=t.getSuperSubFontSize(i),h=this.args[1].prepareToRender(t,u,c,s),p=s.get(h),d={top:r.y,left:r.x,bottom:r.y+n.height(p.rect)+t.getSuperscriptHeight(f.rect),right:p.rect.right};return d.bottom>f.rect.bottom?s.shift(a,0,d.bottom-f.rect.bottom):d.bottom=f.rect.bottom,s.add(d,f.midline,i,this)},render:function(e,t){if(this.args[0].parenthesizeForRender(this)){var n=t.find(this.args[0]);e.drawParentheses(n.rect)}this.args[0].render(e,t),this.args[1].render(e,t)},toString:function(){return this._printArg(0)+"^"+this._printArg(1)}}),r.Exponential=x,e.extend(T,f,{evaluate:function(t){return e.ComplexMath.divide(e.ComplexMath.log(this.args[1].evaluate(t)),e.ComplexMath.log(this.args[0].evaluate(t)))},prepareToRender:function(e,t,r,i){var s={top:t.y,left:t.x,bottom:t.y+e.getLineHeight(r),right:t.x+e.getStringWidth(r,"log")},o={x:s.right,y:s.top},u=e.getSuperSubFontSize(r),a=this.args[0].prepareToRender(e,o,u,i),f=i.get(a);o.x=f.rect.right;var l=this.args[1].prepareToRender(e,o,r,i),c=i.get(l);s=n.cover(s,c.rect);var h=e.getParenthesisWidth(c.rect);return i.shift(l,h,0),s.right+=2*h,i.shift(a,0,c.midline-s.top),s=n.cover(s,f.rect),i.add(s,c.midline,r,this)},render:function(e,t){var n=t.find(this);e.drawString(n.rect.left,n.midline,n.font_size,"log"),this.args[0].render(e,t),this.args[1].render(e,t);var r=t.find(this.args[1]);e.drawParentheses(r.rect)}}),r.Logarithm=T,e.extend(N,f,{evaluate:function(t){return e.ComplexMath.log(this.args[0].evaluate(t))}}),r.NaturalLog=N,e.extend(C,f,{evaluate:function(t){return e.ComplexMath.sin(this.args[0].evaluate(t))}}),r.Sine=C,e.extend(k,f,{evaluate:function(t){return e.ComplexMath.cos(this.args[0].evaluate(t))}}),r.Cosine=k,e.extend(L,f,{evaluate:function(t){return e.ComplexMath.tan(this.args[0].evaluate(t))}}),r.Tangent=L,e.extend(A,f,{evaluate:function(e){return Math.asin(this.args[0].evaluate(e))}}),r.Arcsine=A,e.extend(O,f,{evaluate:function(e){return Math.acos(this.args[0].evaluate(e))}}),r.Arccosine=O,e.extend(M,f,{evaluate:function(e){return Math.atan(this.args[0].evaluate(e))}}),r.Arctangent=M,e.extend(_,f,{evaluate:function(e){return Math.atan2(this.args[0].evaluate(e),this.args[1].evaluate(e))}}),r.Arctangent2=_,e.extend(D,f,{evaluate:function(t){return e.ComplexMath.cosh(this.args[0].evaluate(t))}}),r.HyperbolicCosine=D,e.extend(P,f,{evaluate:function(t){return e.ComplexMath.sinh(this.args[0].evaluate(t))}}),r.HyperbolicSine=P,e.extend(H,f,{evaluate:function(t){return e.ComplexMath.tanh(this.args[0].evaluate(t))}}),r.HyperbolicTangent=H,e.extend(B,f,{evaluate:function(t){return e.ComplexMath.acosh(this.args[0].evaluate(t))}}),r.InverseHyperbolicCosine=B,e.extend(j,f,{evaluate:function(t){return e.ComplexMath.asinh(this.args[0].evaluate(t))}}),r.InverseHyperbolicSine=j,e.extend(F,f,{evaluate:function(t){return e.ComplexMath.atanh(this.args[0].evaluate(t))}}),r.InverseHyperbolicTangent=F;var I=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expression:3,e:4,EOF:5,NUMBER:6,E:7,PI:8,I:9,VARIABLE:10,"(":11,")":12,"+":13,"-":14,"*":15,"/":16,"^":17,ABS:18,PHASE:19,CONJUGATE:20,ROTATE:21,arglist:22,RE:23,IM:24,MIN:25,MAX:26,SQRT:27,LOG:28,LOG2:29,LOG10:30,LN:31,ARCSIN:32,ARCCOS:33,ARCTAN:34,ARCTAN2:35,SIN:36,COS:37,TAN:38,SINH:39,COSH:40,TANH:41,ARCSINH:42,ARCCOSH:43,ARCTANH:44,",":45,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"NUMBER",7:"E",8:"PI",9:"I",10:"VARIABLE",11:"(",12:")",13:"+",14:"-",15:"*",16:"/",17:"^",18:"ABS",19:"PHASE",20:"CONJUGATE",21:"ROTATE",23:"RE",24:"IM",25:"MIN",26:"MAX",27:"SQRT",28:"LOG",29:"LOG2",30:"LOG10",31:"LN",32:"ARCSIN",33:"ARCCOS",34:"ARCTAN",35:"ARCTAN2",36:"SIN",37:"COS",38:"TAN",39:"SINH",40:"COSH",41:"TANH",42:"ARCSINH",43:"ARCCOSH",44:"ARCTANH",45:","},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[22,1],[22,3]],performAction:function(t,n,r,i,s,o,u){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=new i.MathFunction.Value(t);break;case 3:this.$=new i.MathFunction.E;break;case 4:this.$=new i.MathFunction.Pi;break;case 5:this.$=new i.MathFunction.I;break;case 6:this.$=new i.MathFunction.Variable(t);break;case 7:this.$=o[a-1];break;case 8:this.$=i.MathFunction.updateSum(o[a-2],o[a]);break;case 9:this.$=i.MathFunction.updateSum(o[a-2],new i.MathFunction.Negate(o[a]));break;case 10:this.$=i.MathFunction.updateProduct(o[a-2],o[a]);break;case 11:this.$=new i.MathFunction.Quotient(o[a-2],o[a]);break;case 12:this.$=new i.MathFunction.Exponential(o[a-2],o[a]);break;case 13:this.$=new i.MathFunction.Negate(o[a]);break;case 14:this.$=new i.MathFunction.Magnitude(o[a-1]);break;case 15:this.$=new i.MathFunction.Phase(o[a-1]);break;case 16:this.$=new i.MathFunction.Conjugate(o[a-1]);break;case 17:this.$=new i.MathFunction.Rotate(o[a-1]);break;case 18:this.$=new i.MathFunction.RealPart(o[a-1]);break;case 19:this.$=new i.MathFunction.ImaginaryPart(o[a-1]);break;case 20:this.$=new i.MathFunction.Min(o[a-1]);break;case 21:this.$=new i.MathFunction.Max(o[a-1]);break;case 22:this.$=new i.MathFunction.SquareRoot(o[a-1]);break;case 23:this.$=new i.MathFunction.Logarithm(o[a-1]);break;case 24:this.$=new i.MathFunction.Logarithm(new i.MathFunction.Value(2),o[a-1]);break;case 25:this.$=new i.MathFunction.Logarithm(new i.MathFunction.Value(10),o[a-1]);break;case 26:this.$=new i.MathFunction.NaturalLog(o[a-1]);break;case 27:this.$=new i.MathFunction.Arcsine(o[a-1]);break;case 28:this.$=new i.MathFunction.Arccosine(o[a-1]);break;case 29:this.$=new i.MathFunction.Arctangent(o[a-1]);break;case 30:this.$=new i.MathFunction.Arctangent2(o[a-1]);break;case 31:this.$=new i.MathFunction.Sine(o[a-1]);break;case 32:this.$=new i.MathFunction.Cosine(o[a-1]);break;case 33:this.$=new i.MathFunction.Tangent(o[a-1]);break;case 34:this.$=new i.MathFunction.HyperbolicSine(o[a-1]);break;case 35:this.$=new i.MathFunction.HyperbolicCosine(o[a-1]);break;case 36:this.$=new i.MathFunction.HyperbolicTangent(o[a-1]);break;case 37:this.$=new i.MathFunction.InverseHyperbolicSine(o[a-1]);break;case 38:this.$=new i.MathFunction.InverseHyperbolicCosine(o[a-1]);break;case 39:this.$=new i.MathFunction.InverseHyperbolicTangent(o[a-1]);break;case 40:this.$=[o[a]];break;case 41:this.$=o[a-2].concat(o[a])}},table:[{3:1,4:2,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{1:[3]},{5:[1,36],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{5:[2,2],12:[2,2],13:[2,2],14:[2,2],15:[2,2],16:[2,2],17:[2,2],45:[2,2]},{5:[2,3],12:[2,3],13:[2,3],14:[2,3],15:[2,3],16:[2,3],17:[2,3],45:[2,3]},{5:[2,4],12:[2,4],13:[2,4],14:[2,4],15:[2,4],16:[2,4],17:[2,4],45:[2,4]},{5:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[2,5],17:[2,5],45:[2,5]},{5:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[2,6],17:[2,6],45:[2,6]},{4:42,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:43,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{11:[1,44]},{11:[1,45]},{11:[1,46]},{11:[1,47]},{11:[1,48]},{11:[1,49]},{11:[1,50]},{11:[1,51]},{11:[1,52]},{11:[1,53]},{11:[1,54]},{11:[1,55]},{11:[1,56]},{11:[1,57]},{11:[1,58]},{11:[1,59]},{11:[1,60]},{11:[1,61]},{11:[1,62]},{11:[1,63]},{11:[1,64]},{11:[1,65]},{11:[1,66]},{11:[1,67]},{11:[1,68]},{11:[1,69]},{1:[2,1]},{4:70,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:71,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:72,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:73,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:74,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{12:[1,75],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{5:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],17:[2,13],45:[2,13]},{4:76,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:77,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:78,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:80,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],22:79,23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:81,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:82,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:80,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],22:83,23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:80,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],22:84,23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:85,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:80,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],22:86,23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:87,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:88,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:89,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:90,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:91,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:92,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:80,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],22:93,23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:94,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:95,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:96,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:97,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:98,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:99,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:100,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:101,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{4:102,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{5:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[1,39],16:[1,40],17:[1,41],45:[2,8]},{5:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[1,39],16:[1,40],17:[1,41],45:[2,9]},{5:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[2,10],17:[1,41],45:[2,10]},{5:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],17:[1,41],45:[2,11]},{5:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],17:[2,12],45:[2,12]},{5:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[2,7],17:[2,7],45:[2,7]},{12:[1,103],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,104],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,105],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,106],45:[1,107]},{12:[2,40],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41],45:[2,40]},{12:[1,108],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,109],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,110],45:[1,107]},{12:[1,111],45:[1,107]},{12:[1,112],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,113],45:[1,107]},{12:[1,114],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,115],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,116],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,117],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,118],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,119],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,120],45:[1,107]},{12:[1,121],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,122],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,123],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,124],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,125],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,126],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,127],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,128],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{12:[1,129],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41]},{5:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],17:[2,14],45:[2,14]},{5:[2,15],12:[2,15],13:[2,15],14:[2,15],15:[2,15],16:[2,15],17:[2,15],45:[2,15]},{5:[2,16],12:[2,16],13:[2,16],14:[2,16],15:[2,16],16:[2,16],17:[2,16],45:[2,16]},{5:[2,17],12:[2,17],13:[2,17],14:[2,17],15:[2,17],16:[2,17],17:[2,17],45:[2,17]},{4:130,6:[1,3],7:[1,4],8:[1,5],9:[1,6],10:[1,7],11:[1,8],14:[1,9],18:[1,10],19:[1,11],20:[1,12],21:[1,13],23:[1,14],24:[1,15],25:[1,16],26:[1,17],27:[1,18],28:[1,19],29:[1,20],30:[1,21],31:[1,22],32:[1,23],33:[1,24],34:[1,25],35:[1,26],36:[1,27],37:[1,28],38:[1,29],39:[1,30],40:[1,31],41:[1,32],42:[1,33],43:[1,34],44:[1,35]},{5:[2,18],12:[2,18],13:[2,18],14:[2,18],15:[2,18],16:[2,18],17:[2,18],45:[2,18]},{5:[2,19],12:[2,19],13:[2,19],14:[2,19],15:[2,19],16:[2,19],17:[2,19],45:[2,19]},{5:[2,20],12:[2,20],13:[2,20],14:[2,20],15:[2,20],16:[2,20],17:[2,20],45:[2,20]},{5:[2,21],12:[2,21],13:[2,21],14:[2,21],15:[2,21],16:[2,21],17:[2,21],45:[2,21]},{5:[2,22],12:[2,22],13:[2,22],14:[2,22],15:[2,22],16:[2,22],17:[2,22],45:[2,22]},{5:[2,23],12:[2,23],13:[2,23],14:[2,23],15:[2,23],16:[2,23],17:[2,23],45:[2,23]},{5:[2,24],12:[2,24],13:[2,24],14:[2,24],15:[2,24],16:[2,24],17:[2,24],45:[2,24]},{5:[2,25],12:[2,25],13:[2,25],14:[2,25],15:[2,25],16:[2,25],17:[2,25],45:[2,25]},{5:[2,26],12:[2,26],13:[2,26],14:[2,26],15:[2,26],16:[2,26],17:[2,26],45:[2,26]},{5:[2,27],12:[2,27],13:[2,27],14:[2,27],15:[2,27],16:[2,27],17:[2,27],45:[2,27]},{5:[2,28],12:[2,28],13:[2,28],14:[2,28],15:[2,28],16:[2,28],17:[2,28],45:[2,28]},{5:[2,29],12:[2,29],13:[2,29],14:[2,29],15:[2,29],16:[2,29],17:[2,29],45:[2,29]},{5:[2,30],12:[2,30],13:[2,30],14:[2,30],15:[2,30],16:[2,30],17:[2,30],45:[2,30]},{5:[2,31],12:[2,31],13:[2,31],14:[2,31],15:[2,31],16:[2,31],17:[2,31],45:[2,31]},{5:[2,32],12:[2,32],13:[2,32],14:[2,32],15:[2,32],16:[2,32],17:[2,32],45:[2,32]},{5:[2,33],12:[2,33],13:[2,33],14:[2,33],15:[2,33],16:[2,33],17:[2,33],45:[2,33]},{5:[2,34],12:[2,34],13:[2,34],14:[2,34],15:[2,34],16:[2,34],17:[2,34],45:[2,34]},{5:[2,35],12:[2,35],13:[2,35],14:[2,35],15:[2,35],16:[2,35],17:[2,35],45:[2,35]},{5:[2,36],12:[2,36],13:[2,36],14:[2,36],15:[2,36],16:[2,36],17:[2,36],45:[2,36]},{5:[2,37],12:[2,37],13:[2,37],14:[2,37],15:[2,37],16:[2,37],17:[2,37],45:[2,37]},{5:[2,38],12:[2,38],13:[2,38],14:[2,38],15:[2,38],16:[2,38],17:[2,38],45:[2,38]},{5:[2,39],12:[2,39],13:[2,39],14:[2,39],15:[2,39],16:[2,39],17:[2,39],45:[2,39]},{12:[2,41],13:[1,37],14:[1,38],15:[1,39],16:[1,40],17:[1,41],45:[2,41]}],defaultActions:{36:[2,1]},parseError:function(t,n){throw new Error(t)},parse:function(t){function d(e){r.length=r.length-2*e,i.length=i.length-e,s.length=s.length-e}function v(){var e;return e=n.lexer.lex()||1,typeof e!="number"&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0,c=2,h=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var m,g,y,b,w,E,S={},x,T,N,C;for(;;){y=r[r.length-1],this.defaultActions[y]?b=this.defaultActions[y]:(m==null&&(m=v()),b=o[y]&&o[y][m]);if(typeof b=="undefined"||!b.length||!b[0]){if(!l){C=[];for(x in o[y])this.terminals_[x]&&x>2&&C.push("'"+this.terminals_[x]+"'");var k="";this.lexer.showPosition?k="Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", "):k="Parse error on line "+(a+1)+": Unexpected "+(m==1?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:p,expected:C})}if(l==3){if(m==h)throw new Error(k||"Parsing halted.");f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,m=v()}for(;;){if(c.toString()in o[y])break;if(y==0)throw new Error(k||"Parsing halted.");d(1),y=r[r.length-1]}g=m,m=c,y=r[r.length-1],b=o[y]&&o[y][c],l=3}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+m);switch(b[0]){case 1:r.push(m),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(b[1]),m=null,g?(m=g,g=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:T=this.productions_[b[1]][1],S.$=i[i.length-T],S._$={first_line:s[s.length-(T||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(T||1)].first_column,last_column:s[s.length-1].last_column},E=this.performAction.call(S,u,f,a,this.yy,b[1],i,s);if(typeof E!="undefined")return E;T&&(r=r.slice(0,-1*T*2),i=i.slice(0,-1*T),s=s.slice(0,-1*T)),r.push(this.productions_[b[1]][0]),i.push(S.$),s.push(S._$),N=o[r[r.length-2]][r[r.length-1]],r.push(N);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(t,n){if(!this.yy.parseError)throw new Error(t);this.yy.parseError(t,n)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e;var t=e.match(/\n/);return t&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");var i=this._currentRules();for(var s=0;s<i.length;s++){t=this._input.match(this.rules[i[s]]);if(t){r=t[0].match(/\n.*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[s],this.conditionStack[this.conditionStack.length-1]);if(e)return e;return}}if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return typeof t!="undefined"?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}};return e.performAction=function(t,n,r,i){var s=i;switch(r){case 0:return 6;case 1:return 6;case 2:return 6;case 3:return 6;case 4:return 6;case 5:return 6;case 6:return 8;case 7:return 8;case 8:return 7;case 9:return 9;case 10:return 15;case 11:return 16;case 12:return 14;case 13:return 13;case 14:return 17;case 15:return 11;case 16:return 12;case 17:return 45;case 18:return 23;case 19:return 24;case 20:return 18;case 21:return 19;case 22:return 20;case 23:return 21;case 24:return 26;case 25:return 25;case 26:return 27;case 27:return 28;case 28:return 29;case 29:return 30;case 30:return 31;case 31:return 32;case 32:return 33;case 33:return 34;case 34:return 35;case 35:return 36;case 36:return 37;case 37:return 38;case 38:return 39;case 39:return 40;case 40:return 41;case 41:return 42;case 42:return 43;case 43:return 44;case 44:return 10;case 45:break;case 46:return 5}},e.rules=[/^0[xX][0-9a-fA-F]+/,/^[0-9]+[eE][-+]?[0-9]+/,/^[0-9]+\.([0-9]+)?([eE][-+]?[0-9]+)?/,/^([0-9]+)?\.[0-9]+([eE][-+]?[0-9]+)?/,/^[1-9][0-9]*/,/^0\b/,/^pi\b/,/^\u03c0/,/^e\b/,/^i\b/,/^\*/,/^\//,/^-/,/^\+/,/^\^/,/^\(/,/^\)/,/^,/,/^re\b/,/^im\b/,/^abs\b/,/^phase\b/,/^conjugate\b/,/^rotate\b/,/^max\b/,/^min\b/,/^sqrt\b/,/^log\b/,/^log2\b/,/^log10\b/,/^ln\b/,/^arcsin\b/,/^arccos\b/,/^arctan\b/,/^arctan2\b/,/^sin\b/,/^cos\b/,/^tan\b/,/^sinh\b/,/^cosh\b/,/^tanh\b/,/^arcsinh\b/,/^arccosh\b/,/^arctanh\b/,/^[^-*/+^(),\s0-9][^-*/+^(),\s]*/,/^\s+/,/^$/],e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}},e}();return e.lexer=t,e}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=I,exports.parse=function(){return I.parse.apply(I,arguments)},exports.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if(typeof process!="undefined")var n=require("fs").readFileSync(require("path").join(process.cwd(),t[1]),"utf8");else var r=require("file").path(require("file").cwd()),n=r.join(t[1]).read({charset:"utf-8"});return exports.parser.parse(n)},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args)),q.NAME="MathCanvas",q.ATTRS={func:{value:new e.MathFunction.Value(0),setter:function(t){return e.Lang.isString(t)?e.MathCanvas.Parser.parse(t):t}},fontName:{value:"sans-serif",validator:e.Lang.isString},fontSize:{value:1,validator:e.Lang.isNumber},minWidth:{value:100,validator:e.Lang.isNumber},minHeight:{value:100,validator:e.Lang.isNumber}},e.extend(q,e.Widget,{initializer:function(e){this.after("funcChange",function(){this.selection=-1,this._renderExpression()}),this.after("fontNameChange",this._renderExpression),this.after("fontSizeChange",this._renderExpression),this.after("minWidthChange",this._renderExpression),this.after("minHeightChange",this._renderExpression);var t=navigator.userAgent.toLowerCase(),n=navigator.platform,r=t.indexOf("series60")!=-1||t.indexOf("symbian")!=-1||t.indexOf("windows ce")!=-1||t.indexOf("blackberry")!=-1,i=typeof orientation!="undefined",s="ontouchstart"in document.documentElement,o=n.indexOf("iPhone")!=-1||n.indexOf("iPad")!=-1,u=t.indexOf("android")!=-1||!o&&!r&&s&&i;this.touch=s||t.indexOf("iphone")!=-1},renderUI:function(){function i(t){var n=e.Array.reduce(t,"",function(t,n){return t+e.Lang.sub('<button type="button" class="keyboard-{value}" value="{value}">{label}</button>',{value:n.value||n,label:n.label||n})});return"<p>"+n+"</p>"}var t=this.get("contentBox"),n=this.get("minWidth");this.set("width",n+"px");var r=this.get("minHeight");this.set("height",n+"px"),this.canvas=e.Node.create('<canvas width="'+n+'" height="'+r+'" tabindex="0"></canvas>');if(!this.canvas)throw Error("This browser does not support canvas rendering.");t.appendChild(this.canvas),this.context=new e.Canvas.Context2d(this.canvas),e.mix(this.context,z),this.context.math_canvas=this,this._renderExpression();if(this.touch||YUI.config.debug_mathcanvas_keyboard)this.keyboard=e.Node.create('<div class="keyboard">'+i([1,2,3,4,5,6,7,8,9,0])+i(["+",{value:"-",label:"&ndash;"},{value:"*",label:"&times;"},"/","^","|",",","e","\u03c0","."])+'<p class="last">'+'<button type="button" class="keyboard-hide" value="hide" title="Hide keyboard">&dArr;</button>'+'<button type="button" class="keyboard-eval" value="=" title="Evaluate expression">=</button>'+'<button type="button" class="keyboard-delete" value="delete" title="Delete selection">&empty;</button>'+'<button type="button" class="keyboard-expand" value="expand" title="Expand selection">&hArr;</button>'+'<select class="keyboard-func">'+"<option>Functions</option>"+"<optgroup>"+"<option>abs</option>"+"<option>arccos</option>"+"<option>arcsin</option>"+"<option>arctan</option>"+"<option>arctan2</option>"+"<option>conjugate</option>"+"<option>cos</option>"+"<option>cosh</option>"+"<option>sinh</option>"+"<option>tanh</option>"+"<option>imag</option>"+"<option>arccosh</option>"+"<option>arcsinh</option>"+"<option>arctanh</option>"+"<option>log</option>"+"<option>max</option>"+"<option>min</option>"+"<option>ln</option>"+"<option>phase</option>"+"<option>real</option>"+"<option>rotate</option>"+"<option>sin</option>"+"<option>sqrt</option>"+"<option>tan</option>"+"</optgroup>"+"</select>"+"<br>"+'<select class="keyboard-const">'+"<option>Constants</option>"+"<optgroup>"+"<option>c</option>"+"<option>g</option>"+"</optgroup>"+"</select>"+"</p>"+"</div>"),t.appendChild(this.keyboard),this.keyboard.setStyle("bottom",-this.keyboard.get("offsetHeight")+"px")},bindUI:function(){this.canvas.on("mousedown",function(t){function r(e){var t=this.canvas.getXY(),n=[Math.round(e.pageX-t[0])-s[0],Math.round(e.pageY-t[1])-s[1]];this.selection=this.rect_list.getSelection(u,n),this._renderExpression()}var i=this.rect_list.getBounds(),s=[Math.floor((this.canvas.getAttribute("width")-n.width(i))/2),Math.floor((this.canvas.getAttribute("height")-n.height(i))/2)],o=this.canvas.getXY(),u=[Math.round(t.pageX-o[0])-s[0],Math.round(t.pageY-o[1])-s[1]];r.call(this,t);var a=this.canvas.on("mousemove",r,this);e.one(e.config.doc).once("mouseup",function(e){a.detach(),this.selection>=0?this.showKeyboard():this.hideKeyboard()},this)},this),this.canvas.on("keydown",function(e){e.charCode==32?this.expandSelection():e.charCode==8&&this.deleteSelection()},this),this.keyboard&&(this.keyboard.delegate("click",function(e){var t=e.currentTarget.get("value");t=="hide"?this.hideKeyboard():t=="expand"?this.expandSelection():t=="delete"?this.deleteSelection():t=="="&&(this.fire("evaluate"),this.hideKeyboard())},"button",this),this.keyboard.one(".keyboard-func").on("change",function(e){this.set("selectedIndex",0)}),this.keyboard.one(".keyboard-const").on("change",function(e){this.set("selectedIndex",0)}))},destructor:function(){this.canvas=null,this.context=null},showKeyboard:function(){if(!this.keyboard)return;this.keyboard_anim&&this.keyboard_anim.stop(),this.keyboard_anim=new e.Anim({node:this.keyboard,to:{bottom:0},easing:e.Easing.easeOut,duration:.5}),this.keyboard_anim.run()},hideKeyboard:function(){if(!this.keyboard)return;this.keyboard_anim&&this.keyboard_anim.stop(),this.keyboard_anim=new e.Anim({node:this.keyboard,to:{bottom:-this.keyboard.get("offsetHeight")},easing:e.Easing.easeOut,duration:.5}),this.keyboard_anim.run()},expandSelection:function(){if(this.selection>=0){var e=this.rect_list.get(this.selection).func.getParent();e&&(this.selection=this.rect_list.findIndex(e),this._renderExpression())}},deleteSelection:function(){this.selection>=0&&this.deleteFunction(this.rect_list.get(this.selection).func)},deleteFunction:function(e){var t=e.getParent(),n=t;if(!t){this.selection=0,this.set("func","0");return}if(t.getArgCount()==1){this.deleteFunction(t);return}if(t.getArgCount()==2){var n=t.getArg(0)==e?t.getArg(1):t.getArg(0),r=t.getParent();r?r.replaceArg(t,n):(this.selection=-1,n.parent=null,this.set("func",n))}else t.removeArg(e);this.selection=-1,this._renderExpression(),this.selection=this.rect_list.findIndex(n),this._renderExpression()},_renderExpression:function(){this.context.clearRect(0,0,this.canvas.getAttribute("width"),this.canvas.getAttribute("height"));var e=this.get("func");if(!e)return;this.rect_list=new n;var t={x:0,y:0};e.prepareToRender(this.context,t,100,this.rect_list);var r=this.rect_list.getBounds();this.render_width=n.width(r),R.call(this,"width"),this.render_height=n.height(r),R.call(this,"height"),this.context.save(),this.context.translate(Math.floor((this.canvas.getAttribute("width")-n.width(r))/2),Math.floor((this.canvas.getAttribute("height")-n.height(r))/2));if(this.selection>=0){var i=this.rect_list.get(this.selection).rect;this.context.save(),this.context.set("fillStyle","#99FFFF"),this.context.fillRect(i.left,i.top,n.width(i),n.height(i)),this.context.restore()}e.render(this.context,this.rect_list),this.context.restore()}});var U=Math.PI/6,z={drawString:function(e,t,n,r){var i=this.getLineHeight(n);this._setFont(n),this.set("textBaseline","top"),this.fillText(r,e,Math.floor(t-i/2))},getLineHeight:function(e){return 13*this.math_canvas.get("fontSize")*e/100},getStringWidth:function(e,t){this.save(),this._setFont(e);var n=this.measureText(t).width;return this.restore(),n},_setFont:function(e){this.set("font",this.math_canvas.get("fontSize")*e/100+"em "+this.math_canvas.get("fontName"))},getSuperSubFontSize:function(e){var t=e*.6;return Math.max(t,40)},getSuperscriptHeight:function(e){return n.height(e)/2},getSubscriptDepth:function(e){return n.height(e)/2},drawSquareBrackets:function(e){var t=e.bottom-e.top,n=this.getSquareBracketWidth(e)-2;this.moveTo(e.left-2,e.top),this.line(-n,0),this.line(0,t-1),this.line(n,0),this.stroke(),this.moveTo(e.right+1,e.top),this.line(n,0),this.line(0,t-1),this.line(-n,0),this.stroke()},getSquareBracketWidth:function(e){var t=e.bottom-e.top;return Math.round(3+(t-1)/10)},drawParentheses:function(e){var t=e.bottom-e.top,r=t/(2*Math.sin(U)),i=Math.round(r),s=n.ycenter(e),o=this.getParenthesisWidth(e);this.beginPath(),this.arc(e.left-o+r,s,i,Math.PI-U,Math.PI+U,!1),this.stroke(),this.beginPath(),this.arc(e.right+o-r,s,i,U,-U,!0),this.stroke()},getParenthesisWidth:function(e){var t=e.bottom-e.top;return 2+Math.round(.5+t*(1-Math.cos(U))/(2*Math.sin(U)))},drawVerticalBar:function(e){this.moveTo(e.left+1,e.top),this.lineTo(e.left+1,e.bottom),this.stroke()},getVerticalBarWidth:function(){return 3},drawHorizontalBar:function(e){var t=e.top+1;this.moveTo(e.left,t),this.lineTo(e.right-1,t),this.stroke()},getHorizontalBarHeight:function(){return 3}};I.yy.MathFunction=e.MathFunction,e.MathCanvas=q,e.MathCanvas.RectList=n,e.MathCanvas.Parser=I},"@VERSION@",{skinnable:"true",requires:["widget","collection","node-screen","gallery-complexnumber","gallery-canvas","gallery-node-optimizations","anim","array-extras"],optional:[""]});
