<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns:yui="http://yuilibrary.com/rdf/1.0/yui.rdf#">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title>API: gallery-mathcanvas   MathCanvas.js  (YUI Library)</title>

	<link rel="stylesheet" type="text/css" href="assets/reset-fonts-grids-min.css" />
	<link rel="stylesheet" type="text/css" href="assets/api.css" />

    <script type="text/javascript" src="assets/api-js"></script>
    <script type="text/javascript" src="assets/ac-js"></script>
</head>

<body id="yahoo-com">

<div id="doc3" class="yui-t2">
	<div id="hd">
        <h1><a href="http://developer.yahoo.com/yui/" title="Yahoo! UI Library">Yahoo! UI Library</a></h1>
        <h3>gallery-mathcanvas&nbsp; <span class="subtitle">1.0.0</span></h3>
        <a href="./index.html" title="Yahoo! UI Library">Yahoo! UI Library</a> 
            &gt; <a href="./module_gallery-mathcanvas.html" title="gallery-mathcanvas">gallery-mathcanvas</a>
                
                 &gt; MathCanvas.js (source view) 
        <form onsubmit="return false">
            <div id="propertysearch">
                Search: <input autocomplete="off" id="searchinput" />
                <div id="searchresults">
                    &nbsp;
                </div>
            </div>
        </form>
	</div>

	<div id="bd">
		<div id="yui-main">
			<div class="yui-b">
            <form action="#" name="yui-classopts-form" method="get" id="yui-classopts-form">
                <fieldset>
                    <legend>Filters</legend>
                <span class="classopts"><input type="checkbox" name="show_private" id="show_private" /> <label for="show_private">Show Private</label></span>
                <span class="classopts"><input type="checkbox" name="show_protected" id="show_protected" /> <label for="show_protected">Show Protected</label></span>
                <span class="classopts"><input type="checkbox" name="show_deprecated" id="show_deprecated" /> <label for="show_deprecated">Show Deprecated</label></span>
                </fieldset>
            </form>

                    <div id="srcout">
                        <style>
                            #doc3 .classopts { display:none; }
                        </style>
                        <div class="highlight"><pre><span class="c">/**********************************************************************</span>
<span class="c"> * Displays an arithmetical expression the way you would write it on paper.</span>
<span class="c"> * </span>
<span class="c"> * @module gallery-mathcanvas</span>
<span class="c"> * @namespace</span>
<span class="c"> * @class MathCanvas</span>
<span class="c"> * @extends Widget</span>
<span class="c"> * @constructor</span>
<span class="c"> * @param config {Object} Widget configuration</span>
<span class="c"> */</span>

<span class="kd">function</span> <span class="nx">MathCanvas</span><span class="p">(</span>
	<span class="c">/* object */</span>	<span class="nx">config</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">MathCanvas</span><span class="p">.</span><span class="nx">superclass</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">config</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">MathCanvas</span><span class="p">.</span><span class="nx">NAME</span> <span class="o">=</span> <span class="s2">&quot;MathCanvas&quot;</span><span class="o">;</span>

<span class="nx">MathCanvas</span><span class="p">.</span><span class="nx">ATTRS</span> <span class="o">=</span>
<span class="p">{</span>
	<span class="c">/**</span>
<span class="c">	 * The function to display.</span>
<span class="c">	 * </span>
<span class="c">	 * @config func</span>
<span class="c">	 * @type {Y.MathFunction|String}</span>
<span class="c">	 */</span>
	<span class="nx">func</span><span class="o">:</span>
	<span class="p">{</span>
		<span class="nx">value</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">MathFunction</span><span class="p">.</span><span class="nx">Value</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">,</span>
		<span class="nx">setter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Lang</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">?</span>
				<span class="nx">Y</span><span class="p">.</span><span class="nx">MathCanvas</span><span class="p">.</span><span class="nx">Parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">:</span> <span class="nx">value</span><span class="o">;</span>
		<span class="p">}</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * The font name to use.</span>
<span class="c">	 * </span>
<span class="c">	 * @config fontName</span>
<span class="c">	 * @type {String}</span>
<span class="c">	 */</span>
	<span class="nx">fontName</span><span class="o">:</span>
	<span class="p">{</span>
		<span class="nx">value</span><span class="o">:</span>     <span class="s1">&#39;sans-serif&#39;</span><span class="o">,</span>
		<span class="nx">validator</span><span class="o">:</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Lang</span><span class="p">.</span><span class="nx">isString</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * The font size to use, in em&#39;s.</span>
<span class="c">	 * </span>
<span class="c">	 * @config fontSize</span>
<span class="c">	 * @type {number}</span>
<span class="c">	 */</span>
	<span class="nx">fontSize</span><span class="o">:</span>
	<span class="p">{</span>
		<span class="nx">value</span><span class="o">:</span>     <span class="mi">1</span><span class="o">,</span>
		<span class="nx">validator</span><span class="o">:</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Lang</span><span class="p">.</span><span class="nx">isNumber</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * The minimum width of the canvas.  If the expression is wider, the</span>
<span class="c">	 * width will increase to fit.</span>
<span class="c">	 * </span>
<span class="c">	 * @config minWidth</span>
<span class="c">	 * @type {Integer}</span>
<span class="c">	 */</span>
	<span class="nx">minWidth</span><span class="o">:</span>
	<span class="p">{</span>
		<span class="nx">value</span><span class="o">:</span>     <span class="mi">100</span><span class="o">,</span>
		<span class="nx">validator</span><span class="o">:</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Lang</span><span class="p">.</span><span class="nx">isNumber</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * The minimum height of the canvas.  If the expression is taller, the</span>
<span class="c">	 * height will increase to fit.</span>
<span class="c">	 * </span>
<span class="c">	 * @config minHeight</span>
<span class="c">	 * @type {Integer}</span>
<span class="c">	 */</span>
	<span class="nx">minHeight</span><span class="o">:</span>
	<span class="p">{</span>
		<span class="nx">value</span><span class="o">:</span>     <span class="mi">100</span><span class="o">,</span>
		<span class="nx">validator</span><span class="o">:</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Lang</span><span class="p">.</span><span class="nx">isNumber</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">setSize</span><span class="p">(</span>
	<span class="c">/* width/height */</span>	<span class="nx">type</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">type</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">type</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;min&#39;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span><span class="o">,</span> <span class="k">this</span><span class="p">[</span> <span class="s1">&#39;render_&#39;</span><span class="o">+</span><span class="nx">type</span> <span class="p">]</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">type</span><span class="o">,</span> <span class="nx">v</span><span class="o">+</span><span class="s1">&#39;px&#39;</span><span class="p">);</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">type</span><span class="o">,</span> <span class="nx">v</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">Y</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">MathCanvas</span><span class="o">,</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Widget</span><span class="o">,</span>
<span class="p">{</span>
	<span class="nx">initializer</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="s1">&#39;funcChange&#39;</span><span class="o">,</span> <span class="kd">function</span><span class="p">()</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">();</span>
		<span class="p">});</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="s1">&#39;fontNameChange&#39;</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="s1">&#39;fontSizeChange&#39;</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="s1">&#39;minWidthChange&#39;</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="s1">&#39;minHeightChange&#39;</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">);</span>

		<span class="c">// http://www.thegalaxytabforum.com/index.php?/topic/621-detecting-android-tablets-with-javascript</span>

		<span class="kd">var</span> <span class="nx">agent</span>    <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">platform</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">platform</span><span class="o">;</span>
		<span class="c">// We need to eliminate Symbian, Series 60, Windows Mobile and Blackberry</span>
		<span class="c">// browsers for this quick and dirty check. This can be done with the user agent.</span>
		<span class="kd">var</span> <span class="nx">otherBrowser</span> <span class="o">=</span> <span class="nx">agent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;series60&quot;</span><span class="p">)</span>   <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span>
						   <span class="nx">agent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;symbian&quot;</span><span class="p">)</span>    <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span>
						   <span class="nx">agent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;windows ce&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span>
						   <span class="nx">agent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;blackberry&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
		<span class="c">// If the screen orientation is defined we are in a modern mobile OS</span>
		<span class="kd">var</span> <span class="nx">mobileOS</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">orientation</span> <span class="o">!=</span> <span class="s1">&#39;undefined&#39;</span><span class="o">;</span>
		<span class="c">// If touch events are defined we are in a modern touch screen OS</span>
		<span class="kd">var</span> <span class="nx">touchOS</span> <span class="o">=</span> <span class="s1">&#39;ontouchstart&#39;</span> <span class="k">in</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="o">;</span>
		<span class="c">// iPhone and iPad can be reliably identified with the navigator.platform</span>
		<span class="c">// string, which is currently only available on these devices.</span>
		<span class="kd">var</span> <span class="nx">iOS</span> <span class="o">=</span> <span class="nx">platform</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;iPhone&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="nx">platform</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;iPad&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
		<span class="c">// If the user agent string contains &quot;android&quot; then it&#39;s Android. If it</span>
		<span class="c">// doesn&#39;t but it&#39;s not another browser, not an iOS device and we&#39;re in</span>
		<span class="c">// a mobile and touch OS then we can be 99% certain that it&#39;s Android.</span>
		<span class="kd">var</span> <span class="nx">android</span> <span class="o">=</span> <span class="nx">agent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;android&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="p">(</span><span class="o">!</span><span class="nx">iOS</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">otherBrowser</span> <span class="o">&amp;&amp;</span> <span class="nx">touchOS</span> <span class="o">&amp;&amp;</span> <span class="nx">mobileOS</span><span class="p">);</span>

		 <span class="c">// navigator.platform doesn&#39;t work for iPhoney</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">touch</span> <span class="o">=</span> <span class="nx">touchOS</span> <span class="o">||</span> <span class="nx">agent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;iphone&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">renderUI</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;contentBox&#39;</span><span class="p">);</span>

		<span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;minWidth&#39;</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="nx">w</span><span class="o">+</span><span class="s1">&#39;px&#39;</span><span class="p">);</span>

		<span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;minHeight&#39;</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="nx">w</span><span class="o">+</span><span class="s1">&#39;px&#39;</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span> <span class="o">=</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Node</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
			<span class="s1">&#39;&lt;canvas width=&quot;&#39;</span> <span class="o">+</span> <span class="nx">w</span> <span class="o">+</span> <span class="s1">&#39;&quot; height=&quot;&#39;</span> <span class="o">+</span> <span class="nx">h</span> <span class="o">+</span> <span class="s1">&#39;&quot; tabindex=&quot;0&quot;&gt;&lt;/canvas&gt;&#39;</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;This browser does not support canvas rendering.&quot;</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="nx">container</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Canvas</span><span class="p">.</span><span class="nx">Context2d</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">);</span>
		<span class="nx">Y</span><span class="p">.</span><span class="nx">mix</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="o">,</span> <span class="nx">math_rendering</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">math_canvas</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">();</span>

		<span class="c">// input (for mobile)</span>

		<span class="kd">function</span> <span class="nx">buttonRow</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">;</span>
			<span class="nx">Y</span><span class="p">.</span><span class="nb">Array</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">map</span><span class="o">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="nx">s</span> <span class="o">+=</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Lang</span><span class="p">.</span><span class="nx">sub</span><span class="p">(</span><span class="s1">&#39;&lt;button type=&quot;button&quot; class=&quot;keyboard-{value}&quot; value=&quot;{value}&quot;&gt;{label}&lt;/button&gt;&#39;</span><span class="o">,</span>
				<span class="p">{</span>
					<span class="nx">value</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">value</span> <span class="o">||</span> <span class="nx">obj</span><span class="o">,</span>
					<span class="kd">label</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="kd">label</span> <span class="o">||</span> <span class="nx">obj</span>
				<span class="p">});</span>
			<span class="p">});</span>

			<span class="k">return</span> <span class="s1">&#39;&lt;p&gt;&#39;</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">+</span> <span class="s1">&#39;&lt;/p&gt;&#39;</span><span class="o">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">touch</span> <span class="o">||</span> <span class="nx">YUI</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">debug_mathcanvs_keyboard</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span> <span class="o">=</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Node</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
				<span class="s1">&#39;&lt;div class=&quot;keyboard&quot;&gt;&#39;</span> <span class="o">+</span>
					<span class="nx">buttonRow</span><span class="p">([</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span>
					<span class="nx">buttonRow</span><span class="p">([</span><span class="s1">&#39;+&#39;</span><span class="o">,</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="s1">&#39;-&#39;</span><span class="o">,</span><span class="kd">label</span><span class="o">:</span><span class="s1">&#39;&amp;ndash;&#39;</span><span class="p">}</span><span class="o">,</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="s1">&#39;*&#39;</span><span class="o">,</span><span class="kd">label</span><span class="o">:</span><span class="s1">&#39;&amp;times;&#39;</span><span class="p">}</span><span class="o">,</span> <span class="s1">&#39;/&#39;</span><span class="o">,</span> <span class="s1">&#39;^&#39;</span><span class="o">,</span> <span class="s1">&#39;|&#39;</span><span class="o">,</span> <span class="s1">&#39;,&#39;</span><span class="o">,</span> <span class="s1">&#39;e&#39;</span><span class="o">,</span> <span class="s1">&#39;\u03c0&#39;</span><span class="o">,</span> <span class="s1">&#39;.&#39;</span><span class="p">])</span> <span class="o">+</span>
					<span class="s1">&#39;&lt;p class=&quot;last&quot;&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;button type=&quot;button&quot; class=&quot;keyboard-hide&quot; value=&quot;hide&quot;&gt;&amp;dArr;&lt;/button&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;button type=&quot;button&quot; class=&quot;keyboard-eval&quot; value=&quot;=&quot;&gt;=&lt;/button&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;button type=&quot;button&quot; class=&quot;keyboard-delete&quot; value=&quot;delete&quot;&gt;&amp;empty;&lt;/button&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;button type=&quot;button&quot; class=&quot;keyboard-expand&quot; value=&quot;expand&quot;&gt;&amp;hArr;&lt;/button&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;select class=&quot;keyboard-func&quot;&gt;&#39;</span> <span class="o">+</span>
							<span class="s1">&#39;&lt;option&gt;Functions&lt;/option&gt;&#39;</span> <span class="o">+</span>
							<span class="s1">&#39;&lt;optgroup&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;abs&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;arccos&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;arcsin&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;arctan&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;arctan2&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;conjugate&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;cos&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;cosh&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;sinh&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;tanh&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;imag&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;arccosh&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;arcsinh&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;arctanh&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;log&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;max&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;min&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;ln&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;phase&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;real&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;rotate&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;sin&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;sqrt&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;tan&lt;/option&gt;&#39;</span> <span class="o">+</span>
							<span class="s1">&#39;&lt;/optgroup&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;/select&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;br&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;select class=&quot;keyboard-const&quot;&gt;&#39;</span> <span class="o">+</span>
							<span class="s1">&#39;&lt;option&gt;Constants&lt;/option&gt;&#39;</span> <span class="o">+</span>
							<span class="s1">&#39;&lt;optgroup&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;c&lt;/option&gt;&#39;</span> <span class="o">+</span>
								<span class="s1">&#39;&lt;option&gt;g&lt;/option&gt;&#39;</span> <span class="o">+</span>
							<span class="s1">&#39;&lt;/optgroup&gt;&#39;</span> <span class="o">+</span>
						<span class="s1">&#39;&lt;/select&gt;&#39;</span> <span class="o">+</span>
					<span class="s1">&#39;&lt;/p&gt;&#39;</span> <span class="o">+</span>
				<span class="s1">&#39;&lt;/div&gt;&#39;</span>
			<span class="p">);</span>
			<span class="nx">container</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">);</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">setStyle</span><span class="p">(</span><span class="s1">&#39;bottom&#39;</span><span class="o">,</span> <span class="p">(</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;offsetHeight&#39;</span><span class="p">))</span><span class="o">+</span><span class="s1">&#39;px&#39;</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">bindUI</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mousedown&#39;</span><span class="o">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="kd">function</span> <span class="nx">select</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kd">var</span> <span class="nx">xy</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getXY</span><span class="p">();</span>
				<span class="kd">var</span> <span class="nx">pt</span> <span class="o">=</span>
				<span class="p">[</span>
					<span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageX</span> <span class="o">-</span> <span class="nx">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">-</span> <span class="nx">offset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">,</span>
					<span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span> <span class="o">-</span> <span class="nx">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="nx">offset</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
				<span class="p">];</span>

				<span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">.</span><span class="nx">getSelection</span><span class="p">(</span><span class="nx">anchor</span><span class="o">,</span> <span class="nx">pt</span><span class="p">);</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">();</span>
			<span class="p">}</span>

			<span class="kd">var</span> <span class="nx">bounds</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">.</span><span class="nx">getBounds</span><span class="p">();</span>
			<span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span>
			<span class="p">[</span>
				<span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="nx">bounds</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span><span class="o">,</span>
				<span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">bounds</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
			<span class="p">];</span>

			<span class="kd">var</span> <span class="nx">xy</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getXY</span><span class="p">();</span>
			<span class="kd">var</span> <span class="nx">anchor</span> <span class="o">=</span>
			<span class="p">[</span>
				<span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageX</span> <span class="o">-</span> <span class="nx">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">-</span> <span class="nx">offset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">,</span>
				<span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span> <span class="o">-</span> <span class="nx">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="nx">offset</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
			<span class="p">];</span>

			<span class="nx">select</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">e</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">handler</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="o">,</span> <span class="nx">select</span><span class="o">,</span> <span class="k">this</span><span class="p">);</span>

			<span class="nx">Y</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="nx">Y</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">doc</span><span class="p">).</span><span class="nx">once</span><span class="p">(</span><span class="s1">&#39;mouseup&#39;</span><span class="o">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="nx">handler</span><span class="p">.</span><span class="nx">detach</span><span class="p">();</span>
				<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">showKeyboard</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">else</span>
				<span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">hideKeyboard</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">}</span><span class="o">,</span>
			<span class="k">this</span><span class="p">);</span>
		<span class="p">}</span><span class="o">,</span>
		<span class="k">this</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;keydown&#39;</span><span class="o">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
		<span class="p">{</span>
<span class="c">//			console.log(e.charCode);</span>

			<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">charCode</span> <span class="o">==</span> <span class="mi">32</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">expandSelection</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">charCode</span> <span class="o">==</span> <span class="mi">8</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">deleteSelection</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">}</span><span class="o">,</span>
		<span class="k">this</span><span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">delegate</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="o">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kd">var</span> <span class="nx">op</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">);</span>
				<span class="k">if</span> <span class="p">(</span><span class="nx">op</span> <span class="o">==</span> <span class="s1">&#39;hide&#39;</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">hideKeyboard</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">op</span> <span class="o">==</span> <span class="s1">&#39;expand&#39;</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">expandSelection</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">op</span> <span class="o">==</span> <span class="s1">&#39;delete&#39;</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">deleteSelection</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">op</span> <span class="o">==</span> <span class="s1">&#39;=&#39;</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">fire</span><span class="p">(</span><span class="s1">&#39;evaluate&#39;</span><span class="p">);</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">hideKeyboard</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">}</span><span class="o">,</span>
			<span class="s1">&#39;button&#39;</span><span class="o">,</span> <span class="k">this</span><span class="p">);</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s1">&#39;.keyboard-func&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="o">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;selectedIndex&#39;</span><span class="o">,</span> <span class="mi">0</span><span class="p">);</span>
			<span class="p">});</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s1">&#39;.keyboard-const&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="o">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;selectedIndex&#39;</span><span class="o">,</span> <span class="mi">0</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">destructor</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span>  <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * Shows touch keyboard.</span>
<span class="c">	 */</span>
	<span class="nx">showKeyboard</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">return</span><span class="o">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">keyboard_anim</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">keyboard_anim</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">keyboard_anim</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Anim</span><span class="p">(</span>
		<span class="p">{</span>
			<span class="nx">node</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="o">,</span>
			<span class="nx">to</span><span class="o">:</span>
			<span class="p">{</span>
				<span class="nx">bottom</span><span class="o">:</span> <span class="mi">0</span>
			<span class="p">}</span><span class="o">,</span>
			<span class="nx">duration</span><span class="o">:</span> <span class="mf">0.5</span>
		<span class="p">});</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">keyboard_anim</span><span class="p">.</span><span class="nx">run</span><span class="p">();</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * Hides touch keyboard.</span>
<span class="c">	 */</span>
	<span class="nx">hideKeyboard</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">return</span><span class="o">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">keyboard_anim</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">keyboard_anim</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">keyboard_anim</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">Anim</span><span class="p">(</span>
		<span class="p">{</span>
			<span class="nx">node</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="o">,</span>
			<span class="nx">to</span><span class="o">:</span>
			<span class="p">{</span>
				<span class="nx">bottom</span><span class="o">:</span> <span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;offsetHeight&#39;</span><span class="p">)</span>
			<span class="p">}</span><span class="o">,</span>
			<span class="nx">duration</span><span class="o">:</span> <span class="mf">0.5</span>
		<span class="p">});</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">keyboard_anim</span><span class="p">.</span><span class="nx">run</span><span class="p">();</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * Expands the selection up one level of the parse tree.</span>
<span class="c">	 */</span>
	<span class="nx">expandSelection</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selection</span><span class="p">).</span><span class="nx">func</span><span class="p">.</span><span class="nx">getParent</span><span class="p">();</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">p</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">.</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * Deletes the selected sub-expression.</span>
<span class="c">	 */</span>
	<span class="nx">deleteSelection</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">deleteFunction</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selection</span><span class="p">).</span><span class="nx">func</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/**</span>
<span class="c">	 * @param f {MathFunction} function to remove from the overall expression</span>
<span class="c">	 */</span>
	<span class="nx">deleteFunction</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* MathFunction */</span> <span class="nx">f</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">getParent</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">p</span><span class="o">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">p</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;func&#39;</span><span class="o">,</span> <span class="s1">&#39;0&#39;</span><span class="p">);</span>
			<span class="k">return</span><span class="o">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">getArgCount</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">deleteFunction</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
			<span class="k">return</span><span class="o">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">getArgCount</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="kd">var</span> <span class="nx">s</span>  <span class="o">=</span> <span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">getArg</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="nx">f</span> <span class="o">?</span> <span class="nx">p</span><span class="p">.</span><span class="nx">getArg</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="nx">p</span><span class="p">.</span><span class="nx">getArg</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
			<span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">getParent</span><span class="p">();</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">p1</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="nx">p1</span><span class="p">.</span><span class="nx">replaceArg</span><span class="p">(</span><span class="nx">p</span><span class="o">,</span> <span class="nx">s</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
				<span class="nx">s</span><span class="p">.</span><span class="nx">parent</span>       <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;func&#39;</span><span class="o">,</span> <span class="nx">s</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="nx">p</span><span class="p">.</span><span class="nx">removeArg</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">();</span>	<span class="c">// update rect_list</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">.</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">_renderExpression</span><span class="p">();</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="c">/*</span>
<span class="c">	 * Renders the expression.</span>
<span class="c">	 */</span>
	<span class="nx">_renderExpression</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">)</span><span class="o">,</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">));</span>

		<span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;func&#39;</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">return</span><span class="o">;</span>
		<span class="p">}</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RectList</span><span class="p">();</span>

		<span class="kd">var</span> <span class="nx">top_left</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="o">,</span> <span class="nx">y</span><span class="o">:</span><span class="mi">0</span> <span class="p">};</span>
		<span class="nx">f</span><span class="p">.</span><span class="nx">prepareToRender</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="o">,</span> <span class="nx">top_left</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">);</span>

		<span class="kd">var</span> <span class="nx">bounds</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">.</span><span class="nx">getBounds</span><span class="p">();</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">render_width</span>  <span class="o">=</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="nx">bounds</span><span class="p">);</span>
		<span class="nx">setSize</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="o">,</span> <span class="s1">&#39;width&#39;</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">render_height</span> <span class="o">=</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">bounds</span><span class="p">);</span>
		<span class="nx">setSize</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="o">,</span> <span class="s1">&#39;height&#39;</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="nx">bounds</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span><span class="o">,</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">bounds</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selection</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selection</span><span class="p">).</span><span class="nx">rect</span><span class="o">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;fillStyle&#39;</span><span class="o">,</span> <span class="s1">&#39;#99FFFF&#39;</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">left</span><span class="o">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="o">,</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="o">,</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">r</span><span class="p">));</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="nx">f</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">rect_list</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">paren_angle</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">6</span><span class="o">;</span>	<span class="c">// 30 degrees</span>

<span class="kd">var</span> <span class="nx">math_rendering</span> <span class="o">=</span>
<span class="p">{</span>
	<span class="nx">drawString</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* int */</span>			<span class="nx">left</span><span class="o">,</span>
		<span class="c">/* int */</span>			<span class="nx">midline</span><span class="o">,</span>
		<span class="c">/* percentage */</span>	<span class="nx">font_size</span><span class="o">,</span>
		<span class="c">/* string */</span>		<span class="nx">s</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getLineHeight</span><span class="p">(</span><span class="nx">font_size</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">_setFont</span><span class="p">(</span><span class="nx">font_size</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;textBaseline&#39;</span><span class="o">,</span> <span class="s1">&#39;top&#39;</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="nx">s</span><span class="o">,</span> <span class="nx">left</span><span class="o">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">midline</span> <span class="o">-</span> <span class="nx">h</span><span class="o">/</span><span class="mi">2</span><span class="p">));</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getLineHeight</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* percentage */</span>	<span class="nx">font_size</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span><span class="mi">13</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">math_canvas</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;fontSize&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="nx">font_size</span><span class="o">/</span><span class="mf">100.0</span><span class="p">);</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getStringWidth</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* percentage */</span>	<span class="nx">font_size</span><span class="o">,</span>
		<span class="c">/* string */</span>		<span class="nx">text</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">_setFont</span><span class="p">(</span><span class="nx">font_size</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">measureText</span><span class="p">(</span><span class="nx">text</span><span class="p">).</span><span class="nx">width</span><span class="o">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
		<span class="k">return</span> <span class="nx">w</span><span class="o">;</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">_setFont</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* percentage */</span>	<span class="nx">font_size</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="o">,</span>
			<span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">math_canvas</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;fontSize&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="nx">font_size</span><span class="o">/</span><span class="mf">100.0</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;em &#39;</span> <span class="o">+</span>
			 <span class="k">this</span><span class="p">.</span><span class="nx">math_canvas</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;fontName&#39;</span><span class="p">));</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getSuperSubFontSize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* percentage */</span>	<span class="nx">font_size</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">font_size</span> <span class="o">*</span> <span class="mf">0.6</span><span class="o">;</span>
		<span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">v</span><span class="o">,</span> <span class="mi">40</span><span class="p">);</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getSuperscriptHeight</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* rect */</span>	<span class="nx">r</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">;</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getSubscriptDepth</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* rect */</span>	<span class="nx">r</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">;</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">drawSquareBrackets</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* rect */</span>	<span class="nx">r</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">bottom</span> <span class="o">-</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="o">;</span>
		<span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getSquareBracketWidth</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="o">;</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="mi">2</span><span class="o">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="p">(</span><span class="o">-</span><span class="nx">w</span><span class="o">,</span><span class="mi">0</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span><span class="nx">h</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="p">(</span><span class="nx">w</span><span class="o">,</span><span class="mi">0</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">right</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="p">(</span><span class="nx">w</span><span class="o">,</span><span class="mi">0</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span><span class="nx">h</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="p">(</span><span class="o">-</span><span class="nx">w</span><span class="o">,</span><span class="mi">0</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getSquareBracketWidth</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* rect */</span>	<span class="nx">r</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">bottom</span> <span class="o">-</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="o">;</span>
		<span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="p">((</span><span class="nx">h</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">));</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">drawParentheses</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* rect */</span>	<span class="nx">r</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">h</span>       <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">bottom</span> <span class="o">-</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="o">;</span>
		<span class="kd">var</span> <span class="nx">radius</span>  <span class="o">=</span> <span class="nx">h</span><span class="o">/</span><span class="p">(</span><span class="mf">2.0</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">paren_angle</span><span class="p">));</span>
		<span class="kd">var</span> <span class="nx">radius1</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">radius</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">yc</span>      <span class="o">=</span> <span class="nx">RectList</span><span class="p">.</span><span class="nx">ycenter</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">pw</span>      <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getParenthesisWidth</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">left</span> <span class="o">-</span> <span class="nx">pw</span> <span class="o">+</span> <span class="nx">radius</span><span class="o">,</span> <span class="nx">yc</span><span class="o">,</span> <span class="nx">radius1</span><span class="o">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">-</span><span class="nx">paren_angle</span><span class="o">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">+</span><span class="nx">paren_angle</span><span class="o">,</span> <span class="kc">false</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">right</span> <span class="o">+</span> <span class="nx">pw</span> <span class="o">-</span> <span class="nx">radius</span><span class="o">,</span> <span class="nx">yc</span><span class="o">,</span> <span class="nx">radius1</span><span class="o">,</span> <span class="nx">paren_angle</span><span class="o">,</span> <span class="o">-</span><span class="nx">paren_angle</span><span class="o">,</span> <span class="kc">true</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getParenthesisWidth</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* rect */</span>	<span class="nx">r</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">bottom</span> <span class="o">-</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="o">;</span>
		<span class="k">return</span> <span class="mi">2</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="mf">0.5</span> <span class="o">+</span> <span class="p">(</span><span class="nx">h</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">paren_angle</span><span class="p">)))</span><span class="o">/</span><span class="p">(</span><span class="mf">2.0</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">paren_angle</span><span class="p">)));</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">drawVerticalBar</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* rect */</span>	<span class="nx">r</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">bottom</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getVerticalBarWidth</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="mi">3</span><span class="o">;</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">drawHorizontalBar</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span>
		<span class="c">/* rect */</span>	<span class="nx">r</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">left</span><span class="o">,</span> <span class="nx">y</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">right</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="nx">y</span><span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
	<span class="p">}</span><span class="o">,</span>

	<span class="nx">getHorizontalBarHeight</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="mi">3</span><span class="o">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="nx">MathParser</span><span class="p">.</span><span class="nx">yy</span><span class="p">.</span><span class="nx">MathFunction</span> <span class="o">=</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">MathFunction</span><span class="o">;</span>

<span class="nx">Y</span><span class="p">.</span><span class="nx">MathCanvas</span>          <span class="o">=</span> <span class="nx">MathCanvas</span><span class="o">;</span>
<span class="nx">Y</span><span class="p">.</span><span class="nx">MathCanvas</span><span class="p">.</span><span class="nx">RectList</span> <span class="o">=</span> <span class="nx">RectList</span><span class="o">;</span>
<span class="nx">Y</span><span class="p">.</span><span class="nx">MathCanvas</span><span class="p">.</span><span class="nx">Parser</span>   <span class="o">=</span> <span class="nx">MathParser</span><span class="o">;</span>

<span class="c">/**********************************************************************</span>
<span class="c"> * Parser used to convert a string expression into Y.MathFunction</span>
<span class="c"> * </span>
<span class="c"> * @namespace MathCanvas</span>
<span class="c"> * @class Parser</span>
<span class="c"> */</span>

<span class="c">/**</span>
<span class="c"> * Parses a string into a Y.MathFunction.</span>
<span class="c"> * </span>
<span class="c"> * @method parse</span>
<span class="c"> * @static</span>
<span class="c"> * @param expr {String} expression to parse</span>
<span class="c"> * @return {MathFunction}</span>
<span class="c"> */</span>
</pre></div>

                    </div>
			</div>
		</div>
		<div class="yui-b">
            <div class="nav">

                    <div id="moduleList" class="module">
                        <h4>Modules</h4>
                        <ul class="content">
                                <li class=""><a href="module_gallery-accordion-horiz-vert.html" title="gallery-accordion-horiz-vert">gallery-accordion-horiz-vert</a></li>
                                <li class=""><a href="module_gallery-algorithms.html" title="gallery-algorithms">gallery-algorithms</a></li>
                                <li class=""><a href="module_gallery-bulkedit.html" title="gallery-bulkedit">gallery-bulkedit</a></li>
                                <li class=""><a href="module_gallery-busyoverlay.html" title="gallery-busyoverlay">gallery-busyoverlay</a></li>
                                <li class=""><a href="module_gallery-canvas.html" title="gallery-canvas">gallery-canvas</a></li>
                                <li class=""><a href="module_gallery-checkboxgroups.html" title="gallery-checkboxgroups">gallery-checkboxgroups</a></li>
                                <li class=""><a href="module_gallery-chipper.html" title="gallery-chipper">gallery-chipper</a></li>
                                <li class=""><a href="module_gallery-complexnumber.html" title="gallery-complexnumber">gallery-complexnumber</a></li>
                                <li class=""><a href="module_gallery-console-test.html" title="gallery-console-test">gallery-console-test</a></li>
                                <li class=""><a href="module_gallery-exprbuilder.html" title="gallery-exprbuilder">gallery-exprbuilder</a></li>
                                <li class=""><a href="module_gallery-formmgr.html" title="gallery-formmgr">gallery-formmgr</a></li>
                                <li class=""><a href="module_gallery-formmgr-css-validation.html" title="gallery-formmgr-css-validation">gallery-formmgr-css-validation</a></li>
                                <li class=""><a href="module_gallery-formmgr-overlay-plugin.html" title="gallery-formmgr-overlay-plugin">gallery-formmgr-overlay-plugin</a></li>
                                <li class=""><a href="module_gallery-instancemanager.html" title="gallery-instancemanager">gallery-instancemanager</a></li>
                                <li class=""><a href="module_gallery-math.html" title="gallery-math">gallery-math</a></li>
                                <li class="selected"><a href="module_gallery-mathcanvas.html" title="gallery-mathcanvas">gallery-mathcanvas</a></li>
                                <li class=""><a href="module_gallery-multiobject.html" title="gallery-multiobject">gallery-multiobject</a></li>
                                <li class=""><a href="module_gallery-neon.html" title="gallery-neon">gallery-neon</a></li>
                                <li class=""><a href="module_gallery-paginator.html" title="gallery-paginator">gallery-paginator</a></li>
                                <li class=""><a href="module_gallery-querybuilder.html" title="gallery-querybuilder">gallery-querybuilder</a></li>
                                <li class=""><a href="module_gallery-quickedit.html" title="gallery-quickedit">gallery-quickedit</a></li>
                                <li class=""><a href="module_gallery-test-extras.html" title="gallery-test-extras">gallery-test-extras</a></li>
                                <li class=""><a href="module_gallery-treeble.html" title="gallery-treeble">gallery-treeble</a></li>
                                <li class=""><a href="module_io.html" title="io">io</a></li>
                                <li class=""><a href="module_node.html" title="node">node</a></li>
                        </ul>
                    </div>

                    <div id="classList" class="module">
                        <h4>Classes</h4>
                        <ul class="content">
                                <li class=""><a href="MathCanvas.html" title="MathCanvas">MathCanvas</a></li>
                                <li class=""><a href="MathCanvas.Parser.html" title="MathCanvas.Parser">MathCanvas.Parser</a></li>
                                <li class=""><a href="MathCanvas.RectList.html" title="MathCanvas.RectList">MathCanvas.RectList</a></li>
                                <li class=""><a href="MathFunction.html" title="MathFunction">MathFunction</a></li>
                                <li class=""><a href="MathFunction.Arccosine.html" title="MathFunction.Arccosine">MathFunction.Arccosine</a></li>
                                <li class=""><a href="MathFunction.Arcsine.html" title="MathFunction.Arcsine">MathFunction.Arcsine</a></li>
                                <li class=""><a href="MathFunction.Arctangent.html" title="MathFunction.Arctangent">MathFunction.Arctangent</a></li>
                                <li class=""><a href="MathFunction.Arctangent2.html" title="MathFunction.Arctangent2">MathFunction.Arctangent2</a></li>
                                <li class=""><a href="MathFunction.Conjugate.html" title="MathFunction.Conjugate">MathFunction.Conjugate</a></li>
                                <li class=""><a href="MathFunction.Cosine.html" title="MathFunction.Cosine">MathFunction.Cosine</a></li>
                                <li class=""><a href="MathFunction.E.html" title="MathFunction.E">MathFunction.E</a></li>
                                <li class=""><a href="MathFunction.Exponential.html" title="MathFunction.Exponential">MathFunction.Exponential</a></li>
                                <li class=""><a href="MathFunction.FunctionWithArgs.html" title="MathFunction.FunctionWithArgs">MathFunction.FunctionWithArgs</a></li>
                                <li class=""><a href="MathFunction.HyperbolicCosine.html" title="MathFunction.HyperbolicCosine">MathFunction.HyperbolicCosine</a></li>
                                <li class=""><a href="MathFunction.HyperbolicSine.html" title="MathFunction.HyperbolicSine">MathFunction.HyperbolicSine</a></li>
                                <li class=""><a href="MathFunction.HyperbolicTangent.html" title="MathFunction.HyperbolicTangent">MathFunction.HyperbolicTangent</a></li>
                                <li class=""><a href="MathFunction.I.html" title="MathFunction.I">MathFunction.I</a></li>
                                <li class=""><a href="MathFunction.ImaginaryPart.html" title="MathFunction.ImaginaryPart">MathFunction.ImaginaryPart</a></li>
                                <li class=""><a href="MathFunction.InverseHyperbolicCosine.html" title="MathFunction.InverseHyperbolicCosine">MathFunction.InverseHyperbolicCosine</a></li>
                                <li class=""><a href="MathFunction.InverseHyperbolicSine.html" title="MathFunction.InverseHyperbolicSine">MathFunction.InverseHyperbolicSine</a></li>
                                <li class=""><a href="MathFunction.InverseHyperbolicTangent.html" title="MathFunction.InverseHyperbolicTangent">MathFunction.InverseHyperbolicTangent</a></li>
                                <li class=""><a href="MathFunction.Logarithm.html" title="MathFunction.Logarithm">MathFunction.Logarithm</a></li>
                                <li class=""><a href="MathFunction.Magnitude.html" title="MathFunction.Magnitude">MathFunction.Magnitude</a></li>
                                <li class=""><a href="MathFunction.Max.html" title="MathFunction.Max">MathFunction.Max</a></li>
                                <li class=""><a href="MathFunction.Min.html" title="MathFunction.Min">MathFunction.Min</a></li>
                                <li class=""><a href="MathFunction.NaturalLog.html" title="MathFunction.NaturalLog">MathFunction.NaturalLog</a></li>
                                <li class=""><a href="MathFunction.Negate.html" title="MathFunction.Negate">MathFunction.Negate</a></li>
                                <li class=""><a href="MathFunction.Phase.html" title="MathFunction.Phase">MathFunction.Phase</a></li>
                                <li class=""><a href="MathFunction.Pi.html" title="MathFunction.Pi">MathFunction.Pi</a></li>
                                <li class=""><a href="MathFunction.Product.html" title="MathFunction.Product">MathFunction.Product</a></li>
                                <li class=""><a href="MathFunction.Quotient.html" title="MathFunction.Quotient">MathFunction.Quotient</a></li>
                                <li class=""><a href="MathFunction.RealPart.html" title="MathFunction.RealPart">MathFunction.RealPart</a></li>
                                <li class=""><a href="MathFunction.Rotate.html" title="MathFunction.Rotate">MathFunction.Rotate</a></li>
                                <li class=""><a href="MathFunction.Sine.html" title="MathFunction.Sine">MathFunction.Sine</a></li>
                                <li class=""><a href="MathFunction.SquareRoot.html" title="MathFunction.SquareRoot">MathFunction.SquareRoot</a></li>
                                <li class=""><a href="MathFunction.Sum.html" title="MathFunction.Sum">MathFunction.Sum</a></li>
                                <li class=""><a href="MathFunction.Tangent.html" title="MathFunction.Tangent">MathFunction.Tangent</a></li>
                                <li class=""><a href="MathFunction.Value.html" title="MathFunction.Value">MathFunction.Value</a></li>
                                <li class=""><a href="MathFunction.Variable.html" title="MathFunction.Variable">MathFunction.Variable</a></li>
                        </ul>
                    </div>

                    <div id="fileList" class="module">
                        <h4>Files</h4>
                        <ul class="content">        
                                <li class=""><a href="Arccosine.js.html" title="Arccosine.js">Arccosine.js</a></li>
                                <li class=""><a href="Arcsine.js.html" title="Arcsine.js">Arcsine.js</a></li>
                                <li class=""><a href="Arctangent.js.html" title="Arctangent.js">Arctangent.js</a></li>
                                <li class=""><a href="Arctangent2.js.html" title="Arctangent2.js">Arctangent2.js</a></li>
                                <li class=""><a href="Conjugate.js.html" title="Conjugate.js">Conjugate.js</a></li>
                                <li class=""><a href="Cosine.js.html" title="Cosine.js">Cosine.js</a></li>
                                <li class=""><a href="E.js.html" title="E.js">E.js</a></li>
                                <li class=""><a href="Exponential.js.html" title="Exponential.js">Exponential.js</a></li>
                                <li class=""><a href="FunctionWithArgs.js.html" title="FunctionWithArgs.js">FunctionWithArgs.js</a></li>
                                <li class=""><a href="HyperbolicCosine.js.html" title="HyperbolicCosine.js">HyperbolicCosine.js</a></li>
                                <li class=""><a href="HyperbolicSine.js.html" title="HyperbolicSine.js">HyperbolicSine.js</a></li>
                                <li class=""><a href="HyperbolicTangent.js.html" title="HyperbolicTangent.js">HyperbolicTangent.js</a></li>
                                <li class=""><a href="I.js.html" title="I.js">I.js</a></li>
                                <li class=""><a href="ImaginaryPart.js.html" title="ImaginaryPart.js">ImaginaryPart.js</a></li>
                                <li class=""><a href="InverseHyperbolicCosine.js.html" title="InverseHyperbolicCosine.js">InverseHyperbolicCosine.js</a></li>
                                <li class=""><a href="InverseHyperbolicSine.js.html" title="InverseHyperbolicSine.js">InverseHyperbolicSine.js</a></li>
                                <li class=""><a href="InverseHyperbolicTangent.js.html" title="InverseHyperbolicTangent.js">InverseHyperbolicTangent.js</a></li>
                                <li class=""><a href="Logarithm.js.html" title="Logarithm.js">Logarithm.js</a></li>
                                <li class=""><a href="Magnitude.js.html" title="Magnitude.js">Magnitude.js</a></li>
                                <li class="selected"><a href="MathCanvas.js.html" title="MathCanvas.js">MathCanvas.js</a></li>
                                <li class=""><a href="MathFunction.js.html" title="MathFunction.js">MathFunction.js</a></li>
                                <li class=""><a href="MathParser.js.html" title="MathParser.js">MathParser.js</a></li>
                                <li class=""><a href="Max.js.html" title="Max.js">Max.js</a></li>
                                <li class=""><a href="Min.js.html" title="Min.js">Min.js</a></li>
                                <li class=""><a href="NaturalLog.js.html" title="NaturalLog.js">NaturalLog.js</a></li>
                                <li class=""><a href="Negate.js.html" title="Negate.js">Negate.js</a></li>
                                <li class=""><a href="Phase.js.html" title="Phase.js">Phase.js</a></li>
                                <li class=""><a href="Pi.js.html" title="Pi.js">Pi.js</a></li>
                                <li class=""><a href="Product.js.html" title="Product.js">Product.js</a></li>
                                <li class=""><a href="Quotient.js.html" title="Quotient.js">Quotient.js</a></li>
                                <li class=""><a href="RealPart.js.html" title="RealPart.js">RealPart.js</a></li>
                                <li class=""><a href="RectList.js.html" title="RectList.js">RectList.js</a></li>
                                <li class=""><a href="Rotate.js.html" title="Rotate.js">Rotate.js</a></li>
                                <li class=""><a href="Sine.js.html" title="Sine.js">Sine.js</a></li>
                                <li class=""><a href="SquareRoot.js.html" title="SquareRoot.js">SquareRoot.js</a></li>
                                <li class=""><a href="Sum.js.html" title="Sum.js">Sum.js</a></li>
                                <li class=""><a href="Tangent.js.html" title="Tangent.js">Tangent.js</a></li>
                                <li class=""><a href="Value.js.html" title="Value.js">Value.js</a></li>
                                <li class=""><a href="Variable.js.html" title="Variable.js">Variable.js</a></li>
                        </ul>
                    </div>





            </div>
		</div>
	</div>
	<div id="ft">
        <hr />
        Copyright &copy; 2011 Yahoo! Inc. All rights reserved.
	</div>
</div>
<script type="text/javascript">

    var ALL_YUI_PROPS = [{"url": "MathCanvas.RectList.html#method_add", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "add"}, {"url": "MathFunction.FunctionWithArgs.html#method_appendArg", "access": "", "host": "MathFunction.FunctionWithArgs", "type": "method", "name": "appendArg"}, {"url": "MathCanvas.RectList.html#method_area", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "area"}, {"url": "MathCanvas.RectList.html#method_containsPt", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "containsPt"}, {"url": "MathCanvas.RectList.html#method_containsRect", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "containsRect"}, {"url": "MathCanvas.RectList.html#method_cover", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "cover"}, {"url": "MathCanvas.html#method_deleteFunction", "access": "", "host": "MathCanvas", "type": "method", "name": "deleteFunction"}, {"url": "MathCanvas.html#method_deleteSelection", "access": "", "host": "MathCanvas", "type": "method", "name": "deleteSelection"}, {"url": "MathFunction.html#method_evaluate", "access": "", "host": "MathFunction", "type": "method", "name": "evaluate"}, {"url": "MathFunction.FunctionWithArgs.html#method_evaluateArgs", "access": "protected", "host": "MathFunction.FunctionWithArgs", "type": "method", "name": "evaluateArgs"}, {"url": "MathCanvas.html#method_expandSelection", "access": "", "host": "MathCanvas", "type": "method", "name": "expandSelection"}, {"url": "MathCanvas.RectList.html#method_find", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "find"}, {"url": "MathCanvas.RectList.html#method_findIndex", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "findIndex"}, {"url": "MathCanvas.html#config_fontName", "access": "", "host": "MathCanvas", "type": "config", "name": "fontName"}, {"url": "MathCanvas.html#config_fontSize", "access": "", "host": "MathCanvas", "type": "config", "name": "fontSize"}, {"url": "MathCanvas.html#config_func", "access": "", "host": "MathCanvas", "type": "config", "name": "func"}, {"url": "MathCanvas.RectList.html#method_get", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "get"}, {"url": "MathFunction.FunctionWithArgs.html#method_getArg", "access": "", "host": "MathFunction.FunctionWithArgs", "type": "method", "name": "getArg"}, {"url": "MathFunction.FunctionWithArgs.html#method_getArgCount", "access": "", "host": "MathFunction.FunctionWithArgs", "type": "method", "name": "getArgCount"}, {"url": "MathCanvas.RectList.html#method_getBounds", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "getBounds"}, {"url": "MathFunction.html#method_getParent", "access": "", "host": "MathFunction", "type": "method", "name": "getParent"}, {"url": "MathCanvas.RectList.html#method_getParent", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "getParent"}, {"url": "MathCanvas.RectList.html#method_getSelection", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "getSelection"}, {"url": "MathCanvas.RectList.html#method_height", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "height"}, {"url": "MathCanvas.html#method_hideKeyboard", "access": "", "host": "MathCanvas", "type": "method", "name": "hideKeyboard"}, {"url": "MathCanvas.html#config_minHeight", "access": "", "host": "MathCanvas", "type": "config", "name": "minHeight"}, {"url": "MathCanvas.html#config_minWidth", "access": "", "host": "MathCanvas", "type": "config", "name": "minWidth"}, {"url": "MathFunction.html#method_parenthesizeForPrint", "access": "protected", "host": "MathFunction", "type": "method", "name": "parenthesizeForPrint"}, {"url": "MathFunction.html#method_parenthesizeForRender", "access": "protected", "host": "MathFunction", "type": "method", "name": "parenthesizeForRender"}, {"url": "MathCanvas.Parser.html#method_parse", "access": "", "host": "MathCanvas.Parser", "type": "method", "name": "parse"}, {"url": "MathFunction.html#method_prepareToRender", "access": "", "host": "MathFunction", "type": "method", "name": "prepareToRender"}, {"url": "MathFunction.FunctionWithArgs.html#method__printArg", "access": "protected", "host": "MathFunction.FunctionWithArgs", "type": "method", "name": "_printArg"}, {"url": "MathFunction.FunctionWithArgs.html#method_removeArg", "access": "", "host": "MathFunction.FunctionWithArgs", "type": "method", "name": "removeArg"}, {"url": "MathFunction.html#method_render", "access": "", "host": "MathFunction", "type": "method", "name": "render"}, {"url": "MathFunction.FunctionWithArgs.html#method_replaceArg", "access": "", "host": "MathFunction.FunctionWithArgs", "type": "method", "name": "replaceArg"}, {"url": "MathCanvas.RectList.html#method_setMidline", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "setMidline"}, {"url": "MathCanvas.RectList.html#method_shift", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "shift"}, {"url": "MathCanvas.html#method_showKeyboard", "access": "", "host": "MathCanvas", "type": "method", "name": "showKeyboard"}, {"url": "MathFunction.html#method_toString", "access": "", "host": "MathFunction", "type": "method", "name": "toString"}, {"url": "MathCanvas.RectList.html#method_width", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "width"}, {"url": "MathCanvas.RectList.html#method_xcenter", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "xcenter"}, {"url": "MathCanvas.RectList.html#method_ycenter", "access": "", "host": "MathCanvas.RectList", "type": "method", "name": "ycenter"}];
</script>
</body>
</html>
