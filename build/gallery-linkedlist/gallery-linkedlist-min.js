YUI.add("gallery-linkedlist",function(e){function c(f){this.value=f;this._prev=this._next=null;}c.prototype={prev:function(){return this._prev;},next:function(){return this._next;}};e.LinkedListItem=c;function a(f){this._list=f;this._next=f._head;this._at_end=false;}a.prototype={atBeginning:function(){return(!this._next||(!this._at_end&&!this._next._prev));},atEnd:function(){return(!this._next||this._at_end);},next:function(){if(this._at_end){return;}var f=this._next;if(this._next&&this._next._next){this._next=this._next._next;}else{this._at_end=true;}if(f){return f.value;}},prev:function(){var f;if(this._at_end){this._at_end=false;f=this._next;}else{if(this._next){f=this._next._prev;if(f){this._next=f;}}}if(f){return f.value;}},insert:function(f){if(this._at_end||!this._next){this._next=this._list.append(f);}else{this._next=this._list.insertBefore(f,this._next);}return this._next;},removeNext:function(){var f;if(this._next&&!this._at_end){f=this._next;if(this._next&&this._next._next){this._next=this._next._next;}else{this._next=this._next?this._next._prev:null;this._at_end=true;}}if(f){this._list.remove(f);return f;}},removePrev:function(){var f;if(this._at_end){f=this._next;if(this._next){this._next=this._next._prev;}}else{if(this._next){f=this._next._prev;}}if(f){this._list.remove(f);return f;}}};e.LinkedListIterator=a;function d(f){this._head=this._tail=null;if(arguments.length>1){f=e.Array(arguments);}else{if(!e.Lang.isUndefined(f)&&!e.Array.test(f)){f=e.Array(f);}}if(!e.Lang.isUndefined(f)){e.each(f,function(g){this.append(g);},this);}}function b(f){if(f instanceof c){this.remove(f);}else{f=new c(f);}return f;}d.prototype={isEmpty:function(){return(!this._head&&!this._tail);},size:function(){var g=0,f=this._head;while(f){g++;f=f._next;}return g;},clear:function(){this._head=this._tail=null;},insertBefore:function(g,f){g=b.call(this,g);g._prev=f._prev;g._next=f;if(f._prev){f._prev._next=g;}else{this._head=g;}f._prev=g;return g;},insertAfter:function(f,g){g=b.call(this,g);g._prev=f;g._next=f._next;if(f._next){f._next._prev=g;}else{this._tail=g;}f._next=g;return g;},prepend:function(f){f=b.call(this,f);if(this.isEmpty()){this._head=this._tail=f;}else{this.insertBefore(f,this._head);}return f;},append:function(f){f=b.call(this,f);if(this.isEmpty()){this._head=this._tail=f;}else{this.insertAfter(this._tail,f);}return f;},remove:function(f){if(f._prev){f._prev._next=f._next;}else{if(f===this._head){this._head=f._next;if(f._next){f._next._prev=null;}}}if(f._next){f._next._prev=f._prev;}else{if(f===this._tail){this._tail=f._prev;if(f._prev){f._prev._next=null;}}}f._prev=f._next=null;},each:function(k,l){var g=new a(this),j,h=0;while(j=g.next()){k.call(l,j.value,h,this);}},every:function(k,l){var g=new a(this),j,h=0;while(j=g.next()){if(!k.call(l,j.value,h,this)){return false;}}return true;},some:function(k,l){var g=new a(this),j,h=0;while(j=g.next()){if(k.call(l,j.value,h,this)){return true;}}return false;}};e.LinkedList=d;},"@VERSION@",{optional:["gallery-funcprog"]});