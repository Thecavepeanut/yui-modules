YUI.add("gallery-complexnumber",function(c){function b(e,d){this.r=e;this.i=d;}b.fromPolar=function(e,d){return new b(e*Math.cos(d),e*Math.sin(d));};b.prototype={real:function(){return this.r;},imag:function(){return this.i;},magnitude:function(){return a.abs(this);},phase:function(){return Math.atan2(this.i,this.r);},add:function(d){if(a.isComplexNumber(d)){this.r+=d.r;this.i+=d.i;}else{this.r+=d;}},subtract:function(d){if(a.isComplexNumber(d)){this.r-=d.r;this.i-=d.i;}else{this.r-=d;}},multiply:function(d){if(a.isComplexNumber(d)){var f=this.r*d.r-this.i*d.i;var e=this.r*d.i+this.i*d.r;this.r=f;this.i=e;}else{this.r*=d;this.i*=d;}},divide:function(e){if(a.isComplexNumber(e)){var d=a.divide(this,e);this.r=d.r;this.i=d.i;}else{this.r/=e;this.i/=e;}},toString:function(){if(this.i===0){return this.r.toString();}else{if(this.r===0){return this.i+"i";}else{return this.r+"+"+this.i+"i";}}}};c.ComplexNumber=b;var a={I:new b(0,1),isComplexNumber:function(d){return((d instanceof b)||(d.hasOwnProperty("r")&&d.hasOwnProperty("i")));},add:function(){var d=new b(0,0);c.Array.each(arguments,function(e){d.add(e);});return(d.i===0?d.r:d);},subtract:function(g,f){var e=a.isComplexNumber(g),d=a.isComplexNumber(f);if(e&&d){return new b(g.r-f.r,g.i-f.i);}else{if(e){return new b(g.r-f,g.i);}else{if(d){return new b(g-f.r,-f.i);}else{return g-f;}}}},multiply:function(){var d=new b(1,0);c.Array.each(arguments,function(e){d.multiply(e);});return(d.i===0?d.r:d);},divide:function(i,h){var f=a.isComplexNumber(i),e=a.isComplexNumber(h);if(f&&e){var g=h.r*h.r+h.i*h.i;return new b((i.r*h.r+i.i*h.i)/g,(i.i*h.r-i.r*h.i)/g);}else{if(f){return new b(i.r/h,i.i/h);}else{if(e){var g=h.r*h.r+h.i*h.i;return new b((i*h.r)/g,(-i*h.i)/g);}else{return i/h;}}}},abs:function(d){if(a.isComplexNumber(d)){return Math.sqrt(d.r*d.r+d.i*d.i);}else{return Math.abs(d);}},cos:function(d){if(a.isComplexNumber(d)){return new b(Math.cos(d.r)*Math.cosh(d.i),-Math.sin(d.r)*Math.sinh(d.i));}else{return Math.cos(d);}},parallel:function(e,d){if(a.isComplexNumber(e)||a.isComplexNumber(d)){return a.divide(a.multiply(e,d),a.add(e,d));}else{return Math.parallel(e,d);}},pow:function(d,f){if(a.isComplexNumber(d)||a.isComplexNumber(f)){return b.fromPolar(Math.pow(d.magnitude(),f),d.phase()*f);}else{return Math.pow(d,f);}},sin:function(d){if(a.isComplexNumber(d)){return new b(Math.sin(d.r)*Math.cosh(d.i),Math.cos(d.r)*Math.sinh(d.i));}else{return Math.cos(d);}},sqrt:function(d){return v1.i===0?v1.r:v1;},tan:function(d){if(a.isComplexNumber(d)){return a.divide(a.sin(d),a.cos(d));}else{return Math.tan(d);}}};c.ComplexMath=a;},"@VERSION@",{requires:["gallery-math"]});