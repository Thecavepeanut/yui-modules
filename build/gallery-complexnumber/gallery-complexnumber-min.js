YUI.add("gallery-complexnumber",function(e,t){"use strict";function n(e,t){this.r=e||0,this.i=t||0}function r(e){if(e===i.ZERO||e===i.I)throw Error("You cannot modify ZERO or I")}n.fromPolar=function(e,t){return new n(e*Math.cos(t),e*Math.sin(t))},n.prototype={real:function(){return this.r},imag:function(){return this.i},magnitude:function(){return Math.sqrt(this.r*this.r+this.i*this.i)},phase:function(){return Math.atan2(this.i,this.r)},add:function(e){return r(this),i.isComplexNumber(e)?(this.r+=e.r,this.i+=e.i):this.r+=e,this},subtract:function(e){return r(this),i.isComplexNumber(e)?(this.r-=e.r,this.i-=e.i):this.r-=e,this},multiply:function(e){r(this);if(i.isComplexNumber(e)){var t=this.r*e.r-this.i*e.i,n=this.r*e.i+this.i*e.r;this.r=t,this.i=n}else this.r*=e,this.i*=e;return this},divide:function(e){r(this);if(i.isComplexNumber(e)){var t=i.divide(this,e);this.r=t.r,this.i=t.i}else this.r/=e,this.i/=e;return this},negate:function(){return r(this),this.r=-this.r,this.i=-this.i,this},conjugate:function(){return r(this),this.i=-this.i,this},rotate:function(e){return r(this),this.multiply(n.fromPolar(1,e)),this},toString:function(){function e(e){return e===1?"i":e===-1?"-i":e+"i"}return this.i===0?this.r.toString():this.r===0?e(this.i):this.r+(this.i>0?"+":"")+e(this.i)}},e.ComplexNumber=n;var i={ZERO:new n,I:new n(0,1),isComplexNumber:function(e){return e instanceof n||e.hasOwnProperty("r")&&e.hasOwnProperty("i")},add:function(){var t=new n;return e.Array.each(arguments,function(n){e.Lang.isArray(n)&&(n=i.add.apply(this,n)),t.add(n)}),t},addReciprocals:function(){var t=new n;return e.Array.each(arguments,function(n){e.Lang.isArray(n)?t.add(i.addReciprocals.apply(this,n)):t.add(i.divide(1,n))}),t},parallel:function(){return i.divide(1,i.addReciprocals.apply(this,arguments))},subtract:function(e,t){var r=i.isComplexNumber(e),s=i.isComplexNumber(t);return r&&s?new n(e.r-t.r,e.i-t.i):r?new n(e.r-t,e.i):s?new n(e-t.r,-t.i):new n(e-t,0)},multiply:function(){var t=new n(1,0);return e.Array.each(arguments,function(n){e.Lang.isArray(n)&&(n=i.multiply.apply(this,n)),t.multiply(n)}),t},divide:function(e,t){var r=i.isComplexNumber(e),s=i.isComplexNumber(t);if(r&&s){var o=t.r*t.r+t.i*t.i;return new n((e.r*t.r+e.i*t.i)/o,(e.i*t.r-e.r*t.i)/o)}if(r)return new n(e.r/t,e.i/t);if(s){var o=t.r*t.r+t.i*t.i;return new n(e*t.r/o,-e*t.i/o)}return new n(e/t,0)},negative:function(e){return i.isComplexNumber(e)?new n(-e.r,-e.i):new n(-e,0)},abs:function(e){return i.isComplexNumber(e)?new n(Math.sqrt(e.r*e.r+e.i*e.i),0):new n(Math.abs(e),0)},phase:function(e){return i.isComplexNumber(e)?new n(Math.atan2(e.i,e.r),0):new n},conjugate:function(e){return i.isComplexNumber(e)?new n(e.r,-e.i):new n(e,0)},rotate:function(e,t){return i.multiply(e,n.fromPolar(1,t))},acosh:function(e){return i.isComplexNumber(e)?i.log(i.add(e,i.multiply(i.sqrt(new n(e.r+1,e.i)),i.sqrt(new n(e.r-1,e.i))))):new n(Math.acosh(e),0)},asinh:function(e){if(i.isComplexNumber(e)){var t=i.multiply(e,e);return i.log(i.add(e,i.sqrt(new n(t.r+1,t.i))))}return new n(Math.asinh(e),0)},atanh:function(e){if(i.isComplexNumber(e)){var t=i.subtract(i.log(new n(1+e.r,e.i)),i.log(new n(1-e.r,-e.i)));return new n(t.r/2,t.i/2)}return new n(Math.atanh(e),0)},cos:function(e){return i.isComplexNumber(e)?new n(Math.cos(e.r)*Math.cosh(e.i),-Math.sin(e.r)*Math.sinh(e.i)):new n(Math.cos(e),0)},cosh:function(e){if(i.isComplexNumber(e)){var t=i.add(i.exp(e),i.exp(new n(-e.r,-e.i)));return new n(t.r/2,t.i/2)}return new n(Math.cosh(e),0)},exp:function(e){if(i.isComplexNumber(e)){var t=new n(Math.cos(e.i),Math.sin(e.i));return t.multiply(Math.exp(e.r)),t}return new n(Math.exp(e),0)},log:function(e){return i.isComplexNumber(e)?new n(Math.log(e.magnitude()),e.phase()):new n(Math.log(e),0)},pow:function(e,t){var r=i.isComplexNumber(e);if(r&&e.r===0&&e.i===0||!r&&e===0){var s=i.isComplexNumber(t);return s&&t.r===0&&t.i===0||!s&&t===0?new n(1):new n}return i.exp(i.multiply(i.log(e),t))},sin:function(e){return i.isComplexNumber(e)?new n(Math.sin(e.r)*Math.cosh(e.i),Math.cos(e.r)*Math.sinh(e.i)):new n(Math.sin(e),0)},sinh:function(e){if(i.isComplexNumber(e)){var t=i.subtract(i.exp(e),i.exp(new n(-e.r,-e.i)));return new n(t.r/2,t.i/2)}return new n(Math.sinh(e),0)},sqrt:function(e){var t=i.isComplexNumber(e);return n.fromPolar(Math.sqrt(t?e.magnitude():Math.abs(e)),(t?e.phase():e<0?Math.PI:0)/2)},tan:function(e){return i.isComplexNumber(e)?i.divide(i.sin(e),i.cos(e)):new n(Math.tan(e),0)},tanh:function(e){if(i.isComplexNumber(e)){var t=i.exp(new n(2*e.r,2*e.i));return i.divide(new n(t.r-1,t.i),new n(t.r+1,t.i))}return new n(Math.tanh(e),0)}};e.ComplexMath=i},"@VERSION@",{requires:["gallery-math"]});
